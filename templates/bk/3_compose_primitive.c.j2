/*****************************************************/
/*    PRIMITIVE {{name}}            */
/*****************************************************/
// cpmpose primitive - id = {{metadata.primitive_id}} - {{metadata.primitive_name}} - {{name}}
{% if metadata.primitive_id == 4 or metadata.primitive_id == 3 %} {# BIT STRING 3+4#}
xnap_return_et e2ap_compose_{{name}}(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_{{name}}  *p_dest,//dest
                        _e2ap_{{name}}_t  *p_src//src
)
{
    //memcpy(p_dest->data, p_src->data, sizeof(p_src->data));
    XNAP_MEMCPY(p_dest->data, p_src->data, sizeof(p_src->data));
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
{% endif %} {# end BIT STRING 3+4#}
{% if  metadata.primitive_id == 2 %} {# BIT STRING 2#}
xnap_return_et e2ap_compose_{{name}}(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_{{name}}  *p_dest,//dest
                        _e2ap_{{name}}_t  *p_src//src
)
{
    p_dest->numbits = E2AP_XXX;
    p_dest->data = (OSOCTET*)rtxMemAllocZ(p_asn1_ctx, E2AP{{name}}_OCTET_SIZE);// dungnm23 check nhe
    if(p_dest->data == NULL)
    {
        XNAP_TRACE(XNAP_ERROR, "dungnm23 %s memory allocation failed in e2ap_compose_{{name}}", __FUNCTION__);
        return XNAP_FAILURE;
    }
    XNAP_MEMCPY((void*)p_dest->data, p_src->data, {{(metadata.max +7)//8 }});

    return XNAP_SUCCESS;
}
{% endif %} {# end BIT STRING 2#}
{% if metadata.primitive_id == 5 or metadata.primitive_id == 6 %} {# INTEGER #}
xnap_return_et e2ap_compose_{{name}}(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_{{name}}  *p_dest,//dest
                        _e2ap_{{name}}_t  *p_src//src
)
{
    *p_dest = (e2ap_{{name}})*p_src;
    return XNAP_SUCCESS;
}
{% endif %} {# end INTEGER #}
{% if metadata.primitive_id == 13 %} {# ENUM #}
xnap_return_et e2ap_compose_{{name}}( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_{{name}}  *p_dest,//dest
                        _e2ap_{{name}}_et  *p_src//src
)
{
    *p_dest = (e2ap_{{name}})*p_src;
    return XNAP_SUCCESS;
}
{% endif %} {# end ENUM #}
{% if metadata.primitive_id == 8 %} {# OCTET STRING  SiZE N#}
xnap_return_et e2ap_compose_{{name}}(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_{{name}}  *p_dest,//dest
                        _e2ap_{{name}}_t  *p_src//src
)
{
    p_dest->numocts = {{name}}_MAX_BYTES;
    //memcpy(p_dest->data, p_src->data, p_src->numocts);
    XNAP_MEMCPY(p_dest->data, p_src->{{name}}, {{name}}_MAX_BYTES);
    return XNAP_SUCCESS;
}
{% endif %} {# end OCTET STRING SIZE N #}
{% if metadata.primitive_id == 10 %} {# Printable string #}
xnap_return_et e2ap_compose_{{name}}(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_{{name}}  *p_dest,//dest
                        _e2ap_{{name}}_t  *p_src//src
)
{
// ch∆∞a xong
    *p_dest = * p_src;
    return XNAP_SUCCESS;
}
{% endif %} {# end Printable string #}


