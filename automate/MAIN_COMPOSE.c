#include "MAIN_COMPOSE.h"

/*****************************************************/
/*    PRIMITIVE TransactionID            */
/*****************************************************/
// cpmpose primitive - id = 5 - INTEGER (0..255,...) - TransactionID
  xnap_return_et e2ap_compose_TransactionID(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_TransactionID  *p_dest,//dest
                        _e2ap_TransactionID_t  *p_src//src
)
{
    *p_dest = (e2ap_TransactionID)*p_src;
    return XNAP_SUCCESS;
}
    
/************************************************************/
/*      SEQUENCE TNLinformation                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */
     // id = 2 - BIT STRING (SIZE(1..160,...)) - tnlAddress
           
     // id = 3 - BIT STRING (SIZE(16)) - tnlPort
 xnap_return_et e2ap_compose_TNLinformation_tnlPort(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_TNLinformation_tnlPort                 *p_dest,//dest
                     _e2ap_TNLinformation_tnlPort_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
          


/* 2 - compose sequence */
xnap_return_et e2ap_compose_TNLinformation(
                OSCTXT                        *p_asn1_ctx,
                e2ap_TNLinformation                 *p_e2ap_TNLinformation, //dest
                _e2ap_TNLinformation_t              *p_TNLinformation //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode tnlAddress alias-id = -1 - primitive = True*/
        /*==primitive in scope==*/
        if(XNAP_FAILURE == e2ap_compose_TNLinformation_tnlAddress(p_asn1_ctx,
                                                &p_e2ap_TNLinformation->tnlAddress,
                                                &p_TNLinformation->tnlAddress))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field tnlAddress",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode tnlAddress*/

    {  /*SEQ_ELEM-2  Encode tnlPort alias-id = -1 - primitive = True*/
        /*==primitive in scope==*/
        if(XNAP_FAILURE == e2ap_compose_TNLinformation_tnlPort(p_asn1_ctx,
                                                &p_e2ap_TNLinformation->tnlPort,
                                                &p_TNLinformation->tnlPort))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field tnlPort",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode tnlPort*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/*****************************************************/
/*    PRIMITIVE TNLusage            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - TNLusage
   xnap_return_et e2ap_compose_TNLusage( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_TNLusage  *p_dest,//dest
                        _e2ap_TNLusage_et  *p_src//src
)
{
    *p_dest = (e2ap_TNLusage)*p_src;
    return XNAP_SUCCESS;
}
   
/************************************************************/
/*      SEQUENCE E2connectionUpdate_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2connectionUpdate_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2connectionUpdate_Item                 *p_e2ap_E2connectionUpdate_Item, //dest
                _e2ap_E2connectionUpdate_Item_t              *p_E2connectionUpdate_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode tnlInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2connectionUpdate_Item->tnlInformation = rtxMemAllocType(p_asn1_ctx, e2ap_TNLinformation);
        if(XNAP_P_NULL == p_e2ap_E2connectionUpdate_Item->tnlInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field tnlInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_TNLinformation(&p_e2ap_E2connectionUpdate_Item->tnlInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_TNLinformation(p_asn1_ctx,
                                                &p_e2ap_E2connectionUpdate_Item->tnlInformation,
                                                &p_E2connectionUpdate_Item->tnlInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field tnlInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode tnlInformation*/

    {  /*SEQ_ELEM-2  Encode tnlUsage alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_TNLusage(p_asn1_ctx,
                                                &p_e2ap_E2connectionUpdate_Item->tnlUsage,
                                                &p_E2connectionUpdate_Item->tnlUsage))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field tnlUsage",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode tnlUsage*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_E2connectionUpdate_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_E2connectionUpdate_List,
                _e2ap_E2connectionUpdate_List_t       *p_E2connectionUpdate_List
){
    e2ap_E2connectionUpdate_ItemIEs   *p_E2connectionUpdate_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_E2connectionUpdate_List->id_E2connectionUpdate_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_E2connectionUpdate_ItemIEs,
                                &p_node_list,
                                &p_E2connectionUpdate_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdate-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_E2connectionUpdate_ItemIEs(p_E2connectionUpdate_ItemIEs);
        p_E2connectionUpdate_ItemIEs->id = ASN1V_e2ap_id_E2connectionUpdate_Item;
        p_E2connectionUpdate_ItemIEs->criticality = e2ap_reject;
        p_E2connectionUpdate_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_E2connectionUpdate_ItemIEs_id_E2connectionUpdate_Item;
        p_E2connectionUpdate_ItemIEs->value.u._e2apE2connectionUpdate_ItemIEs_id_E2connectionUpdate_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_E2connectionUpdate_ItemIEs);
        if(GNB_PNULL==p_E2connectionUpdate_ItemIEs->value.u._e2apE2connectionUpdate_ItemIEs_id_E2connectionUpdate_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdate-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_E2connectionUpdate_Item(p_asn1_ctx,
                                                p_E2connectionUpdate_ItemIEs->value.u._e2apE2connectionUpdate_ItemIEs_id_E2connectionUpdate_Item,
                                                &p_E2connectionUpdate_List->id_E2connectionUpdate_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2connectionUpdate-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_E2connectionUpdate_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE E2connectionUpdateRemove_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2connectionUpdateRemove_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2connectionUpdateRemove_Item                 *p_e2ap_E2connectionUpdateRemove_Item, //dest
                _e2ap_E2connectionUpdateRemove_Item_t              *p_E2connectionUpdateRemove_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode tnlInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2connectionUpdateRemove_Item->tnlInformation = rtxMemAllocType(p_asn1_ctx, e2ap_TNLinformation);
        if(XNAP_P_NULL == p_e2ap_E2connectionUpdateRemove_Item->tnlInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field tnlInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_TNLinformation(&p_e2ap_E2connectionUpdateRemove_Item->tnlInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_TNLinformation(p_asn1_ctx,
                                                &p_e2ap_E2connectionUpdateRemove_Item->tnlInformation,
                                                &p_E2connectionUpdateRemove_Item->tnlInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field tnlInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode tnlInformation*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_E2connectionUpdateRemove_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_E2connectionUpdateRemove_List,
                _e2ap_E2connectionUpdateRemove_List_t       *p_E2connectionUpdateRemove_List
){
    e2ap_E2connectionUpdateRemove_ItemIEs   *p_E2connectionUpdateRemove_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_E2connectionUpdateRemove_List->id_E2connectionUpdateRemove_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_E2connectionUpdateRemove_ItemIEs,
                                &p_node_list,
                                &p_E2connectionUpdateRemove_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdateRemove-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_E2connectionUpdateRemove_ItemIEs(p_E2connectionUpdateRemove_ItemIEs);
        p_E2connectionUpdateRemove_ItemIEs->id = ASN1V_e2ap_id_E2connectionUpdateRemove_Item;
        p_E2connectionUpdateRemove_ItemIEs->criticality = e2ap_reject;
        p_E2connectionUpdateRemove_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_E2connectionUpdateRemove_ItemIEs_id_E2connectionUpdateRemove_Item;
        p_E2connectionUpdateRemove_ItemIEs->value.u._e2apE2connectionUpdateRemove_ItemIEs_id_E2connectionUpdateRemove_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_E2connectionUpdateRemove_ItemIEs);
        if(GNB_PNULL==p_E2connectionUpdateRemove_ItemIEs->value.u._e2apE2connectionUpdateRemove_ItemIEs_id_E2connectionUpdateRemove_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdateRemove-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_E2connectionUpdateRemove_Item(p_asn1_ctx,
                                                p_E2connectionUpdateRemove_ItemIEs->value.u._e2apE2connectionUpdateRemove_ItemIEs_id_E2connectionUpdateRemove_Item,
                                                &p_E2connectionUpdateRemove_List->id_E2connectionUpdateRemove_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2connectionUpdateRemove-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_E2connectionUpdateRemove_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_E2connectionUpdate                    */
/*                                                */
/**************************************************/
/*
E2connectionUpdate
    E2connectionUpdate-IEs
        TransactionID
        E2connectionUpdate-List
            E2connectionUpdate-ItemIEs
                E2connectionUpdate-Item
                    TNLinformation
                        tnlAddress
                        ...
                        tnlPort
                    TNLusage
        E2connectionUpdateRemove-List
            E2connectionUpdateRemove-ItemIEs
                E2connectionUpdateRemove-Item
                    TNLinformation
                        tnlAddress
                        ...
                        tnlPort
        E2connectionUpdate-List
            E2connectionUpdate-ItemIEs
                E2connectionUpdate-Item
                    TNLinformation
                        tnlAddress
                        ...
                        tnlPort
                    TNLusage

*/
xnap_return_et e2ap_encode_E2connectionUpdate(
                e2ap_E2connectionUpdate_t* p_E2connectionUpdate,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2connectionUpdate.E2connectionUpdate-IEs.TransactionID
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item.TNLinformation.tnlAddress
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item.TNLinformation....
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item.TNLinformation.tnlPort
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item.TNLinformation
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item.TNLusage
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdate-List
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdateRemove-List.E2connectionUpdateRemove-ItemIEs.E2connectionUpdateRemove-Item.TNLinformation.tnlAddress
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdateRemove-List.E2connectionUpdateRemove-ItemIEs.E2connectionUpdateRemove-Item.TNLinformation....
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdateRemove-List.E2connectionUpdateRemove-ItemIEs.E2connectionUpdateRemove-Item.TNLinformation.tnlPort
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdateRemove-List.E2connectionUpdateRemove-ItemIEs.E2connectionUpdateRemove-Item.TNLinformation
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdateRemove-List.E2connectionUpdateRemove-ItemIEs.E2connectionUpdateRemove-Item
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdateRemove-List.E2connectionUpdateRemove-ItemIEs
// E2connectionUpdate.E2connectionUpdate-IEs.E2connectionUpdateRemove-List
// E2connectionUpdate.E2connectionUpdate-IEs
// E2connectionUpdate

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2connectionUpdate o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2connectionUpdate* p_E2connectionUpdate = GNB_PNULL;
    e2ap_E2connectionUpdate_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_E2connectionUpdate;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2connectionUpdate;
        p_E2connectionUpdate = rtxMemAllocType(&asn1_ctx, e2ap_E2connectionUpdate);
        if(GNB_PNULL==p_E2connectionUpdate){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2connectionUpdate",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2connectionUpdate",__FUNCTION__);
        }

        asn1Init_e2ap_E2connectionUpdate(p_E2connectionUpdate);
        e2ap_pdu.u.initiatingMessage->value.u.e2connectionUpdate = p_E2connectionUpdate;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdate_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_TransactionID = p_E2connectionUpdate->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_E2connectionUpdateAdd - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2connectionUpdateAdd;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdate_IEs_id_E2connectionUpdateAdd;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateAdd 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2connectionUpdate_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateAdd){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2connectionUpdateAdd",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2connectionUpdate_List(p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateAdd);
            #endif
            //message_name.item_type -> type = E2connectionUpdate_List
            if(XNAP_FAILURE == e2ap_compose_E2connectionUpdate_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateAdd,
                                &p_E2connectionUpdate->id_E2connectionUpdateAdd)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2connectionUpdate_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2connectionUpdate_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_E2connectionUpdateRemove - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2connectionUpdateRemove;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdate_IEs_id_E2connectionUpdateRemove;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateRemove 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2connectionUpdateRemove_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateRemove){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2connectionUpdateRemove",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2connectionUpdateRemove_List(p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateRemove);
            #endif
            //message_name.item_type -> type = E2connectionUpdateRemove_List
            if(XNAP_FAILURE == e2ap_compose_E2connectionUpdateRemove_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateRemove,
                                &p_E2connectionUpdate->id_E2connectionUpdateRemove)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2connectionUpdateRemove_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2connectionUpdateRemove_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_E2connectionUpdateModify - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2connectionUpdateModify;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdate_IEs_id_E2connectionUpdateModify;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateModify 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2connectionUpdate_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateModify){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2connectionUpdateModify",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2connectionUpdate_List(p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateModify);
            #endif
            //message_name.item_type -> type = E2connectionUpdate_List
            if(XNAP_FAILURE == e2ap_compose_E2connectionUpdate_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdate_IEs_id_E2connectionUpdateModify,
                                &p_E2connectionUpdate->id_E2connectionUpdateModify)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2connectionUpdate_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2connectionUpdate_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE CauseRICrequest            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - CauseRICrequest
   xnap_return_et e2ap_compose_CauseRICrequest( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_CauseRICrequest  *p_dest,//dest
                        _e2ap_CauseRICrequest_et  *p_src//src
)
{
    *p_dest = (e2ap_CauseRICrequest)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE CauseRICservice            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - CauseRICservice
   xnap_return_et e2ap_compose_CauseRICservice( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_CauseRICservice  *p_dest,//dest
                        _e2ap_CauseRICservice_et  *p_src//src
)
{
    *p_dest = (e2ap_CauseRICservice)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE CauseE2node            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - CauseE2node
   xnap_return_et e2ap_compose_CauseE2node( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_CauseE2node  *p_dest,//dest
                        _e2ap_CauseE2node_et  *p_src//src
)
{
    *p_dest = (e2ap_CauseE2node)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE CauseTransport            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - CauseTransport
   xnap_return_et e2ap_compose_CauseTransport( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_CauseTransport  *p_dest,//dest
                        _e2ap_CauseTransport_et  *p_src//src
)
{
    *p_dest = (e2ap_CauseTransport)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE CauseProtocol            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - CauseProtocol
   xnap_return_et e2ap_compose_CauseProtocol( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_CauseProtocol  *p_dest,//dest
                        _e2ap_CauseProtocol_et  *p_src//src
)
{
    *p_dest = (e2ap_CauseProtocol)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE CauseMisc            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - CauseMisc
   xnap_return_et e2ap_compose_CauseMisc( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_CauseMisc  *p_dest,//dest
                        _e2ap_CauseMisc_et  *p_src//src
)
{
    *p_dest = (e2ap_CauseMisc)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE ServiceLayerCause            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - ServiceLayerCause
     
/************************************************************/
/*      SEQUENCE CauseServiceLayer                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_CauseServiceLayer(
                OSCTXT                        *p_asn1_ctx,
                e2ap_CauseServiceLayer                 *p_e2ap_CauseServiceLayer, //dest
                _e2ap_CauseServiceLayer_t              *p_CauseServiceLayer //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode serviceLayerCause alias-id = 9 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_ServiceLayerCause(p_asn1_ctx,
                                                &p_e2ap_CauseServiceLayer->serviceLayerCause,
                                                &p_CauseServiceLayer->serviceLayerCause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field serviceLayerCause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode serviceLayerCause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
 /*      CHOICE Cause                */
 /************************************************************/
// compose choice trong xn thì mẫu là compose_globalNG_RAN_id()
/* 1 - compose primitive intergrate for choice fields */

/* 2 - compose choice */
xnap_return_et e2ap_compose_Cause(
                OSCTXT                        *p_asn1_ctx,
                e2ap_Cause             *p_e2ap_Cause, //dest
                _e2ap_Cause_t          *p_Cause //src
)
{
    p_e2ap_Cause->t =  p_Cause->choice_type;
    xnap_return_et retVal = XNAP_SUCCESS;

    switch(p_Cause->t)
    {
        /*CHOICE_INDEX-1    ricRequest*/
        case: E2AP_CAUSE_e2ap_RIC_REQUEST:
        {
             /*==primitive alias== */
            if(XNAP_FAILURE == e2ap_compose_CauseRICrequest(p_asn1_ctx,
                                                    &p_e2ap_Cause->ricRequest,
                                                    &p_Cause->ricRequest))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricRequest",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-2    ricService*/
        case: E2AP_CAUSE_e2ap_RIC_SERVICE:
        {
             /*==primitive alias== */
            if(XNAP_FAILURE == e2ap_compose_CauseRICservice(p_asn1_ctx,
                                                    &p_e2ap_Cause->ricService,
                                                    &p_Cause->ricService))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricService",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-3    e2Node*/
        case: E2AP_CAUSE_e2ap_E2NODE:
        {
             /*==primitive alias== */
            if(XNAP_FAILURE == e2ap_compose_CauseE2node(p_asn1_ctx,
                                                    &p_e2ap_Cause->e2Node,
                                                    &p_Cause->e2Node))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2Node",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-4    transport*/
        case: E2AP_CAUSE_e2ap_TRANSPORT:
        {
             /*==primitive alias== */
            if(XNAP_FAILURE == e2ap_compose_CauseTransport(p_asn1_ctx,
                                                    &p_e2ap_Cause->transport,
                                                    &p_Cause->transport))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field transport",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-5    protocol*/
        case: E2AP_CAUSE_e2ap_PROTOCOL:
        {
             /*==primitive alias== */
            if(XNAP_FAILURE == e2ap_compose_CauseProtocol(p_asn1_ctx,
                                                    &p_e2ap_Cause->protocol,
                                                    &p_Cause->protocol))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field protocol",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-6    misc*/
        case: E2AP_CAUSE_e2ap_MISC:
        {
             /*==primitive alias== */
            if(XNAP_FAILURE == e2ap_compose_CauseMisc(p_asn1_ctx,
                                                    &p_e2ap_Cause->misc,
                                                    &p_Cause->misc))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field misc",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-7    serviceLayer*/
        case: E2AP_CAUSE_e2ap_SERVICE_LAYER:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_Cause->serviceLayer = rtxMemAllocType(p_asn1_ctx, e2ap_CauseServiceLayer);
            if(XNAP_P_NULL == p_e2ap_Cause->serviceLayer)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field serviceLayer",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_CauseServiceLayer(&p_e2ap_Cause->serviceLayer);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_CauseServiceLayer(p_asn1_ctx,
                                                    &p_e2ap_Cause->serviceLayer,
                                                    &p_Cause->serviceLayer))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field serviceLayer",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

    }
    return retVal;
}/************************************************************/
/*      SEQUENCE E2connectionSetupFailed_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2connectionSetupFailed_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2connectionSetupFailed_Item                 *p_e2ap_E2connectionSetupFailed_Item, //dest
                _e2ap_E2connectionSetupFailed_Item_t              *p_E2connectionSetupFailed_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode tnlInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2connectionSetupFailed_Item->tnlInformation = rtxMemAllocType(p_asn1_ctx, e2ap_TNLinformation);
        if(XNAP_P_NULL == p_e2ap_E2connectionSetupFailed_Item->tnlInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field tnlInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_TNLinformation(&p_e2ap_E2connectionSetupFailed_Item->tnlInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_TNLinformation(p_asn1_ctx,
                                                &p_e2ap_E2connectionSetupFailed_Item->tnlInformation,
                                                &p_E2connectionSetupFailed_Item->tnlInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field tnlInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode tnlInformation*/

    {  /*SEQ_ELEM-2  Encode cause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2connectionSetupFailed_Item->cause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_E2connectionSetupFailed_Item->cause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_E2connectionSetupFailed_Item->cause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_E2connectionSetupFailed_Item->cause,
                                                &p_E2connectionSetupFailed_Item->cause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode cause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_E2connectionSetupFailed_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_E2connectionSetupFailed_List,
                _e2ap_E2connectionSetupFailed_List_t       *p_E2connectionSetupFailed_List
){
    e2ap_E2connectionSetupFailed_ItemIEs   *p_E2connectionSetupFailed_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_E2connectionSetupFailed_List->id_E2connectionSetupFailed_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_E2connectionSetupFailed_ItemIEs,
                                &p_node_list,
                                &p_E2connectionSetupFailed_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionSetupFailed-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_E2connectionSetupFailed_ItemIEs(p_E2connectionSetupFailed_ItemIEs);
        p_E2connectionSetupFailed_ItemIEs->id = ASN1V_e2ap_id_E2connectionSetupFailed_Item;
        p_E2connectionSetupFailed_ItemIEs->criticality = e2ap_reject;
        p_E2connectionSetupFailed_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_E2connectionSetupFailed_ItemIEs_id_E2connectionSetupFailed_Item;
        p_E2connectionSetupFailed_ItemIEs->value.u._e2apE2connectionSetupFailed_ItemIEs_id_E2connectionSetupFailed_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_E2connectionSetupFailed_ItemIEs);
        if(GNB_PNULL==p_E2connectionSetupFailed_ItemIEs->value.u._e2apE2connectionSetupFailed_ItemIEs_id_E2connectionSetupFailed_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionSetupFailed-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_E2connectionSetupFailed_Item(p_asn1_ctx,
                                                p_E2connectionSetupFailed_ItemIEs->value.u._e2apE2connectionSetupFailed_ItemIEs_id_E2connectionSetupFailed_Item,
                                                &p_E2connectionSetupFailed_List->id_E2connectionSetupFailed_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2connectionSetupFailed-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_E2connectionSetupFailed_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_E2connectionUpdateAcknowledge                    */
/*                                                */
/**************************************************/
/*
E2connectionUpdateAcknowledge
    E2connectionUpdateAck-IEs
        TransactionID
        E2connectionUpdate-List
            E2connectionUpdate-ItemIEs
                E2connectionUpdate-Item
                    TNLinformation
                        tnlAddress
                        ...
                        tnlPort
                    TNLusage
        E2connectionSetupFailed-List
            E2connectionSetupFailed-ItemIEs
                E2connectionSetupFailed-Item
                    TNLinformation
                        tnlAddress
                        ...
                        tnlPort
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause

*/
xnap_return_et e2ap_encode_E2connectionUpdateAcknowledge(
                e2ap_E2connectionUpdateAcknowledge_t* p_E2connectionUpdateAcknowledge,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.TransactionID
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item.TNLinformation.tnlAddress
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item.TNLinformation....
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item.TNLinformation.tnlPort
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item.TNLinformation
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item.TNLusage
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs.E2connectionUpdate-Item
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionUpdate-List.E2connectionUpdate-ItemIEs
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionUpdate-List
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.TNLinformation.tnlAddress
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.TNLinformation....
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.TNLinformation.tnlPort
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.TNLinformation
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.Cause.CauseRICrequest
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.Cause.CauseRICservice
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.Cause.CauseE2node
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.Cause.CauseTransport
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.Cause.CauseProtocol
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.Cause.CauseMisc
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.Cause.CauseServiceLayer.ServiceLayerCause
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.Cause.CauseServiceLayer
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item.Cause
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs.E2connectionSetupFailed-Item
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List.E2connectionSetupFailed-ItemIEs
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs.E2connectionSetupFailed-List
// E2connectionUpdateAcknowledge.E2connectionUpdateAck-IEs
// E2connectionUpdateAcknowledge

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2connectionUpdateAcknowledge o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2connectionUpdateAcknowledge* p_E2connectionUpdateAcknowledge = GNB_PNULL;
    e2ap_E2connectionUpdateAcknowledge_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_E2connectionUpdate;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2connectionUpdateAcknowledge;
        p_E2connectionUpdateAcknowledge = rtxMemAllocType(&asn1_ctx, e2ap_E2connectionUpdateAcknowledge);
        if(GNB_PNULL==p_E2connectionUpdateAcknowledge){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2connectionUpdateAcknowledge",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2connectionUpdateAcknowledge",__FUNCTION__);
        }

        asn1Init_e2ap_E2connectionUpdateAcknowledge(p_E2connectionUpdateAcknowledge);
        e2ap_pdu.u.successfulOutcome->value.u.e2connectionUpdate = p_E2connectionUpdateAcknowledge;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdateAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdateAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdateAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdateAck_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateAck_IEs_id_TransactionID = p_E2connectionUpdateAcknowledge->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdateAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_E2connectionSetup - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdateAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdateAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdateAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2connectionSetup;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdateAck_IEs_id_E2connectionSetup;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateAck_IEs_id_E2connectionSetup 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2connectionUpdate_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateAck_IEs_id_E2connectionSetup){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2connectionSetup",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2connectionUpdate_List(p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateAck_IEs_id_E2connectionSetup);
            #endif
            //message_name.item_type -> type = E2connectionUpdate_List
            if(XNAP_FAILURE == e2ap_compose_E2connectionUpdate_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateAck_IEs_id_E2connectionSetup,
                                &p_E2connectionUpdateAcknowledge->id_E2connectionSetup)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2connectionUpdate_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2connectionUpdate_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdateAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_E2connectionSetupFailed - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdateAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdateAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdateAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2connectionSetupFailed;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdateAck_IEs_id_E2connectionSetupFailed;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateAck_IEs_id_E2connectionSetupFailed 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2connectionSetupFailed_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateAck_IEs_id_E2connectionSetupFailed){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2connectionSetupFailed",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2connectionSetupFailed_List(p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateAck_IEs_id_E2connectionSetupFailed);
            #endif
            //message_name.item_type -> type = E2connectionSetupFailed_List
            if(XNAP_FAILURE == e2ap_compose_E2connectionSetupFailed_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateAck_IEs_id_E2connectionSetupFailed,
                                &p_E2connectionUpdateAcknowledge->id_E2connectionSetupFailed)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2connectionSetupFailed_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2connectionSetupFailed_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdateAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE TimeToWait            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - TimeToWait
   xnap_return_et e2ap_compose_TimeToWait( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_TimeToWait  *p_dest,//dest
                        _e2ap_TimeToWait_et  *p_src//src
)
{
    *p_dest = (e2ap_TimeToWait)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE ProcedureCode            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..255) - ProcedureCode
  xnap_return_et e2ap_compose_ProcedureCode(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_ProcedureCode  *p_dest,//dest
                        _e2ap_ProcedureCode_t  *p_src//src
)
{
    *p_dest = (e2ap_ProcedureCode)*p_src;
    return XNAP_SUCCESS;
}
    
/*****************************************************/
/*    PRIMITIVE TriggeringMessage            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - TriggeringMessage
   xnap_return_et e2ap_compose_TriggeringMessage( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_TriggeringMessage  *p_dest,//dest
                        _e2ap_TriggeringMessage_et  *p_src//src
)
{
    *p_dest = (e2ap_TriggeringMessage)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE Criticality            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - Criticality
   xnap_return_et e2ap_compose_Criticality( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_Criticality  *p_dest,//dest
                        _e2ap_Criticality_et  *p_src//src
)
{
    *p_dest = (e2ap_Criticality)*p_src;
    return XNAP_SUCCESS;
}
   
/************************************************************/
/*      SEQUENCE RICrequestID                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */
     // id = 6 - INTEGER (0..65535) - ricRequestorID
xnap_return_et e2ap_compose_RICrequestID_ricRequestorID(
                    OSCTXT                       *p_asn1_ctx,
                    e2ap_RICrequestID_ricRequestorID  *p_dest,//dest
                    _e2ap_RICrequestID_ricRequestorID_t  *p_src//src
)
{
    *p_dest = (e2ap_RICrequestID_ricRequestorID)*p_src;
    return XNAP_SUCCESS;
}
           
     // id = 6 - INTEGER (0..65535) - ricInstanceID
xnap_return_et e2ap_compose_RICrequestID_ricInstanceID(
                    OSCTXT                       *p_asn1_ctx,
                    e2ap_RICrequestID_ricInstanceID  *p_dest,//dest
                    _e2ap_RICrequestID_ricInstanceID_t  *p_src//src
)
{
    *p_dest = (e2ap_RICrequestID_ricInstanceID)*p_src;
    return XNAP_SUCCESS;
}
           


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICrequestID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICrequestID                 *p_e2ap_RICrequestID, //dest
                _e2ap_RICrequestID_t              *p_RICrequestID //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricRequestorID alias-id = -1 - primitive = True*/
        /*==primitive in scope==*/
        if(XNAP_FAILURE == e2ap_compose_RICrequestID_ricRequestorID(p_asn1_ctx,
                                                &p_e2ap_RICrequestID->ricRequestorID,
                                                &p_RICrequestID->ricRequestorID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricRequestorID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricRequestorID*/

    {  /*SEQ_ELEM-2  Encode ricInstanceID alias-id = -1 - primitive = True*/
        /*==primitive in scope==*/
        if(XNAP_FAILURE == e2ap_compose_RICrequestID_ricInstanceID(p_asn1_ctx,
                                                &p_e2ap_RICrequestID->ricInstanceID,
                                                &p_RICrequestID->ricInstanceID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricInstanceID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricInstanceID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE CriticalityDiagnostics_IE_List                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_CriticalityDiagnostics_IE_List(
                OSCTXT                        *p_asn1_ctx,
                e2ap_CriticalityDiagnostics_IE_List                 *p_e2ap_CriticalityDiagnostics_IE_List, //dest
                _e2ap_CriticalityDiagnostics_IE_List_t              *p_CriticalityDiagnostics_IE_List //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode iECriticality alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_Criticality(p_asn1_ctx,
                                                &p_e2ap_CriticalityDiagnostics_IE_List->iECriticality,
                                                &p_CriticalityDiagnostics_IE_List->iECriticality))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field iECriticality",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode iECriticality*/

    {  /*SEQ_ELEM-2  Encode iE_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_CriticalityDiagnostics_IE_List->iE_ID = rtxMemAllocType(p_asn1_ctx, e2ap_ProtocolIE_ID);
        if(XNAP_P_NULL == p_e2ap_CriticalityDiagnostics_IE_List->iE_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field iE_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_ProtocolIE_ID(&p_e2ap_CriticalityDiagnostics_IE_List->iE_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_ProtocolIE_ID(p_asn1_ctx,
                                                &p_e2ap_CriticalityDiagnostics_IE_List->iE_ID,
                                                &p_CriticalityDiagnostics_IE_List->iE_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field iE_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode iE_ID*/

    {  /*SEQ_ELEM-3  Encode typeOfError alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_CriticalityDiagnostics_IE_List->typeOfError = rtxMemAllocType(p_asn1_ctx, e2ap_TypeOfError);
        if(XNAP_P_NULL == p_e2ap_CriticalityDiagnostics_IE_List->typeOfError)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field typeOfError",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_TypeOfError(&p_e2ap_CriticalityDiagnostics_IE_List->typeOfError);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_TypeOfError(p_asn1_ctx,
                                                &p_e2ap_CriticalityDiagnostics_IE_List->typeOfError,
                                                &p_CriticalityDiagnostics_IE_List->typeOfError))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field typeOfError",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode typeOfError*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE CriticalityDiagnostics                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_CriticalityDiagnostics(
                OSCTXT                        *p_asn1_ctx,
                e2ap_CriticalityDiagnostics                 *p_e2ap_CriticalityDiagnostics, //dest
                _e2ap_CriticalityDiagnostics_t              *p_CriticalityDiagnostics //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode procedureCode alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_ProcedureCode(p_asn1_ctx,
                                                &p_e2ap_CriticalityDiagnostics->procedureCode,
                                                &p_CriticalityDiagnostics->procedureCode))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field procedureCode",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode procedureCode*/

    {  /*SEQ_ELEM-2  Encode triggeringMessage alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_TriggeringMessage(p_asn1_ctx,
                                                &p_e2ap_CriticalityDiagnostics->triggeringMessage,
                                                &p_CriticalityDiagnostics->triggeringMessage))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field triggeringMessage",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode triggeringMessage*/

    {  /*SEQ_ELEM-3  Encode procedureCriticality alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_Criticality(p_asn1_ctx,
                                                &p_e2ap_CriticalityDiagnostics->procedureCriticality,
                                                &p_CriticalityDiagnostics->procedureCriticality))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field procedureCriticality",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode procedureCriticality*/

    {  /*SEQ_ELEM-4  Encode ricRequestorID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_CriticalityDiagnostics->ricRequestorID = rtxMemAllocType(p_asn1_ctx, e2ap_RICrequestID);
        if(XNAP_P_NULL == p_e2ap_CriticalityDiagnostics->ricRequestorID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricRequestorID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICrequestID(&p_e2ap_CriticalityDiagnostics->ricRequestorID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICrequestID(p_asn1_ctx,
                                                &p_e2ap_CriticalityDiagnostics->ricRequestorID,
                                                &p_CriticalityDiagnostics->ricRequestorID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricRequestorID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ricRequestorID*/

    {  /*SEQ_ELEM-5  Encode iEsCriticalityDiagnostics alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_CriticalityDiagnostics->iEsCriticalityDiagnostics = rtxMemAllocType(p_asn1_ctx, e2ap_CriticalityDiagnostics_IE_List);
        if(XNAP_P_NULL == p_e2ap_CriticalityDiagnostics->iEsCriticalityDiagnostics)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field iEsCriticalityDiagnostics",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_CriticalityDiagnostics_IE_List(&p_e2ap_CriticalityDiagnostics->iEsCriticalityDiagnostics);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics_IE_List(p_asn1_ctx,
                                                &p_e2ap_CriticalityDiagnostics->iEsCriticalityDiagnostics,
                                                &p_CriticalityDiagnostics->iEsCriticalityDiagnostics))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field iEsCriticalityDiagnostics",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-5  Encode iEsCriticalityDiagnostics*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/**************************************************/
/*      encode_E2connectionUpdateFailure                    */
/*                                                */
/**************************************************/
/*
E2connectionUpdateFailure
    E2connectionUpdateFailure-IEs
        TransactionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        TimeToWait
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_E2connectionUpdateFailure(
                e2ap_E2connectionUpdateFailure_t* p_E2connectionUpdateFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.TransactionID
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.Cause.CauseRICrequest
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.Cause.CauseRICservice
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.Cause.CauseE2node
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.Cause.CauseTransport
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.Cause.CauseProtocol
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.Cause.CauseMisc
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.Cause.CauseServiceLayer
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.Cause
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.TimeToWait
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.CriticalityDiagnostics.ProcedureCode
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.CriticalityDiagnostics.Criticality
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.CriticalityDiagnostics.RICrequestID
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs.CriticalityDiagnostics
// E2connectionUpdateFailure.E2connectionUpdateFailure-IEs
// E2connectionUpdateFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2connectionUpdateFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2connectionUpdateFailure* p_E2connectionUpdateFailure = GNB_PNULL;
    e2ap_E2connectionUpdateFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_E2connectionUpdate;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2connectionUpdateFailure;
        p_E2connectionUpdateFailure = rtxMemAllocType(&asn1_ctx, e2ap_E2connectionUpdateFailure);
        if(GNB_PNULL==p_E2connectionUpdateFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2connectionUpdateFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2connectionUpdateFailure",__FUNCTION__);
        }

        asn1Init_e2ap_E2connectionUpdateFailure(p_E2connectionUpdateFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.e2connectionUpdate = p_E2connectionUpdateFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdateFailure_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateFailure_IEs_id_TransactionID = p_E2connectionUpdateFailure->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_Cause - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdateFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateFailure_IEs_id_Cause,
                                &p_E2connectionUpdateFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_TimeToWait - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TimeToWait;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdateFailure_IEs_id_TimeToWait;
             p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateFailure_IEs_id_TimeToWait = p_E2connectionUpdateFailure->id_TimeToWait; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2connectionUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2connectionUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2connectionUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2connectionUpdateFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2connectionUpdateFailure_IEs_id_CriticalityDiagnostics,
                                &p_E2connectionUpdateFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2connectionUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE PLMN_Identity            */
/*****************************************************/
// cpmpose primitive - id = 8 - OCTET STRING (SIZE(3)) - PLMN_Identity
    xnap_return_et e2ap_compose_PLMN_Identity(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_PLMN_Identity  *p_dest,//dest
                        _e2ap_PLMN_Identity_t  *p_src//src
)
{
    p_dest->numocts = PLMN_Identity_MAX_BYTES;
    //memcpy(p_dest->data, p_src->data, p_src->numocts);
    XNAP_MEMCPY(p_dest->data, p_src->PLMN_Identity, PLMN_Identity_MAX_BYTES);
    return XNAP_SUCCESS;
}
  
/************************************************************/
 /*      CHOICE GNB_ID_Choice                */
 /************************************************************/
// compose choice trong xn thì mẫu là compose_globalNG_RAN_id()
/* 1 - compose primitive intergrate for choice fields */
     // id = 4 - BIT STRING (SIZE(22..32)) - gnb_ID
 xnap_return_et e2ap_compose_GNB_ID_Choice_gnb_ID(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_GNB_ID_Choice_gnb_ID                 *p_dest,//dest
                     _e2ap_GNB_ID_Choice_gnb_ID_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
      
/* 2 - compose choice */
xnap_return_et e2ap_compose_GNB_ID_Choice(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GNB_ID_Choice             *p_e2ap_GNB_ID_Choice, //dest
                _e2ap_GNB_ID_Choice_t          *p_GNB_ID_Choice //src
)
{
    p_e2ap_GNB_ID_Choice->t =  p_GNB_ID_Choice->choice_type;
    xnap_return_et retVal = XNAP_SUCCESS;

    switch(p_GNB_ID_Choice->t)
    {
        /*CHOICE_INDEX-1    gnb_ID*/
        case: E2AP_GNB_ID_CHOICE_e2ap_GNB_ID:
        {
            /*==primitive in scope==*/
            if(XNAP_FAILURE == e2ap_compose_GNB_ID_Choice_gnb_ID(p_asn1_ctx,
                                                   &p_e2ap_GNB_ID_Choice->gnb_ID,
                                                   &p_GNB_ID_Choice->gnb_ID))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field gnb_ID",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

    }
    return retVal;
}/************************************************************/
/*      SEQUENCE GlobalgNB_ID                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_GlobalgNB_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalgNB_ID                 *p_e2ap_GlobalgNB_ID, //dest
                _e2ap_GlobalgNB_ID_t              *p_GlobalgNB_ID //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode plmn_id alias-id = 8 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_PLMN_Identity(p_asn1_ctx,
                                                &p_e2ap_GlobalgNB_ID->plmn_id,
                                                &p_GlobalgNB_ID->plmn_id))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field plmn_id",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode plmn_id*/

    {  /*SEQ_ELEM-2  Encode gnb_id alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_GlobalgNB_ID->gnb_id = rtxMemAllocType(p_asn1_ctx, e2ap_GNB_ID_Choice);
        if(XNAP_P_NULL == p_e2ap_GlobalgNB_ID->gnb_id)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field gnb_id",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_GNB_ID_Choice(&p_e2ap_GlobalgNB_ID->gnb_id);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_GNB_ID_Choice(p_asn1_ctx,
                                                &p_e2ap_GlobalgNB_ID->gnb_id,
                                                &p_GlobalgNB_ID->gnb_id))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field gnb_id",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode gnb_id*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
 /*      CHOICE ENGNB_ID                */
 /************************************************************/
// compose choice trong xn thì mẫu là compose_globalNG_RAN_id()
/* 1 - compose primitive intergrate for choice fields */
     // id = 4 - BIT STRING (SIZE (22..32)) - gNB_ID
 xnap_return_et e2ap_compose_ENGNB_ID_gNB_ID(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_ENGNB_ID_gNB_ID                 *p_dest,//dest
                     _e2ap_ENGNB_ID_gNB_ID_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
      
/* 2 - compose choice */
xnap_return_et e2ap_compose_ENGNB_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_ENGNB_ID             *p_e2ap_ENGNB_ID, //dest
                _e2ap_ENGNB_ID_t          *p_ENGNB_ID //src
)
{
    p_e2ap_ENGNB_ID->t =  p_ENGNB_ID->choice_type;
    xnap_return_et retVal = XNAP_SUCCESS;

    switch(p_ENGNB_ID->t)
    {
        /*CHOICE_INDEX-1    gNB_ID*/
        case: E2AP_ENGNB_ID_e2ap_G_NB_ID:
        {
            /*==primitive in scope==*/
            if(XNAP_FAILURE == e2ap_compose_ENGNB_ID_gNB_ID(p_asn1_ctx,
                                                   &p_e2ap_ENGNB_ID->gNB_ID,
                                                   &p_ENGNB_ID->gNB_ID))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field gNB_ID",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

    }
    return retVal;
}/************************************************************/
/*      SEQUENCE GlobalenGNB_ID                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_GlobalenGNB_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalenGNB_ID                 *p_e2ap_GlobalenGNB_ID, //dest
                _e2ap_GlobalenGNB_ID_t              *p_GlobalenGNB_ID //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode pLMN_Identity alias-id = 8 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_PLMN_Identity(p_asn1_ctx,
                                                &p_e2ap_GlobalenGNB_ID->pLMN_Identity,
                                                &p_GlobalenGNB_ID->pLMN_Identity))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field pLMN_Identity",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode pLMN_Identity*/

    {  /*SEQ_ELEM-2  Encode gNB_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_GlobalenGNB_ID->gNB_ID = rtxMemAllocType(p_asn1_ctx, e2ap_ENGNB_ID);
        if(XNAP_P_NULL == p_e2ap_GlobalenGNB_ID->gNB_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field gNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_ENGNB_ID(&p_e2ap_GlobalenGNB_ID->gNB_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_ENGNB_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalenGNB_ID->gNB_ID,
                                                &p_GlobalenGNB_ID->gNB_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field gNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode gNB_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/*****************************************************/
/*    PRIMITIVE GNB_CU_UP_ID            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..68719476735) - GNB_CU_UP_ID
  xnap_return_et e2ap_compose_GNB_CU_UP_ID(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_GNB_CU_UP_ID  *p_dest,//dest
                        _e2ap_GNB_CU_UP_ID_t  *p_src//src
)
{
    *p_dest = (e2ap_GNB_CU_UP_ID)*p_src;
    return XNAP_SUCCESS;
}
    
/*****************************************************/
/*    PRIMITIVE GNB_DU_ID            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..68719476735) - GNB_DU_ID
  xnap_return_et e2ap_compose_GNB_DU_ID(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_GNB_DU_ID  *p_dest,//dest
                        _e2ap_GNB_DU_ID_t  *p_src//src
)
{
    *p_dest = (e2ap_GNB_DU_ID)*p_src;
    return XNAP_SUCCESS;
}
    
/************************************************************/
/*      SEQUENCE GlobalE2node_gNB_ID                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_GlobalE2node_gNB_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalE2node_gNB_ID                 *p_e2ap_GlobalE2node_gNB_ID, //dest
                _e2ap_GlobalE2node_gNB_ID_t              *p_GlobalE2node_gNB_ID //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode global_gNB_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_GlobalE2node_gNB_ID->global_gNB_ID = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalgNB_ID);
        if(XNAP_P_NULL == p_e2ap_GlobalE2node_gNB_ID->global_gNB_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field global_gNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_GlobalgNB_ID(&p_e2ap_GlobalE2node_gNB_ID->global_gNB_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_GlobalgNB_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_gNB_ID->global_gNB_ID,
                                                &p_GlobalE2node_gNB_ID->global_gNB_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field global_gNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode global_gNB_ID*/

    {  /*SEQ_ELEM-2  Encode global_en_gNB_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_GlobalE2node_gNB_ID->global_en_gNB_ID = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalenGNB_ID);
        if(XNAP_P_NULL == p_e2ap_GlobalE2node_gNB_ID->global_en_gNB_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field global_en_gNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_GlobalenGNB_ID(&p_e2ap_GlobalE2node_gNB_ID->global_en_gNB_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_GlobalenGNB_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_gNB_ID->global_en_gNB_ID,
                                                &p_GlobalE2node_gNB_ID->global_en_gNB_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field global_en_gNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode global_en_gNB_ID*/

    {  /*SEQ_ELEM-3  Encode gNB_CU_UP_ID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_GNB_CU_UP_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_gNB_ID->gNB_CU_UP_ID,
                                                &p_GlobalE2node_gNB_ID->gNB_CU_UP_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field gNB_CU_UP_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode gNB_CU_UP_ID*/

    {  /*SEQ_ELEM-4  Encode gNB_DU_ID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_GNB_DU_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_gNB_ID->gNB_DU_ID,
                                                &p_GlobalE2node_gNB_ID->gNB_DU_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field gNB_DU_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode gNB_DU_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE GlobalE2node_en_gNB_ID                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_GlobalE2node_en_gNB_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalE2node_en_gNB_ID                 *p_e2ap_GlobalE2node_en_gNB_ID, //dest
                _e2ap_GlobalE2node_en_gNB_ID_t              *p_GlobalE2node_en_gNB_ID //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode global_en_gNB_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_GlobalE2node_en_gNB_ID->global_en_gNB_ID = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalenGNB_ID);
        if(XNAP_P_NULL == p_e2ap_GlobalE2node_en_gNB_ID->global_en_gNB_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field global_en_gNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_GlobalenGNB_ID(&p_e2ap_GlobalE2node_en_gNB_ID->global_en_gNB_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_GlobalenGNB_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_en_gNB_ID->global_en_gNB_ID,
                                                &p_GlobalE2node_en_gNB_ID->global_en_gNB_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field global_en_gNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode global_en_gNB_ID*/

    {  /*SEQ_ELEM-2  Encode en_gNB_CU_UP_ID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_GNB_CU_UP_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_en_gNB_ID->en_gNB_CU_UP_ID,
                                                &p_GlobalE2node_en_gNB_ID->en_gNB_CU_UP_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field en_gNB_CU_UP_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode en_gNB_CU_UP_ID*/

    {  /*SEQ_ELEM-3  Encode en_gNB_DU_ID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_GNB_DU_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_en_gNB_ID->en_gNB_DU_ID,
                                                &p_GlobalE2node_en_gNB_ID->en_gNB_DU_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field en_gNB_DU_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode en_gNB_DU_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
 /*      CHOICE ENB_ID_Choice                */
 /************************************************************/
// compose choice trong xn thì mẫu là compose_globalNG_RAN_id()
/* 1 - compose primitive intergrate for choice fields */
     // id = 3 - BIT STRING (SIZE(20)) - enb_ID_macro
 xnap_return_et e2ap_compose_ENB_ID_Choice_enb_ID_macro(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_ENB_ID_Choice_enb_ID_macro                 *p_dest,//dest
                     _e2ap_ENB_ID_Choice_enb_ID_macro_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
           // id = 3 - BIT STRING (SIZE(18)) - enb_ID_shortmacro
 xnap_return_et e2ap_compose_ENB_ID_Choice_enb_ID_shortmacro(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_ENB_ID_Choice_enb_ID_shortmacro                 *p_dest,//dest
                     _e2ap_ENB_ID_Choice_enb_ID_shortmacro_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
           // id = 3 - BIT STRING (SIZE(21)) - enb_ID_longmacro
 xnap_return_et e2ap_compose_ENB_ID_Choice_enb_ID_longmacro(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_ENB_ID_Choice_enb_ID_longmacro                 *p_dest,//dest
                     _e2ap_ENB_ID_Choice_enb_ID_longmacro_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
      
/* 2 - compose choice */
xnap_return_et e2ap_compose_ENB_ID_Choice(
                OSCTXT                        *p_asn1_ctx,
                e2ap_ENB_ID_Choice             *p_e2ap_ENB_ID_Choice, //dest
                _e2ap_ENB_ID_Choice_t          *p_ENB_ID_Choice //src
)
{
    p_e2ap_ENB_ID_Choice->t =  p_ENB_ID_Choice->choice_type;
    xnap_return_et retVal = XNAP_SUCCESS;

    switch(p_ENB_ID_Choice->t)
    {
        /*CHOICE_INDEX-1    enb_ID_macro*/
        case: E2AP_ENB_ID_CHOICE_e2ap_ENB_ID_MACRO:
        {
            /*==primitive in scope==*/
            if(XNAP_FAILURE == e2ap_compose_ENB_ID_Choice_enb_ID_macro(p_asn1_ctx,
                                                   &p_e2ap_ENB_ID_Choice->enb_ID_macro,
                                                   &p_ENB_ID_Choice->enb_ID_macro))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field enb_ID_macro",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-2    enb_ID_shortmacro*/
        case: E2AP_ENB_ID_CHOICE_e2ap_ENB_ID_SHORTMACRO:
        {
            /*==primitive in scope==*/
            if(XNAP_FAILURE == e2ap_compose_ENB_ID_Choice_enb_ID_shortmacro(p_asn1_ctx,
                                                   &p_e2ap_ENB_ID_Choice->enb_ID_shortmacro,
                                                   &p_ENB_ID_Choice->enb_ID_shortmacro))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field enb_ID_shortmacro",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-3    enb_ID_longmacro*/
        case: E2AP_ENB_ID_CHOICE_e2ap_ENB_ID_LONGMACRO:
        {
            /*==primitive in scope==*/
            if(XNAP_FAILURE == e2ap_compose_ENB_ID_Choice_enb_ID_longmacro(p_asn1_ctx,
                                                   &p_e2ap_ENB_ID_Choice->enb_ID_longmacro,
                                                   &p_ENB_ID_Choice->enb_ID_longmacro))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field enb_ID_longmacro",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

    }
    return retVal;
}/************************************************************/
/*      SEQUENCE GlobalngeNB_ID                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_GlobalngeNB_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalngeNB_ID                 *p_e2ap_GlobalngeNB_ID, //dest
                _e2ap_GlobalngeNB_ID_t              *p_GlobalngeNB_ID //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode plmn_id alias-id = 8 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_PLMN_Identity(p_asn1_ctx,
                                                &p_e2ap_GlobalngeNB_ID->plmn_id,
                                                &p_GlobalngeNB_ID->plmn_id))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field plmn_id",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode plmn_id*/

    {  /*SEQ_ELEM-2  Encode enb_id alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_GlobalngeNB_ID->enb_id = rtxMemAllocType(p_asn1_ctx, e2ap_ENB_ID_Choice);
        if(XNAP_P_NULL == p_e2ap_GlobalngeNB_ID->enb_id)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field enb_id",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_ENB_ID_Choice(&p_e2ap_GlobalngeNB_ID->enb_id);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_ENB_ID_Choice(p_asn1_ctx,
                                                &p_e2ap_GlobalngeNB_ID->enb_id,
                                                &p_GlobalngeNB_ID->enb_id))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field enb_id",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode enb_id*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
 /*      CHOICE ENB_ID                */
 /************************************************************/
// compose choice trong xn thì mẫu là compose_globalNG_RAN_id()
/* 1 - compose primitive intergrate for choice fields */
     // id = 3 - BIT STRING (SIZE (20)) - macro_eNB_ID
 xnap_return_et e2ap_compose_ENB_ID_macro_eNB_ID(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_ENB_ID_macro_eNB_ID                 *p_dest,//dest
                     _e2ap_ENB_ID_macro_eNB_ID_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
           // id = 3 - BIT STRING (SIZE (28)) - home_eNB_ID
 xnap_return_et e2ap_compose_ENB_ID_home_eNB_ID(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_ENB_ID_home_eNB_ID                 *p_dest,//dest
                     _e2ap_ENB_ID_home_eNB_ID_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
           // id = 3 - BIT STRING (SIZE(18)) - short_Macro_eNB_ID
 xnap_return_et e2ap_compose_ENB_ID_short_Macro_eNB_ID(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_ENB_ID_short_Macro_eNB_ID                 *p_dest,//dest
                     _e2ap_ENB_ID_short_Macro_eNB_ID_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
           // id = 3 - BIT STRING (SIZE(21)) - long_Macro_eNB_ID
 xnap_return_et e2ap_compose_ENB_ID_long_Macro_eNB_ID(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_ENB_ID_long_Macro_eNB_ID                 *p_dest,//dest
                     _e2ap_ENB_ID_long_Macro_eNB_ID_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
      
/* 2 - compose choice */
xnap_return_et e2ap_compose_ENB_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_ENB_ID             *p_e2ap_ENB_ID, //dest
                _e2ap_ENB_ID_t          *p_ENB_ID //src
)
{
    p_e2ap_ENB_ID->t =  p_ENB_ID->choice_type;
    xnap_return_et retVal = XNAP_SUCCESS;

    switch(p_ENB_ID->t)
    {
        /*CHOICE_INDEX-1    macro_eNB_ID*/
        case: E2AP_ENB_ID_e2ap_MACRO_E_NB_ID:
        {
            /*==primitive in scope==*/
            if(XNAP_FAILURE == e2ap_compose_ENB_ID_macro_eNB_ID(p_asn1_ctx,
                                                   &p_e2ap_ENB_ID->macro_eNB_ID,
                                                   &p_ENB_ID->macro_eNB_ID))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field macro_eNB_ID",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-2    home_eNB_ID*/
        case: E2AP_ENB_ID_e2ap_HOME_E_NB_ID:
        {
            /*==primitive in scope==*/
            if(XNAP_FAILURE == e2ap_compose_ENB_ID_home_eNB_ID(p_asn1_ctx,
                                                   &p_e2ap_ENB_ID->home_eNB_ID,
                                                   &p_ENB_ID->home_eNB_ID))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field home_eNB_ID",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-3    short_Macro_eNB_ID*/
        case: E2AP_ENB_ID_e2ap_SHORT_MACRO_E_NB_ID:
        {
            /*==primitive in scope==*/
            if(XNAP_FAILURE == e2ap_compose_ENB_ID_short_Macro_eNB_ID(p_asn1_ctx,
                                                   &p_e2ap_ENB_ID->short_Macro_eNB_ID,
                                                   &p_ENB_ID->short_Macro_eNB_ID))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field short_Macro_eNB_ID",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-4    long_Macro_eNB_ID*/
        case: E2AP_ENB_ID_e2ap_LONG_MACRO_E_NB_ID:
        {
            /*==primitive in scope==*/
            if(XNAP_FAILURE == e2ap_compose_ENB_ID_long_Macro_eNB_ID(p_asn1_ctx,
                                                   &p_e2ap_ENB_ID->long_Macro_eNB_ID,
                                                   &p_ENB_ID->long_Macro_eNB_ID))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field long_Macro_eNB_ID",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

    }
    return retVal;
}/************************************************************/
/*      SEQUENCE GlobalENB_ID                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_GlobalENB_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalENB_ID                 *p_e2ap_GlobalENB_ID, //dest
                _e2ap_GlobalENB_ID_t              *p_GlobalENB_ID //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode pLMN_Identity alias-id = 8 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_PLMN_Identity(p_asn1_ctx,
                                                &p_e2ap_GlobalENB_ID->pLMN_Identity,
                                                &p_GlobalENB_ID->pLMN_Identity))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field pLMN_Identity",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode pLMN_Identity*/

    {  /*SEQ_ELEM-2  Encode eNB_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_GlobalENB_ID->eNB_ID = rtxMemAllocType(p_asn1_ctx, e2ap_ENB_ID);
        if(XNAP_P_NULL == p_e2ap_GlobalENB_ID->eNB_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field eNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_ENB_ID(&p_e2ap_GlobalENB_ID->eNB_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_ENB_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalENB_ID->eNB_ID,
                                                &p_GlobalENB_ID->eNB_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field eNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode eNB_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/*****************************************************/
/*    PRIMITIVE NGENB_DU_ID            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..68719476735) - NGENB_DU_ID
  xnap_return_et e2ap_compose_NGENB_DU_ID(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_NGENB_DU_ID  *p_dest,//dest
                        _e2ap_NGENB_DU_ID_t  *p_src//src
)
{
    *p_dest = (e2ap_NGENB_DU_ID)*p_src;
    return XNAP_SUCCESS;
}
    
/************************************************************/
/*      SEQUENCE GlobalE2node_ng_eNB_ID                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_GlobalE2node_ng_eNB_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalE2node_ng_eNB_ID                 *p_e2ap_GlobalE2node_ng_eNB_ID, //dest
                _e2ap_GlobalE2node_ng_eNB_ID_t              *p_GlobalE2node_ng_eNB_ID //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode global_ng_eNB_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_GlobalE2node_ng_eNB_ID->global_ng_eNB_ID = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalngeNB_ID);
        if(XNAP_P_NULL == p_e2ap_GlobalE2node_ng_eNB_ID->global_ng_eNB_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field global_ng_eNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_GlobalngeNB_ID(&p_e2ap_GlobalE2node_ng_eNB_ID->global_ng_eNB_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_GlobalngeNB_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_ng_eNB_ID->global_ng_eNB_ID,
                                                &p_GlobalE2node_ng_eNB_ID->global_ng_eNB_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field global_ng_eNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode global_ng_eNB_ID*/

    {  /*SEQ_ELEM-2  Encode global_eNB_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_GlobalE2node_ng_eNB_ID->global_eNB_ID = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalENB_ID);
        if(XNAP_P_NULL == p_e2ap_GlobalE2node_ng_eNB_ID->global_eNB_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field global_eNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_GlobalENB_ID(&p_e2ap_GlobalE2node_ng_eNB_ID->global_eNB_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_GlobalENB_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_ng_eNB_ID->global_eNB_ID,
                                                &p_GlobalE2node_ng_eNB_ID->global_eNB_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field global_eNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode global_eNB_ID*/

    {  /*SEQ_ELEM-3  Encode ngENB_DU_ID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_NGENB_DU_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_ng_eNB_ID->ngENB_DU_ID,
                                                &p_GlobalE2node_ng_eNB_ID->ngENB_DU_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ngENB_DU_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ngENB_DU_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE GlobalE2node_eNB_ID                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_GlobalE2node_eNB_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalE2node_eNB_ID                 *p_e2ap_GlobalE2node_eNB_ID, //dest
                _e2ap_GlobalE2node_eNB_ID_t              *p_GlobalE2node_eNB_ID //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode global_eNB_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_GlobalE2node_eNB_ID->global_eNB_ID = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalENB_ID);
        if(XNAP_P_NULL == p_e2ap_GlobalE2node_eNB_ID->global_eNB_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field global_eNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_GlobalENB_ID(&p_e2ap_GlobalE2node_eNB_ID->global_eNB_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_GlobalENB_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalE2node_eNB_ID->global_eNB_ID,
                                                &p_GlobalE2node_eNB_ID->global_eNB_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field global_eNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode global_eNB_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
 /*      CHOICE GlobalE2node_ID                */
 /************************************************************/
// compose choice trong xn thì mẫu là compose_globalNG_RAN_id()
/* 1 - compose primitive intergrate for choice fields */

/* 2 - compose choice */
xnap_return_et e2ap_compose_GlobalE2node_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalE2node_ID             *p_e2ap_GlobalE2node_ID, //dest
                _e2ap_GlobalE2node_ID_t          *p_GlobalE2node_ID //src
)
{
    p_e2ap_GlobalE2node_ID->t =  p_GlobalE2node_ID->choice_type;
    xnap_return_et retVal = XNAP_SUCCESS;

    switch(p_GlobalE2node_ID->t)
    {
        /*CHOICE_INDEX-1    gNB*/
        case: E2AP_GLOBAL_E2NODE_ID_e2ap_G_NB:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_GlobalE2node_ID->gNB = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalE2node_gNB_ID);
            if(XNAP_P_NULL == p_e2ap_GlobalE2node_ID->gNB)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field gNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_GlobalE2node_gNB_ID(&p_e2ap_GlobalE2node_ID->gNB);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_GlobalE2node_gNB_ID(p_asn1_ctx,
                                                    &p_e2ap_GlobalE2node_ID->gNB,
                                                    &p_GlobalE2node_ID->gNB))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field gNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-2    en_gNB*/
        case: E2AP_GLOBAL_E2NODE_ID_e2ap_EN_G_NB:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_GlobalE2node_ID->en_gNB = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalE2node_en_gNB_ID);
            if(XNAP_P_NULL == p_e2ap_GlobalE2node_ID->en_gNB)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field en_gNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_GlobalE2node_en_gNB_ID(&p_e2ap_GlobalE2node_ID->en_gNB);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_GlobalE2node_en_gNB_ID(p_asn1_ctx,
                                                    &p_e2ap_GlobalE2node_ID->en_gNB,
                                                    &p_GlobalE2node_ID->en_gNB))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field en_gNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-3    ng_eNB*/
        case: E2AP_GLOBAL_E2NODE_ID_e2ap_NG_E_NB:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_GlobalE2node_ID->ng_eNB = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalE2node_ng_eNB_ID);
            if(XNAP_P_NULL == p_e2ap_GlobalE2node_ID->ng_eNB)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ng_eNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_GlobalE2node_ng_eNB_ID(&p_e2ap_GlobalE2node_ID->ng_eNB);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_GlobalE2node_ng_eNB_ID(p_asn1_ctx,
                                                    &p_e2ap_GlobalE2node_ID->ng_eNB,
                                                    &p_GlobalE2node_ID->ng_eNB))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ng_eNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-4    eNB*/
        case: E2AP_GLOBAL_E2NODE_ID_e2ap_E_NB:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_GlobalE2node_ID->eNB = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalE2node_eNB_ID);
            if(XNAP_P_NULL == p_e2ap_GlobalE2node_ID->eNB)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field eNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_GlobalE2node_eNB_ID(&p_e2ap_GlobalE2node_ID->eNB);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_GlobalE2node_eNB_ID(p_asn1_ctx,
                                                    &p_e2ap_GlobalE2node_ID->eNB,
                                                    &p_GlobalE2node_ID->eNB))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field eNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

    }
    return retVal;
}/*****************************************************/
/*    PRIMITIVE E2nodeComponentInterfaceType            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - E2nodeComponentInterfaceType
   xnap_return_et e2ap_compose_E2nodeComponentInterfaceType( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_E2nodeComponentInterfaceType  *p_dest,//dest
                        _e2ap_E2nodeComponentInterfaceType_et  *p_src//src
)
{
    *p_dest = (e2ap_E2nodeComponentInterfaceType)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE AMFName            */
/*****************************************************/
// cpmpose primitive - id = 10 - PrintableString (SIZE(1..150, ...)) - AMFName
     xnap_return_et e2ap_compose_AMFName(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_AMFName  *p_dest,//dest
                        _e2ap_AMFName_t  *p_src//src
)
{
// chưa xong
    *p_dest = * p_src;
    return XNAP_SUCCESS;
}
 
/************************************************************/
/*      SEQUENCE E2nodeComponentInterfaceNG                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentInterfaceNG(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentInterfaceNG                 *p_e2ap_E2nodeComponentInterfaceNG, //dest
                _e2ap_E2nodeComponentInterfaceNG_t              *p_E2nodeComponentInterfaceNG //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode amf_name alias-id = 10 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_AMFName(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentInterfaceNG->amf_name,
                                                &p_E2nodeComponentInterfaceNG->amf_name))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field amf_name",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode amf_name*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
 /*      CHOICE GlobalNG_RANNode_ID                */
 /************************************************************/
// compose choice trong xn thì mẫu là compose_globalNG_RAN_id()
/* 1 - compose primitive intergrate for choice fields */

/* 2 - compose choice */
xnap_return_et e2ap_compose_GlobalNG_RANNode_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalNG_RANNode_ID             *p_e2ap_GlobalNG_RANNode_ID, //dest
                _e2ap_GlobalNG_RANNode_ID_t          *p_GlobalNG_RANNode_ID //src
)
{
    p_e2ap_GlobalNG_RANNode_ID->t =  p_GlobalNG_RANNode_ID->choice_type;
    xnap_return_et retVal = XNAP_SUCCESS;

    switch(p_GlobalNG_RANNode_ID->t)
    {
        /*CHOICE_INDEX-1    gNB*/
        case: E2AP_GLOBAL_NG_RANNODE_ID_e2ap_G_NB:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_GlobalNG_RANNode_ID->gNB = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalgNB_ID);
            if(XNAP_P_NULL == p_e2ap_GlobalNG_RANNode_ID->gNB)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field gNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_GlobalgNB_ID(&p_e2ap_GlobalNG_RANNode_ID->gNB);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_GlobalgNB_ID(p_asn1_ctx,
                                                    &p_e2ap_GlobalNG_RANNode_ID->gNB,
                                                    &p_GlobalNG_RANNode_ID->gNB))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field gNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-2    ng_eNB*/
        case: E2AP_GLOBAL_NG_RANNODE_ID_e2ap_NG_E_NB:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_GlobalNG_RANNode_ID->ng_eNB = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalngeNB_ID);
            if(XNAP_P_NULL == p_e2ap_GlobalNG_RANNode_ID->ng_eNB)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ng_eNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_GlobalngeNB_ID(&p_e2ap_GlobalNG_RANNode_ID->ng_eNB);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_GlobalngeNB_ID(p_asn1_ctx,
                                                    &p_e2ap_GlobalNG_RANNode_ID->ng_eNB,
                                                    &p_GlobalNG_RANNode_ID->ng_eNB))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ng_eNB",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

    }
    return retVal;
}/************************************************************/
/*      SEQUENCE E2nodeComponentInterfaceXn                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentInterfaceXn(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentInterfaceXn                 *p_e2ap_E2nodeComponentInterfaceXn, //dest
                _e2ap_E2nodeComponentInterfaceXn_t              *p_E2nodeComponentInterfaceXn //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode global_NG_RAN_Node_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentInterfaceXn->global_NG_RAN_Node_ID = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalNG_RANNode_ID);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentInterfaceXn->global_NG_RAN_Node_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field global_NG_RAN_Node_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_GlobalNG_RANNode_ID(&p_e2ap_E2nodeComponentInterfaceXn->global_NG_RAN_Node_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_GlobalNG_RANNode_ID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentInterfaceXn->global_NG_RAN_Node_ID,
                                                &p_E2nodeComponentInterfaceXn->global_NG_RAN_Node_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field global_NG_RAN_Node_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode global_NG_RAN_Node_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE E2nodeComponentInterfaceE1                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentInterfaceE1(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentInterfaceE1                 *p_e2ap_E2nodeComponentInterfaceE1, //dest
                _e2ap_E2nodeComponentInterfaceE1_t              *p_E2nodeComponentInterfaceE1 //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode gNB_CU_UP_ID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_GNB_CU_UP_ID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentInterfaceE1->gNB_CU_UP_ID,
                                                &p_E2nodeComponentInterfaceE1->gNB_CU_UP_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field gNB_CU_UP_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode gNB_CU_UP_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE E2nodeComponentInterfaceF1                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentInterfaceF1(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentInterfaceF1                 *p_e2ap_E2nodeComponentInterfaceF1, //dest
                _e2ap_E2nodeComponentInterfaceF1_t              *p_E2nodeComponentInterfaceF1 //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode gNB_DU_ID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_GNB_DU_ID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentInterfaceF1->gNB_DU_ID,
                                                &p_E2nodeComponentInterfaceF1->gNB_DU_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field gNB_DU_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode gNB_DU_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE E2nodeComponentInterfaceW1                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentInterfaceW1(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentInterfaceW1                 *p_e2ap_E2nodeComponentInterfaceW1, //dest
                _e2ap_E2nodeComponentInterfaceW1_t              *p_E2nodeComponentInterfaceW1 //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ng_eNB_DU_ID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_NGENB_DU_ID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentInterfaceW1->ng_eNB_DU_ID,
                                                &p_E2nodeComponentInterfaceW1->ng_eNB_DU_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ng_eNB_DU_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ng_eNB_DU_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/*****************************************************/
/*    PRIMITIVE MMEname            */
/*****************************************************/
// cpmpose primitive - id = 10 - PrintableString (SIZE(1..150, ...)) - MMEname
     xnap_return_et e2ap_compose_MMEname(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_MMEname  *p_dest,//dest
                        _e2ap_MMEname_t  *p_src//src
)
{
// chưa xong
    *p_dest = * p_src;
    return XNAP_SUCCESS;
}
 
/************************************************************/
/*      SEQUENCE E2nodeComponentInterfaceS1                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentInterfaceS1(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentInterfaceS1                 *p_e2ap_E2nodeComponentInterfaceS1, //dest
                _e2ap_E2nodeComponentInterfaceS1_t              *p_E2nodeComponentInterfaceS1 //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode mme_name alias-id = 10 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_MMEname(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentInterfaceS1->mme_name,
                                                &p_E2nodeComponentInterfaceS1->mme_name))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field mme_name",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode mme_name*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE E2nodeComponentInterfaceX2                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentInterfaceX2(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentInterfaceX2                 *p_e2ap_E2nodeComponentInterfaceX2, //dest
                _e2ap_E2nodeComponentInterfaceX2_t              *p_E2nodeComponentInterfaceX2 //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode global_eNB_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentInterfaceX2->global_eNB_ID = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalENB_ID);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentInterfaceX2->global_eNB_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field global_eNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_GlobalENB_ID(&p_e2ap_E2nodeComponentInterfaceX2->global_eNB_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_GlobalENB_ID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentInterfaceX2->global_eNB_ID,
                                                &p_E2nodeComponentInterfaceX2->global_eNB_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field global_eNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode global_eNB_ID*/

    {  /*SEQ_ELEM-2  Encode global_en_gNB_ID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentInterfaceX2->global_en_gNB_ID = rtxMemAllocType(p_asn1_ctx, e2ap_GlobalenGNB_ID);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentInterfaceX2->global_en_gNB_ID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field global_en_gNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_GlobalenGNB_ID(&p_e2ap_E2nodeComponentInterfaceX2->global_en_gNB_ID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_GlobalenGNB_ID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentInterfaceX2->global_en_gNB_ID,
                                                &p_E2nodeComponentInterfaceX2->global_en_gNB_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field global_en_gNB_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode global_en_gNB_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
 /*      CHOICE E2nodeComponentID                */
 /************************************************************/
// compose choice trong xn thì mẫu là compose_globalNG_RAN_id()
/* 1 - compose primitive intergrate for choice fields */

/* 2 - compose choice */
xnap_return_et e2ap_compose_E2nodeComponentID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentID             *p_e2ap_E2nodeComponentID, //dest
                _e2ap_E2nodeComponentID_t          *p_E2nodeComponentID //src
)
{
    p_e2ap_E2nodeComponentID->t =  p_E2nodeComponentID->choice_type;
    xnap_return_et retVal = XNAP_SUCCESS;

    switch(p_E2nodeComponentID->t)
    {
        /*CHOICE_INDEX-1    e2nodeComponentInterfaceTypeNG*/
        case: E2AP_E2NODE_COMPONENT_ID_e2ap_E2NODE_COMPONENT_INTERFACE_TYPE_NG:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeNG = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentInterfaceNG);
            if(XNAP_P_NULL == p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeNG)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentInterfaceTypeNG",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_E2nodeComponentInterfaceNG(&p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeNG);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceNG(p_asn1_ctx,
                                                    &p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeNG,
                                                    &p_E2nodeComponentID->e2nodeComponentInterfaceTypeNG))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceTypeNG",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-2    e2nodeComponentInterfaceTypeXn*/
        case: E2AP_E2NODE_COMPONENT_ID_e2ap_E2NODE_COMPONENT_INTERFACE_TYPE_XN:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeXn = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentInterfaceXn);
            if(XNAP_P_NULL == p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeXn)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentInterfaceTypeXn",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_E2nodeComponentInterfaceXn(&p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeXn);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceXn(p_asn1_ctx,
                                                    &p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeXn,
                                                    &p_E2nodeComponentID->e2nodeComponentInterfaceTypeXn))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceTypeXn",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-3    e2nodeComponentInterfaceTypeE1*/
        case: E2AP_E2NODE_COMPONENT_ID_e2ap_E2NODE_COMPONENT_INTERFACE_TYPE_E1:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeE1 = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentInterfaceE1);
            if(XNAP_P_NULL == p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeE1)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentInterfaceTypeE1",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_E2nodeComponentInterfaceE1(&p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeE1);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceE1(p_asn1_ctx,
                                                    &p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeE1,
                                                    &p_E2nodeComponentID->e2nodeComponentInterfaceTypeE1))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceTypeE1",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-4    e2nodeComponentInterfaceTypeF1*/
        case: E2AP_E2NODE_COMPONENT_ID_e2ap_E2NODE_COMPONENT_INTERFACE_TYPE_F1:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeF1 = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentInterfaceF1);
            if(XNAP_P_NULL == p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeF1)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentInterfaceTypeF1",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_E2nodeComponentInterfaceF1(&p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeF1);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceF1(p_asn1_ctx,
                                                    &p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeF1,
                                                    &p_E2nodeComponentID->e2nodeComponentInterfaceTypeF1))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceTypeF1",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-5    e2nodeComponentInterfaceTypeW1*/
        case: E2AP_E2NODE_COMPONENT_ID_e2ap_E2NODE_COMPONENT_INTERFACE_TYPE_W1:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeW1 = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentInterfaceW1);
            if(XNAP_P_NULL == p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeW1)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentInterfaceTypeW1",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_E2nodeComponentInterfaceW1(&p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeW1);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceW1(p_asn1_ctx,
                                                    &p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeW1,
                                                    &p_E2nodeComponentID->e2nodeComponentInterfaceTypeW1))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceTypeW1",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-6    e2nodeComponentInterfaceTypeS1*/
        case: E2AP_E2NODE_COMPONENT_ID_e2ap_E2NODE_COMPONENT_INTERFACE_TYPE_S1:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeS1 = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentInterfaceS1);
            if(XNAP_P_NULL == p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeS1)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentInterfaceTypeS1",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_E2nodeComponentInterfaceS1(&p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeS1);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceS1(p_asn1_ctx,
                                                    &p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeS1,
                                                    &p_E2nodeComponentID->e2nodeComponentInterfaceTypeS1))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceTypeS1",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

        /*CHOICE_INDEX-7    e2nodeComponentInterfaceTypeX2*/
        case: E2AP_E2NODE_COMPONENT_ID_e2ap_E2NODE_COMPONENT_INTERFACE_TYPE_X2:
        {
            /* == not primitive (SEQ or CHOICE)==*/
                /* 1.alloc mem */
            p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeX2 = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentInterfaceX2);
            if(XNAP_P_NULL == p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeX2)
            {
                XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentInterfaceTypeX2",__FUNCTION__);
                return XNAP_FAILURE;
            }
                /* 2.init */
            asn1Init_e2ap_E2nodeComponentInterfaceX2(&p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeX2);
                /* 3.compose */
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceX2(p_asn1_ctx,
                                                    &p_e2ap_E2nodeComponentID->e2nodeComponentInterfaceTypeX2,
                                                    &p_E2nodeComponentID->e2nodeComponentInterfaceTypeX2))
            {
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceTypeX2",__FUNCTION__);
                return XNAP_FAILURE;
            }
            break;
        }

    }
    return retVal;
}/************************************************************/
/*      SEQUENCE E2nodeComponentConfiguration                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */
     // id = 9 - OCTET STRING - e2nodeComponentRequestPart
           
     // id = 9 - OCTET STRING - e2nodeComponentResponsePart
           


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentConfiguration(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentConfiguration                 *p_e2ap_E2nodeComponentConfiguration, //dest
                _e2ap_E2nodeComponentConfiguration_t              *p_E2nodeComponentConfiguration //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode e2nodeComponentRequestPart alias-id = -1 - primitive = True*/
        /*==primitive in scope==*/
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfiguration_e2nodeComponentRequestPart(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfiguration->e2nodeComponentRequestPart,
                                                &p_E2nodeComponentConfiguration->e2nodeComponentRequestPart))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentRequestPart",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode e2nodeComponentRequestPart*/

    {  /*SEQ_ELEM-2  Encode e2nodeComponentResponsePart alias-id = -1 - primitive = True*/
        /*==primitive in scope==*/
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfiguration_e2nodeComponentResponsePart(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfiguration->e2nodeComponentResponsePart,
                                                &p_E2nodeComponentConfiguration->e2nodeComponentResponsePart))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentResponsePart",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode e2nodeComponentResponsePart*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE E2nodeComponentConfigAddition_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentConfigAddition_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentConfigAddition_Item                 *p_e2ap_E2nodeComponentConfigAddition_Item, //dest
                _e2ap_E2nodeComponentConfigAddition_Item_t              *p_E2nodeComponentConfigAddition_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode e2nodeComponentInterfaceType alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceType(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigAddition_Item->e2nodeComponentInterfaceType,
                                                &p_E2nodeComponentConfigAddition_Item->e2nodeComponentInterfaceType))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceType",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode e2nodeComponentInterfaceType*/

    {  /*SEQ_ELEM-2  Encode e2nodeComponentID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigAddition_Item->e2nodeComponentID = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentID);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigAddition_Item->e2nodeComponentID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentID(&p_e2ap_E2nodeComponentConfigAddition_Item->e2nodeComponentID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigAddition_Item->e2nodeComponentID,
                                                &p_E2nodeComponentConfigAddition_Item->e2nodeComponentID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode e2nodeComponentID*/

    {  /*SEQ_ELEM-3  Encode e2nodeComponentConfiguration alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigAddition_Item->e2nodeComponentConfiguration = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfiguration);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigAddition_Item->e2nodeComponentConfiguration)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentConfiguration",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentConfiguration(&p_e2ap_E2nodeComponentConfigAddition_Item->e2nodeComponentConfiguration);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfiguration(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigAddition_Item->e2nodeComponentConfiguration,
                                                &p_E2nodeComponentConfigAddition_Item->e2nodeComponentConfiguration))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentConfiguration",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode e2nodeComponentConfiguration*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_E2nodeComponentConfigAddition_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_E2nodeComponentConfigAddition_List,
                _e2ap_E2nodeComponentConfigAddition_List_t       *p_E2nodeComponentConfigAddition_List
){
    e2ap_E2nodeComponentConfigAddition_ItemIEs   *p_E2nodeComponentConfigAddition_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_E2nodeComponentConfigAddition_List->id_E2nodeComponentConfigAddition_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_E2nodeComponentConfigAddition_ItemIEs,
                                &p_node_list,
                                &p_E2nodeComponentConfigAddition_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigAddition-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_E2nodeComponentConfigAddition_ItemIEs(p_E2nodeComponentConfigAddition_ItemIEs);
        p_E2nodeComponentConfigAddition_ItemIEs->id = ASN1V_e2ap_id_E2nodeComponentConfigAddition_Item;
        p_E2nodeComponentConfigAddition_ItemIEs->criticality = e2ap_reject;
        p_E2nodeComponentConfigAddition_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_E2nodeComponentConfigAddition_ItemIEs_id_E2nodeComponentConfigAddition_Item;
        p_E2nodeComponentConfigAddition_ItemIEs->value.u._e2apE2nodeComponentConfigAddition_ItemIEs_id_E2nodeComponentConfigAddition_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfigAddition_ItemIEs);
        if(GNB_PNULL==p_E2nodeComponentConfigAddition_ItemIEs->value.u._e2apE2nodeComponentConfigAddition_ItemIEs_id_E2nodeComponentConfigAddition_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigAddition-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigAddition_Item(p_asn1_ctx,
                                                p_E2nodeComponentConfigAddition_ItemIEs->value.u._e2apE2nodeComponentConfigAddition_ItemIEs_id_E2nodeComponentConfigAddition_Item,
                                                &p_E2nodeComponentConfigAddition_List->id_E2nodeComponentConfigAddition_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigAddition-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_E2nodeComponentConfigAddition_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE E2nodeComponentConfigUpdate_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentConfigUpdate_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentConfigUpdate_Item                 *p_e2ap_E2nodeComponentConfigUpdate_Item, //dest
                _e2ap_E2nodeComponentConfigUpdate_Item_t              *p_E2nodeComponentConfigUpdate_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode e2nodeComponentInterfaceType alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceType(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigUpdate_Item->e2nodeComponentInterfaceType,
                                                &p_E2nodeComponentConfigUpdate_Item->e2nodeComponentInterfaceType))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceType",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode e2nodeComponentInterfaceType*/

    {  /*SEQ_ELEM-2  Encode e2nodeComponentID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigUpdate_Item->e2nodeComponentID = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentID);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigUpdate_Item->e2nodeComponentID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentID(&p_e2ap_E2nodeComponentConfigUpdate_Item->e2nodeComponentID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigUpdate_Item->e2nodeComponentID,
                                                &p_E2nodeComponentConfigUpdate_Item->e2nodeComponentID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode e2nodeComponentID*/

    {  /*SEQ_ELEM-3  Encode e2nodeComponentConfiguration alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigUpdate_Item->e2nodeComponentConfiguration = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfiguration);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigUpdate_Item->e2nodeComponentConfiguration)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentConfiguration",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentConfiguration(&p_e2ap_E2nodeComponentConfigUpdate_Item->e2nodeComponentConfiguration);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfiguration(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigUpdate_Item->e2nodeComponentConfiguration,
                                                &p_E2nodeComponentConfigUpdate_Item->e2nodeComponentConfiguration))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentConfiguration",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode e2nodeComponentConfiguration*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_E2nodeComponentConfigUpdate_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_E2nodeComponentConfigUpdate_List,
                _e2ap_E2nodeComponentConfigUpdate_List_t       *p_E2nodeComponentConfigUpdate_List
){
    e2ap_E2nodeComponentConfigUpdate_ItemIEs   *p_E2nodeComponentConfigUpdate_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_E2nodeComponentConfigUpdate_List->id_E2nodeComponentConfigUpdate_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_E2nodeComponentConfigUpdate_ItemIEs,
                                &p_node_list,
                                &p_E2nodeComponentConfigUpdate_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigUpdate-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_E2nodeComponentConfigUpdate_ItemIEs(p_E2nodeComponentConfigUpdate_ItemIEs);
        p_E2nodeComponentConfigUpdate_ItemIEs->id = ASN1V_e2ap_id_E2nodeComponentConfigUpdate_Item;
        p_E2nodeComponentConfigUpdate_ItemIEs->criticality = e2ap_reject;
        p_E2nodeComponentConfigUpdate_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_E2nodeComponentConfigUpdate_ItemIEs_id_E2nodeComponentConfigUpdate_Item;
        p_E2nodeComponentConfigUpdate_ItemIEs->value.u._e2apE2nodeComponentConfigUpdate_ItemIEs_id_E2nodeComponentConfigUpdate_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfigUpdate_ItemIEs);
        if(GNB_PNULL==p_E2nodeComponentConfigUpdate_ItemIEs->value.u._e2apE2nodeComponentConfigUpdate_ItemIEs_id_E2nodeComponentConfigUpdate_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigUpdate-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigUpdate_Item(p_asn1_ctx,
                                                p_E2nodeComponentConfigUpdate_ItemIEs->value.u._e2apE2nodeComponentConfigUpdate_ItemIEs_id_E2nodeComponentConfigUpdate_Item,
                                                &p_E2nodeComponentConfigUpdate_List->id_E2nodeComponentConfigUpdate_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigUpdate-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_E2nodeComponentConfigUpdate_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE E2nodeComponentConfigRemoval_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentConfigRemoval_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentConfigRemoval_Item                 *p_e2ap_E2nodeComponentConfigRemoval_Item, //dest
                _e2ap_E2nodeComponentConfigRemoval_Item_t              *p_E2nodeComponentConfigRemoval_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode e2nodeComponentInterfaceType alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceType(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigRemoval_Item->e2nodeComponentInterfaceType,
                                                &p_E2nodeComponentConfigRemoval_Item->e2nodeComponentInterfaceType))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceType",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode e2nodeComponentInterfaceType*/

    {  /*SEQ_ELEM-2  Encode e2nodeComponentID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigRemoval_Item->e2nodeComponentID = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentID);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigRemoval_Item->e2nodeComponentID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentID(&p_e2ap_E2nodeComponentConfigRemoval_Item->e2nodeComponentID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigRemoval_Item->e2nodeComponentID,
                                                &p_E2nodeComponentConfigRemoval_Item->e2nodeComponentID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode e2nodeComponentID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_E2nodeComponentConfigRemoval_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_E2nodeComponentConfigRemoval_List,
                _e2ap_E2nodeComponentConfigRemoval_List_t       *p_E2nodeComponentConfigRemoval_List
){
    e2ap_E2nodeComponentConfigRemoval_ItemIEs   *p_E2nodeComponentConfigRemoval_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_E2nodeComponentConfigRemoval_List->id_E2nodeComponentConfigRemoval_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_E2nodeComponentConfigRemoval_ItemIEs,
                                &p_node_list,
                                &p_E2nodeComponentConfigRemoval_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigRemoval-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_E2nodeComponentConfigRemoval_ItemIEs(p_E2nodeComponentConfigRemoval_ItemIEs);
        p_E2nodeComponentConfigRemoval_ItemIEs->id = ASN1V_e2ap_id_E2nodeComponentConfigRemoval_Item;
        p_E2nodeComponentConfigRemoval_ItemIEs->criticality = e2ap_reject;
        p_E2nodeComponentConfigRemoval_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_E2nodeComponentConfigRemoval_ItemIEs_id_E2nodeComponentConfigRemoval_Item;
        p_E2nodeComponentConfigRemoval_ItemIEs->value.u._e2apE2nodeComponentConfigRemoval_ItemIEs_id_E2nodeComponentConfigRemoval_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfigRemoval_ItemIEs);
        if(GNB_PNULL==p_E2nodeComponentConfigRemoval_ItemIEs->value.u._e2apE2nodeComponentConfigRemoval_ItemIEs_id_E2nodeComponentConfigRemoval_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigRemoval-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigRemoval_Item(p_asn1_ctx,
                                                p_E2nodeComponentConfigRemoval_ItemIEs->value.u._e2apE2nodeComponentConfigRemoval_ItemIEs_id_E2nodeComponentConfigRemoval_Item,
                                                &p_E2nodeComponentConfigRemoval_List->id_E2nodeComponentConfigRemoval_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigRemoval-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_E2nodeComponentConfigRemoval_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE E2nodeTNLassociationRemoval_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeTNLassociationRemoval_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeTNLassociationRemoval_Item                 *p_e2ap_E2nodeTNLassociationRemoval_Item, //dest
                _e2ap_E2nodeTNLassociationRemoval_Item_t              *p_E2nodeTNLassociationRemoval_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode tnlInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeTNLassociationRemoval_Item->tnlInformation = rtxMemAllocType(p_asn1_ctx, e2ap_TNLinformation);
        if(XNAP_P_NULL == p_e2ap_E2nodeTNLassociationRemoval_Item->tnlInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field tnlInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_TNLinformation(&p_e2ap_E2nodeTNLassociationRemoval_Item->tnlInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_TNLinformation(p_asn1_ctx,
                                                &p_e2ap_E2nodeTNLassociationRemoval_Item->tnlInformation,
                                                &p_E2nodeTNLassociationRemoval_Item->tnlInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field tnlInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode tnlInformation*/

    {  /*SEQ_ELEM-2  Encode tnlInformationRIC alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeTNLassociationRemoval_Item->tnlInformationRIC = rtxMemAllocType(p_asn1_ctx, e2ap_TNLinformation);
        if(XNAP_P_NULL == p_e2ap_E2nodeTNLassociationRemoval_Item->tnlInformationRIC)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field tnlInformationRIC",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_TNLinformation(&p_e2ap_E2nodeTNLassociationRemoval_Item->tnlInformationRIC);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_TNLinformation(p_asn1_ctx,
                                                &p_e2ap_E2nodeTNLassociationRemoval_Item->tnlInformationRIC,
                                                &p_E2nodeTNLassociationRemoval_Item->tnlInformationRIC))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field tnlInformationRIC",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode tnlInformationRIC*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_E2nodeTNLassociationRemoval_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_E2nodeTNLassociationRemoval_List,
                _e2ap_E2nodeTNLassociationRemoval_List_t       *p_E2nodeTNLassociationRemoval_List
){
    e2ap_E2nodeTNLassociationRemoval_ItemIEs   *p_E2nodeTNLassociationRemoval_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_E2nodeTNLassociationRemoval_List->id_E2nodeTNLassociationRemoval_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_E2nodeTNLassociationRemoval_ItemIEs,
                                &p_node_list,
                                &p_E2nodeTNLassociationRemoval_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeTNLassociationRemoval-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_E2nodeTNLassociationRemoval_ItemIEs(p_E2nodeTNLassociationRemoval_ItemIEs);
        p_E2nodeTNLassociationRemoval_ItemIEs->id = ASN1V_e2ap_id_E2nodeTNLassociationRemoval_Item;
        p_E2nodeTNLassociationRemoval_ItemIEs->criticality = e2ap_reject;
        p_E2nodeTNLassociationRemoval_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_E2nodeTNLassociationRemoval_ItemIEs_id_E2nodeTNLassociationRemoval_Item;
        p_E2nodeTNLassociationRemoval_ItemIEs->value.u._e2apE2nodeTNLassociationRemoval_ItemIEs_id_E2nodeTNLassociationRemoval_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeTNLassociationRemoval_ItemIEs);
        if(GNB_PNULL==p_E2nodeTNLassociationRemoval_ItemIEs->value.u._e2apE2nodeTNLassociationRemoval_ItemIEs_id_E2nodeTNLassociationRemoval_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeTNLassociationRemoval-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_E2nodeTNLassociationRemoval_Item(p_asn1_ctx,
                                                p_E2nodeTNLassociationRemoval_ItemIEs->value.u._e2apE2nodeTNLassociationRemoval_ItemIEs_id_E2nodeTNLassociationRemoval_Item,
                                                &p_E2nodeTNLassociationRemoval_List->id_E2nodeTNLassociationRemoval_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeTNLassociationRemoval-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_E2nodeTNLassociationRemoval_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_E2nodeConfigurationUpdate                    */
/*                                                */
/**************************************************/
/*
E2nodeConfigurationUpdate
    E2nodeConfigurationUpdate-IEs
        TransactionID
        GlobalE2node-ID
            GlobalE2node-gNB-ID
                GlobalgNB-ID
                    PLMN-Identity
                    GNB-ID-Choice
                        gnb-ID
                GlobalenGNB-ID
                    PLMN-Identity
                    ENGNB-ID
                        gNB-ID
                GNB-CU-UP-ID
                GNB-DU-ID
            GlobalE2node-en-gNB-ID
                GlobalenGNB-ID
                    PLMN-Identity
                    ENGNB-ID
                        gNB-ID
                GNB-CU-UP-ID
                GNB-DU-ID
            GlobalE2node-ng-eNB-ID
                GlobalngeNB-ID
                    PLMN-Identity
                    ENB-ID-Choice
                        enb-ID-macro
                        enb-ID-shortmacro
                        enb-ID-longmacro
                GlobalENB-ID
                    PLMN-Identity
                    ENB-ID
                        macro-eNB-ID
                        home-eNB-ID
                        short-Macro-eNB-ID
                        long-Macro-eNB-ID
                NGENB-DU-ID
            GlobalE2node-eNB-ID
                GlobalENB-ID
                    PLMN-Identity
                    ENB-ID
                        macro-eNB-ID
                        home-eNB-ID
                        short-Macro-eNB-ID
                        long-Macro-eNB-ID
        E2nodeComponentConfigAddition-List
            E2nodeComponentConfigAddition-ItemIEs
                E2nodeComponentConfigAddition-Item
                    E2nodeComponentInterfaceType
                    E2nodeComponentID
                        E2nodeComponentInterfaceNG
                            AMFName
                                PrintableString
                        E2nodeComponentInterfaceXn
                            GlobalNG-RANNode-ID
                                GlobalgNB-ID
                                    PLMN-Identity
                                    GNB-ID-Choice
                                        gnb-ID
                                GlobalngeNB-ID
                                    PLMN-Identity
                                    ENB-ID-Choice
                                        enb-ID-macro
                                        enb-ID-shortmacro
                                        enb-ID-longmacro
                        E2nodeComponentInterfaceE1
                            GNB-CU-UP-ID
                        E2nodeComponentInterfaceF1
                            GNB-DU-ID
                        E2nodeComponentInterfaceW1
                            NGENB-DU-ID
                        E2nodeComponentInterfaceS1
                            MMEname
                                PrintableString
                        E2nodeComponentInterfaceX2
                            GlobalENB-ID
                                PLMN-Identity
                                ENB-ID
                                    macro-eNB-ID
                                    home-eNB-ID
                                    short-Macro-eNB-ID
                                    long-Macro-eNB-ID
                            GlobalenGNB-ID
                                PLMN-Identity
                                ENGNB-ID
                                    gNB-ID
                    E2nodeComponentConfiguration
                        e2nodeComponentRequestPart
                        e2nodeComponentResponsePart
        E2nodeComponentConfigUpdate-List
            E2nodeComponentConfigUpdate-ItemIEs
                E2nodeComponentConfigUpdate-Item
                    E2nodeComponentInterfaceType
                    E2nodeComponentID
                        E2nodeComponentInterfaceNG
                            AMFName
                                PrintableString
                        E2nodeComponentInterfaceXn
                            GlobalNG-RANNode-ID
                                GlobalgNB-ID
                                    PLMN-Identity
                                    GNB-ID-Choice
                                        gnb-ID
                                GlobalngeNB-ID
                                    PLMN-Identity
                                    ENB-ID-Choice
                                        enb-ID-macro
                                        enb-ID-shortmacro
                                        enb-ID-longmacro
                        E2nodeComponentInterfaceE1
                            GNB-CU-UP-ID
                        E2nodeComponentInterfaceF1
                            GNB-DU-ID
                        E2nodeComponentInterfaceW1
                            NGENB-DU-ID
                        E2nodeComponentInterfaceS1
                            MMEname
                                PrintableString
                        E2nodeComponentInterfaceX2
                            GlobalENB-ID
                                PLMN-Identity
                                ENB-ID
                                    macro-eNB-ID
                                    home-eNB-ID
                                    short-Macro-eNB-ID
                                    long-Macro-eNB-ID
                            GlobalenGNB-ID
                                PLMN-Identity
                                ENGNB-ID
                                    gNB-ID
                    E2nodeComponentConfiguration
                        e2nodeComponentRequestPart
                        e2nodeComponentResponsePart
        E2nodeComponentConfigRemoval-List
            E2nodeComponentConfigRemoval-ItemIEs
                E2nodeComponentConfigRemoval-Item
                    E2nodeComponentInterfaceType
                    E2nodeComponentID
                        E2nodeComponentInterfaceNG
                            AMFName
                                PrintableString
                        E2nodeComponentInterfaceXn
                            GlobalNG-RANNode-ID
                                GlobalgNB-ID
                                    PLMN-Identity
                                    GNB-ID-Choice
                                        gnb-ID
                                GlobalngeNB-ID
                                    PLMN-Identity
                                    ENB-ID-Choice
                                        enb-ID-macro
                                        enb-ID-shortmacro
                                        enb-ID-longmacro
                        E2nodeComponentInterfaceE1
                            GNB-CU-UP-ID
                        E2nodeComponentInterfaceF1
                            GNB-DU-ID
                        E2nodeComponentInterfaceW1
                            NGENB-DU-ID
                        E2nodeComponentInterfaceS1
                            MMEname
                                PrintableString
                        E2nodeComponentInterfaceX2
                            GlobalENB-ID
                                PLMN-Identity
                                ENB-ID
                                    macro-eNB-ID
                                    home-eNB-ID
                                    short-Macro-eNB-ID
                                    long-Macro-eNB-ID
                            GlobalenGNB-ID
                                PLMN-Identity
                                ENGNB-ID
                                    gNB-ID
        E2nodeTNLassociationRemoval-List
            E2nodeTNLassociationRemoval-ItemIEs
                E2nodeTNLassociationRemoval-Item
                    TNLinformation
                        tnlAddress
                        ...
                        tnlPort
                    TNLinformation
                        tnlAddress
                        ...
                        tnlPort

*/
xnap_return_et e2ap_encode_E2nodeConfigurationUpdate(
                e2ap_E2nodeConfigurationUpdate_t* p_E2nodeConfigurationUpdate,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.TransactionID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalgNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalgNB-ID.GNB-ID-Choice.gnb-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalgNB-ID.GNB-ID-Choice
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalgNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalenGNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalenGNB-ID.ENGNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalenGNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GNB-CU-UP-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GNB-DU-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-gNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GlobalenGNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GlobalenGNB-ID.ENGNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GlobalenGNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GNB-CU-UP-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GNB-DU-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-macro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-shortmacro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-longmacro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID.ENB-ID-Choice
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.ENB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.NGENB-DU-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.ENB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID.GlobalE2node-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.GlobalE2node-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentInterfaceType
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceNG.AMFName
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceNG
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice.gnb-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-macro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-shortmacro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-longmacro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceE1.GNB-CU-UP-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceE1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceF1.GNB-DU-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceF1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceW1.NGENB-DU-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceW1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceS1.MMEname
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceS1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentConfiguration.e2nodeComponentRequestPart
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentConfiguration.e2nodeComponentResponsePart
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentConfiguration
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigAddition-List
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentInterfaceType
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceNG.AMFName
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceNG
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice.gnb-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-macro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-shortmacro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-longmacro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceXn
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceE1.GNB-CU-UP-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceE1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceF1.GNB-DU-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceF1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceW1.NGENB-DU-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceW1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceS1.MMEname
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceS1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID.E2nodeComponentInterfaceX2
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentConfiguration.e2nodeComponentRequestPart
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentConfiguration.e2nodeComponentResponsePart
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item.E2nodeComponentConfiguration
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs.E2nodeComponentConfigUpdate-Item
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List.E2nodeComponentConfigUpdate-ItemIEs
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigUpdate-List
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentInterfaceType
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceNG.AMFName
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceNG
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice.gnb-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-macro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-shortmacro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-longmacro
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceXn
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceE1.GNB-CU-UP-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceE1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceF1.GNB-DU-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceF1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceW1.NGENB-DU-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceW1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceS1.MMEname
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceS1
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.PLMN-Identity
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID.E2nodeComponentInterfaceX2
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item.E2nodeComponentID
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs.E2nodeComponentConfigRemoval-Item
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List.E2nodeComponentConfigRemoval-ItemIEs
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeComponentConfigRemoval-List
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeTNLassociationRemoval-List.E2nodeTNLassociationRemoval-ItemIEs.E2nodeTNLassociationRemoval-Item.TNLinformation.tnlAddress
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeTNLassociationRemoval-List.E2nodeTNLassociationRemoval-ItemIEs.E2nodeTNLassociationRemoval-Item.TNLinformation....
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeTNLassociationRemoval-List.E2nodeTNLassociationRemoval-ItemIEs.E2nodeTNLassociationRemoval-Item.TNLinformation.tnlPort
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeTNLassociationRemoval-List.E2nodeTNLassociationRemoval-ItemIEs.E2nodeTNLassociationRemoval-Item.TNLinformation
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeTNLassociationRemoval-List.E2nodeTNLassociationRemoval-ItemIEs.E2nodeTNLassociationRemoval-Item
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeTNLassociationRemoval-List.E2nodeTNLassociationRemoval-ItemIEs
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs.E2nodeTNLassociationRemoval-List
// E2nodeConfigurationUpdate.E2nodeConfigurationUpdate-IEs
// E2nodeConfigurationUpdate

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2nodeConfigurationUpdate o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2nodeConfigurationUpdate* p_E2nodeConfigurationUpdate = GNB_PNULL;
    e2ap_E2nodeConfigurationUpdate_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_E2nodeConfigurationUpdate;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2nodeConfigurationUpdate;
        p_E2nodeConfigurationUpdate = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeConfigurationUpdate);
        if(GNB_PNULL==p_E2nodeConfigurationUpdate){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2nodeConfigurationUpdate",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2nodeConfigurationUpdate",__FUNCTION__);
        }

        asn1Init_e2ap_E2nodeConfigurationUpdate(p_E2nodeConfigurationUpdate);
        e2ap_pdu.u.initiatingMessage->value.u.e2nodeConfigurationUpdate = p_E2nodeConfigurationUpdate;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdate_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_TransactionID = p_E2nodeConfigurationUpdate->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_GlobalE2node_ID - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_GlobalE2node_ID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdate_IEs_id_GlobalE2node_ID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_GlobalE2node_ID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_GlobalE2node_ID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_GlobalE2node_ID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_GlobalE2node_ID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_GlobalE2node_ID(p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_GlobalE2node_ID);
            #endif
            //message_name.item_type -> type = GlobalE2node_ID
            if(XNAP_FAILURE == e2ap_compose_GlobalE2node_ID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_GlobalE2node_ID,
                                &p_E2nodeConfigurationUpdate->id_GlobalE2node_ID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field GlobalE2node_ID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field GlobalE2node_ID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_E2nodeComponentConfigAddition - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeComponentConfigAddition;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigAddition;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigAddition 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeComponentConfigAddition_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigAddition){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2nodeComponentConfigAddition",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2nodeComponentConfigAddition_List(p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigAddition);
            #endif
            //message_name.item_type -> type = E2nodeComponentConfigAddition_List
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigAddition_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigAddition,
                                &p_E2nodeConfigurationUpdate->id_E2nodeComponentConfigAddition)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigAddition_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2nodeComponentConfigAddition_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_E2nodeComponentConfigUpdate - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeComponentConfigUpdate;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigUpdate;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigUpdate 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeComponentConfigUpdate_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigUpdate){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2nodeComponentConfigUpdate",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2nodeComponentConfigUpdate_List(p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigUpdate);
            #endif
            //message_name.item_type -> type = E2nodeComponentConfigUpdate_List
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigUpdate_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigUpdate,
                                &p_E2nodeConfigurationUpdate->id_E2nodeComponentConfigUpdate)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigUpdate_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2nodeComponentConfigUpdate_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_E2nodeComponentConfigRemoval - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeComponentConfigRemoval;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigRemoval;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigRemoval 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeComponentConfigRemoval_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigRemoval){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2nodeComponentConfigRemoval",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2nodeComponentConfigRemoval_List(p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigRemoval);
            #endif
            //message_name.item_type -> type = E2nodeComponentConfigRemoval_List
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigRemoval_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeComponentConfigRemoval,
                                &p_E2nodeConfigurationUpdate->id_E2nodeComponentConfigRemoval)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigRemoval_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2nodeComponentConfigRemoval_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-6   encode id_E2nodeTNLassociationRemoval - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeTNLassociationRemoval;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdate_IEs_id_E2nodeTNLassociationRemoval;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeTNLassociationRemoval 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeTNLassociationRemoval_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeTNLassociationRemoval){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2nodeTNLassociationRemoval",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2nodeTNLassociationRemoval_List(p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeTNLassociationRemoval);
            #endif
            //message_name.item_type -> type = E2nodeTNLassociationRemoval_List
            if(XNAP_FAILURE == e2ap_compose_E2nodeTNLassociationRemoval_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdate_IEs_id_E2nodeTNLassociationRemoval,
                                &p_E2nodeConfigurationUpdate->id_E2nodeTNLassociationRemoval)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeTNLassociationRemoval_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2nodeTNLassociationRemoval_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE E2nodeComponentConfigurationAck                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */
     // id = 13 - ENUMERATED - updateOutcome
      xnap_return_et e2ap_compose_E2nodeComponentConfigurationAck_updateOutcome(
                OSCTXT                       *p_asn1_ctx,
                e2ap_E2nodeComponentConfigurationAck_updateOutcome                 *p_dest,//dest
                _e2ap_E2nodeComponentConfigurationAck_updateOutcome_et              *p_src//src
)
{
    *p_dest = (e2ap_E2nodeComponentConfigurationAck_updateOutcome)*p_src;
    return XNAP_SUCCESS;
}
     


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentConfigurationAck(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentConfigurationAck                 *p_e2ap_E2nodeComponentConfigurationAck, //dest
                _e2ap_E2nodeComponentConfigurationAck_t              *p_E2nodeComponentConfigurationAck //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode updateOutcome alias-id = -1 - primitive = True*/
        /*==primitive in scope==*/
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigurationAck_updateOutcome(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigurationAck->updateOutcome,
                                                &p_E2nodeComponentConfigurationAck->updateOutcome))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field updateOutcome",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode updateOutcome*/

    {  /*SEQ_ELEM-2  Encode failureCause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigurationAck->failureCause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigurationAck->failureCause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field failureCause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_E2nodeComponentConfigurationAck->failureCause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigurationAck->failureCause,
                                                &p_E2nodeComponentConfigurationAck->failureCause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field failureCause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode failureCause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE E2nodeComponentConfigAdditionAck_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentConfigAdditionAck_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentConfigAdditionAck_Item                 *p_e2ap_E2nodeComponentConfigAdditionAck_Item, //dest
                _e2ap_E2nodeComponentConfigAdditionAck_Item_t              *p_E2nodeComponentConfigAdditionAck_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode e2nodeComponentInterfaceType alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceType(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentInterfaceType,
                                                &p_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentInterfaceType))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceType",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode e2nodeComponentInterfaceType*/

    {  /*SEQ_ELEM-2  Encode e2nodeComponentID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentID = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentID);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentID(&p_e2ap_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentID,
                                                &p_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode e2nodeComponentID*/

    {  /*SEQ_ELEM-3  Encode e2nodeComponentConfigurationAck alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentConfigurationAck = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfigurationAck);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentConfigurationAck)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentConfigurationAck",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentConfigurationAck(&p_e2ap_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentConfigurationAck);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigurationAck(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentConfigurationAck,
                                                &p_E2nodeComponentConfigAdditionAck_Item->e2nodeComponentConfigurationAck))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentConfigurationAck",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode e2nodeComponentConfigurationAck*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_E2nodeComponentConfigAdditionAck_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_E2nodeComponentConfigAdditionAck_List,
                _e2ap_E2nodeComponentConfigAdditionAck_List_t       *p_E2nodeComponentConfigAdditionAck_List
){
    e2ap_E2nodeComponentConfigAdditionAck_ItemIEs   *p_E2nodeComponentConfigAdditionAck_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_E2nodeComponentConfigAdditionAck_List->id_E2nodeComponentConfigAdditionAck_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_E2nodeComponentConfigAdditionAck_ItemIEs,
                                &p_node_list,
                                &p_E2nodeComponentConfigAdditionAck_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigAdditionAck-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_E2nodeComponentConfigAdditionAck_ItemIEs(p_E2nodeComponentConfigAdditionAck_ItemIEs);
        p_E2nodeComponentConfigAdditionAck_ItemIEs->id = ASN1V_e2ap_id_E2nodeComponentConfigAdditionAck_Item;
        p_E2nodeComponentConfigAdditionAck_ItemIEs->criticality = e2ap_reject;
        p_E2nodeComponentConfigAdditionAck_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_E2nodeComponentConfigAdditionAck_ItemIEs_id_E2nodeComponentConfigAdditionAck_Item;
        p_E2nodeComponentConfigAdditionAck_ItemIEs->value.u._e2apE2nodeComponentConfigAdditionAck_ItemIEs_id_E2nodeComponentConfigAdditionAck_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfigAdditionAck_ItemIEs);
        if(GNB_PNULL==p_E2nodeComponentConfigAdditionAck_ItemIEs->value.u._e2apE2nodeComponentConfigAdditionAck_ItemIEs_id_E2nodeComponentConfigAdditionAck_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigAdditionAck-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigAdditionAck_Item(p_asn1_ctx,
                                                p_E2nodeComponentConfigAdditionAck_ItemIEs->value.u._e2apE2nodeComponentConfigAdditionAck_ItemIEs_id_E2nodeComponentConfigAdditionAck_Item,
                                                &p_E2nodeComponentConfigAdditionAck_List->id_E2nodeComponentConfigAdditionAck_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigAdditionAck-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_E2nodeComponentConfigAdditionAck_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE E2nodeComponentConfigUpdateAck_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentConfigUpdateAck_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentConfigUpdateAck_Item                 *p_e2ap_E2nodeComponentConfigUpdateAck_Item, //dest
                _e2ap_E2nodeComponentConfigUpdateAck_Item_t              *p_E2nodeComponentConfigUpdateAck_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode e2nodeComponentInterfaceType alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceType(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentInterfaceType,
                                                &p_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentInterfaceType))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceType",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode e2nodeComponentInterfaceType*/

    {  /*SEQ_ELEM-2  Encode e2nodeComponentID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentID = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentID);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentID(&p_e2ap_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentID,
                                                &p_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode e2nodeComponentID*/

    {  /*SEQ_ELEM-3  Encode e2nodeComponentConfigurationAck alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentConfigurationAck = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfigurationAck);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentConfigurationAck)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentConfigurationAck",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentConfigurationAck(&p_e2ap_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentConfigurationAck);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigurationAck(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentConfigurationAck,
                                                &p_E2nodeComponentConfigUpdateAck_Item->e2nodeComponentConfigurationAck))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentConfigurationAck",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode e2nodeComponentConfigurationAck*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_E2nodeComponentConfigUpdateAck_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_E2nodeComponentConfigUpdateAck_List,
                _e2ap_E2nodeComponentConfigUpdateAck_List_t       *p_E2nodeComponentConfigUpdateAck_List
){
    e2ap_E2nodeComponentConfigUpdateAck_ItemIEs   *p_E2nodeComponentConfigUpdateAck_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_E2nodeComponentConfigUpdateAck_List->id_E2nodeComponentConfigUpdateAck_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_E2nodeComponentConfigUpdateAck_ItemIEs,
                                &p_node_list,
                                &p_E2nodeComponentConfigUpdateAck_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigUpdateAck-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_E2nodeComponentConfigUpdateAck_ItemIEs(p_E2nodeComponentConfigUpdateAck_ItemIEs);
        p_E2nodeComponentConfigUpdateAck_ItemIEs->id = ASN1V_e2ap_id_E2nodeComponentConfigUpdateAck_Item;
        p_E2nodeComponentConfigUpdateAck_ItemIEs->criticality = e2ap_reject;
        p_E2nodeComponentConfigUpdateAck_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_E2nodeComponentConfigUpdateAck_ItemIEs_id_E2nodeComponentConfigUpdateAck_Item;
        p_E2nodeComponentConfigUpdateAck_ItemIEs->value.u._e2apE2nodeComponentConfigUpdateAck_ItemIEs_id_E2nodeComponentConfigUpdateAck_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfigUpdateAck_ItemIEs);
        if(GNB_PNULL==p_E2nodeComponentConfigUpdateAck_ItemIEs->value.u._e2apE2nodeComponentConfigUpdateAck_ItemIEs_id_E2nodeComponentConfigUpdateAck_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigUpdateAck-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigUpdateAck_Item(p_asn1_ctx,
                                                p_E2nodeComponentConfigUpdateAck_ItemIEs->value.u._e2apE2nodeComponentConfigUpdateAck_ItemIEs_id_E2nodeComponentConfigUpdateAck_Item,
                                                &p_E2nodeComponentConfigUpdateAck_List->id_E2nodeComponentConfigUpdateAck_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigUpdateAck-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_E2nodeComponentConfigUpdateAck_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE E2nodeComponentConfigRemovalAck_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_E2nodeComponentConfigRemovalAck_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_E2nodeComponentConfigRemovalAck_Item                 *p_e2ap_E2nodeComponentConfigRemovalAck_Item, //dest
                _e2ap_E2nodeComponentConfigRemovalAck_Item_t              *p_E2nodeComponentConfigRemovalAck_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode e2nodeComponentInterfaceType alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentInterfaceType(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentInterfaceType,
                                                &p_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentInterfaceType))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentInterfaceType",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode e2nodeComponentInterfaceType*/

    {  /*SEQ_ELEM-2  Encode e2nodeComponentID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentID = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentID);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentID(&p_e2ap_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentID(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentID,
                                                &p_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode e2nodeComponentID*/

    {  /*SEQ_ELEM-3  Encode e2nodeComponentConfigurationAck alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentConfigurationAck = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfigurationAck);
        if(XNAP_P_NULL == p_e2ap_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentConfigurationAck)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field e2nodeComponentConfigurationAck",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_E2nodeComponentConfigurationAck(&p_e2ap_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentConfigurationAck);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigurationAck(p_asn1_ctx,
                                                &p_e2ap_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentConfigurationAck,
                                                &p_E2nodeComponentConfigRemovalAck_Item->e2nodeComponentConfigurationAck))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field e2nodeComponentConfigurationAck",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode e2nodeComponentConfigurationAck*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_E2nodeComponentConfigRemovalAck_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_E2nodeComponentConfigRemovalAck_List,
                _e2ap_E2nodeComponentConfigRemovalAck_List_t       *p_E2nodeComponentConfigRemovalAck_List
){
    e2ap_E2nodeComponentConfigRemovalAck_ItemIEs   *p_E2nodeComponentConfigRemovalAck_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_E2nodeComponentConfigRemovalAck_List->id_E2nodeComponentConfigRemovalAck_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_E2nodeComponentConfigRemovalAck_ItemIEs,
                                &p_node_list,
                                &p_E2nodeComponentConfigRemovalAck_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigRemovalAck-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_E2nodeComponentConfigRemovalAck_ItemIEs(p_E2nodeComponentConfigRemovalAck_ItemIEs);
        p_E2nodeComponentConfigRemovalAck_ItemIEs->id = ASN1V_e2ap_id_E2nodeComponentConfigRemovalAck_Item;
        p_E2nodeComponentConfigRemovalAck_ItemIEs->criticality = e2ap_reject;
        p_E2nodeComponentConfigRemovalAck_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_E2nodeComponentConfigRemovalAck_ItemIEs_id_E2nodeComponentConfigRemovalAck_Item;
        p_E2nodeComponentConfigRemovalAck_ItemIEs->value.u._e2apE2nodeComponentConfigRemovalAck_ItemIEs_id_E2nodeComponentConfigRemovalAck_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_E2nodeComponentConfigRemovalAck_ItemIEs);
        if(GNB_PNULL==p_E2nodeComponentConfigRemovalAck_ItemIEs->value.u._e2apE2nodeComponentConfigRemovalAck_ItemIEs_id_E2nodeComponentConfigRemovalAck_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeComponentConfigRemovalAck-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigRemovalAck_Item(p_asn1_ctx,
                                                p_E2nodeComponentConfigRemovalAck_ItemIEs->value.u._e2apE2nodeComponentConfigRemovalAck_ItemIEs_id_E2nodeComponentConfigRemovalAck_Item,
                                                &p_E2nodeComponentConfigRemovalAck_List->id_E2nodeComponentConfigRemovalAck_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigRemovalAck-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_E2nodeComponentConfigRemovalAck_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_E2nodeConfigurationUpdateAcknowledge                    */
/*                                                */
/**************************************************/
/*
E2nodeConfigurationUpdateAcknowledge
    E2nodeConfigurationUpdateAcknowledge-IEs
        TransactionID
        E2nodeComponentConfigAdditionAck-List
            E2nodeComponentConfigAdditionAck-ItemIEs
                E2nodeComponentConfigAdditionAck-Item
                    E2nodeComponentInterfaceType
                    E2nodeComponentID
                        E2nodeComponentInterfaceNG
                            AMFName
                                PrintableString
                        E2nodeComponentInterfaceXn
                            GlobalNG-RANNode-ID
                                GlobalgNB-ID
                                    PLMN-Identity
                                    GNB-ID-Choice
                                        gnb-ID
                                GlobalngeNB-ID
                                    PLMN-Identity
                                    ENB-ID-Choice
                                        enb-ID-macro
                                        enb-ID-shortmacro
                                        enb-ID-longmacro
                        E2nodeComponentInterfaceE1
                            GNB-CU-UP-ID
                        E2nodeComponentInterfaceF1
                            GNB-DU-ID
                        E2nodeComponentInterfaceW1
                            NGENB-DU-ID
                        E2nodeComponentInterfaceS1
                            MMEname
                                PrintableString
                        E2nodeComponentInterfaceX2
                            GlobalENB-ID
                                PLMN-Identity
                                ENB-ID
                                    macro-eNB-ID
                                    home-eNB-ID
                                    short-Macro-eNB-ID
                                    long-Macro-eNB-ID
                            GlobalenGNB-ID
                                PLMN-Identity
                                ENGNB-ID
                                    gNB-ID
                    E2nodeComponentConfigurationAck
                        updateOutcome
                        Cause
                            CauseRICrequest
                            CauseRICservice
                            CauseE2node
                            CauseTransport
                            CauseProtocol
                            CauseMisc
                            CauseServiceLayer
                                ServiceLayerCause
        E2nodeComponentConfigUpdateAck-List
            E2nodeComponentConfigUpdateAck-ItemIEs
                E2nodeComponentConfigUpdateAck-Item
                    E2nodeComponentInterfaceType
                    E2nodeComponentID
                        E2nodeComponentInterfaceNG
                            AMFName
                                PrintableString
                        E2nodeComponentInterfaceXn
                            GlobalNG-RANNode-ID
                                GlobalgNB-ID
                                    PLMN-Identity
                                    GNB-ID-Choice
                                        gnb-ID
                                GlobalngeNB-ID
                                    PLMN-Identity
                                    ENB-ID-Choice
                                        enb-ID-macro
                                        enb-ID-shortmacro
                                        enb-ID-longmacro
                        E2nodeComponentInterfaceE1
                            GNB-CU-UP-ID
                        E2nodeComponentInterfaceF1
                            GNB-DU-ID
                        E2nodeComponentInterfaceW1
                            NGENB-DU-ID
                        E2nodeComponentInterfaceS1
                            MMEname
                                PrintableString
                        E2nodeComponentInterfaceX2
                            GlobalENB-ID
                                PLMN-Identity
                                ENB-ID
                                    macro-eNB-ID
                                    home-eNB-ID
                                    short-Macro-eNB-ID
                                    long-Macro-eNB-ID
                            GlobalenGNB-ID
                                PLMN-Identity
                                ENGNB-ID
                                    gNB-ID
                    E2nodeComponentConfigurationAck
                        updateOutcome
                        Cause
                            CauseRICrequest
                            CauseRICservice
                            CauseE2node
                            CauseTransport
                            CauseProtocol
                            CauseMisc
                            CauseServiceLayer
                                ServiceLayerCause
        E2nodeComponentConfigRemovalAck-List
            E2nodeComponentConfigRemovalAck-ItemIEs
                E2nodeComponentConfigRemovalAck-Item
                    E2nodeComponentInterfaceType
                    E2nodeComponentID
                        E2nodeComponentInterfaceNG
                            AMFName
                                PrintableString
                        E2nodeComponentInterfaceXn
                            GlobalNG-RANNode-ID
                                GlobalgNB-ID
                                    PLMN-Identity
                                    GNB-ID-Choice
                                        gnb-ID
                                GlobalngeNB-ID
                                    PLMN-Identity
                                    ENB-ID-Choice
                                        enb-ID-macro
                                        enb-ID-shortmacro
                                        enb-ID-longmacro
                        E2nodeComponentInterfaceE1
                            GNB-CU-UP-ID
                        E2nodeComponentInterfaceF1
                            GNB-DU-ID
                        E2nodeComponentInterfaceW1
                            NGENB-DU-ID
                        E2nodeComponentInterfaceS1
                            MMEname
                                PrintableString
                        E2nodeComponentInterfaceX2
                            GlobalENB-ID
                                PLMN-Identity
                                ENB-ID
                                    macro-eNB-ID
                                    home-eNB-ID
                                    short-Macro-eNB-ID
                                    long-Macro-eNB-ID
                            GlobalenGNB-ID
                                PLMN-Identity
                                ENGNB-ID
                                    gNB-ID
                    E2nodeComponentConfigurationAck
                        updateOutcome
                        Cause
                            CauseRICrequest
                            CauseRICservice
                            CauseE2node
                            CauseTransport
                            CauseProtocol
                            CauseMisc
                            CauseServiceLayer
                                ServiceLayerCause

*/
xnap_return_et e2ap_encode_E2nodeConfigurationUpdateAcknowledge(
                e2ap_E2nodeConfigurationUpdateAcknowledge_t* p_E2nodeConfigurationUpdateAcknowledge,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.TransactionID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentInterfaceType
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceNG.AMFName
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceNG
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice.gnb-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-macro
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-shortmacro
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-longmacro
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceE1.GNB-CU-UP-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceE1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceF1.GNB-DU-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceF1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceW1.NGENB-DU-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceW1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceS1.MMEname
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceS1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.updateOutcome
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseRICrequest
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseRICservice
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseE2node
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseTransport
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseProtocol
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseMisc
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseServiceLayer.ServiceLayerCause
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseServiceLayer
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigAdditionAck-List
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentInterfaceType
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceNG.AMFName
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceNG
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice.gnb-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-macro
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-shortmacro
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-longmacro
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceE1.GNB-CU-UP-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceE1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceF1.GNB-DU-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceF1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceW1.NGENB-DU-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceW1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceS1.MMEname
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceS1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck.updateOutcome
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck.Cause.CauseRICrequest
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck.Cause.CauseRICservice
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck.Cause.CauseE2node
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck.Cause.CauseTransport
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck.Cause.CauseProtocol
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck.Cause.CauseMisc
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck.Cause.CauseServiceLayer.ServiceLayerCause
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck.Cause.CauseServiceLayer
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck.Cause
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item.E2nodeComponentConfigurationAck
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs.E2nodeComponentConfigUpdateAck-Item
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List.E2nodeComponentConfigUpdateAck-ItemIEs
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigUpdateAck-List
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentInterfaceType
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceNG.AMFName
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceNG
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice.gnb-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-macro
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-shortmacro
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-longmacro
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceE1.GNB-CU-UP-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceE1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceF1.GNB-DU-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceF1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceW1.NGENB-DU-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceW1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceS1.MMEname
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceS1
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.PLMN-Identity
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentID
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck.updateOutcome
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck.Cause.CauseRICrequest
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck.Cause.CauseRICservice
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck.Cause.CauseE2node
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck.Cause.CauseTransport
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck.Cause.CauseProtocol
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck.Cause.CauseMisc
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck.Cause.CauseServiceLayer.ServiceLayerCause
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck.Cause.CauseServiceLayer
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck.Cause
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item.E2nodeComponentConfigurationAck
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs.E2nodeComponentConfigRemovalAck-Item
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List.E2nodeComponentConfigRemovalAck-ItemIEs
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs.E2nodeComponentConfigRemovalAck-List
// E2nodeConfigurationUpdateAcknowledge.E2nodeConfigurationUpdateAcknowledge-IEs
// E2nodeConfigurationUpdateAcknowledge

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2nodeConfigurationUpdateAcknowledge o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2nodeConfigurationUpdateAcknowledge* p_E2nodeConfigurationUpdateAcknowledge = GNB_PNULL;
    e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_E2nodeConfigurationUpdate;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2nodeConfigurationUpdateAcknowledge;
        p_E2nodeConfigurationUpdateAcknowledge = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeConfigurationUpdateAcknowledge);
        if(GNB_PNULL==p_E2nodeConfigurationUpdateAcknowledge){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2nodeConfigurationUpdateAcknowledge",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2nodeConfigurationUpdateAcknowledge",__FUNCTION__);
        }

        asn1Init_e2ap_E2nodeConfigurationUpdateAcknowledge(p_E2nodeConfigurationUpdateAcknowledge);
        e2ap_pdu.u.successfulOutcome->value.u.e2nodeConfigurationUpdate = p_E2nodeConfigurationUpdateAcknowledge;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdateAcknowledge_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_TransactionID = p_E2nodeConfigurationUpdateAcknowledge->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdateAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_E2nodeComponentConfigAdditionAck - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeComponentConfigAdditionAck;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigAdditionAck;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigAdditionAck 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeComponentConfigAdditionAck_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigAdditionAck){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2nodeComponentConfigAdditionAck",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2nodeComponentConfigAdditionAck_List(p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigAdditionAck);
            #endif
            //message_name.item_type -> type = E2nodeComponentConfigAdditionAck_List
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigAdditionAck_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigAdditionAck,
                                &p_E2nodeConfigurationUpdateAcknowledge->id_E2nodeComponentConfigAdditionAck)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigAdditionAck_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2nodeComponentConfigAdditionAck_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdateAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_E2nodeComponentConfigUpdateAck - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeComponentConfigUpdateAck;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigUpdateAck;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigUpdateAck 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeComponentConfigUpdateAck_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigUpdateAck){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2nodeComponentConfigUpdateAck",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2nodeComponentConfigUpdateAck_List(p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigUpdateAck);
            #endif
            //message_name.item_type -> type = E2nodeComponentConfigUpdateAck_List
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigUpdateAck_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigUpdateAck,
                                &p_E2nodeConfigurationUpdateAcknowledge->id_E2nodeComponentConfigUpdateAck)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigUpdateAck_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2nodeComponentConfigUpdateAck_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdateAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_E2nodeComponentConfigRemovalAck - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdateAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeComponentConfigRemovalAck;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigRemovalAck;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigRemovalAck 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeComponentConfigRemovalAck_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigRemovalAck){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2nodeComponentConfigRemovalAck",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2nodeComponentConfigRemovalAck_List(p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigRemovalAck);
            #endif
            //message_name.item_type -> type = E2nodeComponentConfigRemovalAck_List
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigRemovalAck_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateAcknowledge_IEs_id_E2nodeComponentConfigRemovalAck,
                                &p_E2nodeConfigurationUpdateAcknowledge->id_E2nodeComponentConfigRemovalAck)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigRemovalAck_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2nodeComponentConfigRemovalAck_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdateAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_E2nodeConfigurationUpdateFailure                    */
/*                                                */
/**************************************************/
/*
E2nodeConfigurationUpdateFailure
    E2nodeConfigurationUpdateFailure-IEs
        TransactionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        TimeToWait
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_E2nodeConfigurationUpdateFailure(
                e2ap_E2nodeConfigurationUpdateFailure_t* p_E2nodeConfigurationUpdateFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.TransactionID
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.Cause.CauseRICrequest
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.Cause.CauseRICservice
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.Cause.CauseE2node
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.Cause.CauseTransport
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.Cause.CauseProtocol
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.Cause.CauseMisc
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.Cause.CauseServiceLayer
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.Cause
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.TimeToWait
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.CriticalityDiagnostics.ProcedureCode
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.CriticalityDiagnostics.Criticality
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.CriticalityDiagnostics.RICrequestID
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs.CriticalityDiagnostics
// E2nodeConfigurationUpdateFailure.E2nodeConfigurationUpdateFailure-IEs
// E2nodeConfigurationUpdateFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2nodeConfigurationUpdateFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2nodeConfigurationUpdateFailure* p_E2nodeConfigurationUpdateFailure = GNB_PNULL;
    e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_E2nodeConfigurationUpdate;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2nodeConfigurationUpdateFailure;
        p_E2nodeConfigurationUpdateFailure = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeConfigurationUpdateFailure);
        if(GNB_PNULL==p_E2nodeConfigurationUpdateFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2nodeConfigurationUpdateFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2nodeConfigurationUpdateFailure",__FUNCTION__);
        }

        asn1Init_e2ap_E2nodeConfigurationUpdateFailure(p_E2nodeConfigurationUpdateFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.e2nodeConfigurationUpdate = p_E2nodeConfigurationUpdateFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdateFailure_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateFailure_IEs_id_TransactionID = p_E2nodeConfigurationUpdateFailure->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdateFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateFailure_IEs_id_Cause,
                                &p_E2nodeConfigurationUpdateFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_TimeToWait - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TimeToWait;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdateFailure_IEs_id_TimeToWait;
             p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateFailure_IEs_id_TimeToWait = p_E2nodeConfigurationUpdateFailure->id_TimeToWait; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2nodeConfigurationUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2nodeConfigurationUpdateFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2nodeConfigurationUpdateFailure_IEs_id_CriticalityDiagnostics,
                                &p_E2nodeConfigurationUpdateFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2nodeConfigurationUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_E2RemovalRequest                    */
/*                                                */
/**************************************************/
/*
E2RemovalRequest
    E2RemovalRequestIEs
        TransactionID

*/
xnap_return_et e2ap_encode_E2RemovalRequest(
                e2ap_E2RemovalRequest_t* p_E2RemovalRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2RemovalRequest.E2RemovalRequestIEs.TransactionID
// E2RemovalRequest.E2RemovalRequestIEs
// E2RemovalRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2RemovalRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2RemovalRequest* p_E2RemovalRequest = GNB_PNULL;
    e2ap_E2RemovalRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_E2removal;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2RemovalRequest;
        p_E2RemovalRequest = rtxMemAllocType(&asn1_ctx, e2ap_E2RemovalRequest);
        if(GNB_PNULL==p_E2RemovalRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2RemovalRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2RemovalRequest",__FUNCTION__);
        }

        asn1Init_e2ap_E2RemovalRequest(p_E2RemovalRequest);
        e2ap_pdu.u.initiatingMessage->value.u.e2removal = p_E2RemovalRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2RemovalRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2RemovalRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2RemovalRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2RemovalRequestIEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalRequestIEs_id_TransactionID = p_E2RemovalRequest->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2RemovalRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_E2RemovalResponse                    */
/*                                                */
/**************************************************/
/*
E2RemovalResponse
    E2RemovalResponseIEs
        TransactionID
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_E2RemovalResponse(
                e2ap_E2RemovalResponse_t* p_E2RemovalResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2RemovalResponse.E2RemovalResponseIEs.TransactionID
// E2RemovalResponse.E2RemovalResponseIEs.CriticalityDiagnostics.ProcedureCode
// E2RemovalResponse.E2RemovalResponseIEs.CriticalityDiagnostics.TriggeringMessage
// E2RemovalResponse.E2RemovalResponseIEs.CriticalityDiagnostics.Criticality
// E2RemovalResponse.E2RemovalResponseIEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// E2RemovalResponse.E2RemovalResponseIEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// E2RemovalResponse.E2RemovalResponseIEs.CriticalityDiagnostics.RICrequestID
// E2RemovalResponse.E2RemovalResponseIEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// E2RemovalResponse.E2RemovalResponseIEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// E2RemovalResponse.E2RemovalResponseIEs.CriticalityDiagnostics
// E2RemovalResponse.E2RemovalResponseIEs
// E2RemovalResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2RemovalResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2RemovalResponse* p_E2RemovalResponse = GNB_PNULL;
    e2ap_E2RemovalResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_E2removal;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2RemovalResponse;
        p_E2RemovalResponse = rtxMemAllocType(&asn1_ctx, e2ap_E2RemovalResponse);
        if(GNB_PNULL==p_E2RemovalResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2RemovalResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2RemovalResponse",__FUNCTION__);
        }

        asn1Init_e2ap_E2RemovalResponse(p_E2RemovalResponse);
        e2ap_pdu.u.successfulOutcome->value.u.e2removal = p_E2RemovalResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2RemovalResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2RemovalResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2RemovalResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2RemovalResponseIEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalResponseIEs_id_TransactionID = p_E2RemovalResponse->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2RemovalResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2RemovalResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2RemovalResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2RemovalResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2RemovalResponseIEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalResponseIEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalResponseIEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalResponseIEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalResponseIEs_id_CriticalityDiagnostics,
                                &p_E2RemovalResponse->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2RemovalResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_E2RemovalFailure                    */
/*                                                */
/**************************************************/
/*
E2RemovalFailure
    E2RemovalFailureIEs
        TransactionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_E2RemovalFailure(
                e2ap_E2RemovalFailure_t* p_E2RemovalFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2RemovalFailure.E2RemovalFailureIEs.TransactionID
// E2RemovalFailure.E2RemovalFailureIEs.Cause.CauseRICrequest
// E2RemovalFailure.E2RemovalFailureIEs.Cause.CauseRICservice
// E2RemovalFailure.E2RemovalFailureIEs.Cause.CauseE2node
// E2RemovalFailure.E2RemovalFailureIEs.Cause.CauseTransport
// E2RemovalFailure.E2RemovalFailureIEs.Cause.CauseProtocol
// E2RemovalFailure.E2RemovalFailureIEs.Cause.CauseMisc
// E2RemovalFailure.E2RemovalFailureIEs.Cause.CauseServiceLayer.ServiceLayerCause
// E2RemovalFailure.E2RemovalFailureIEs.Cause.CauseServiceLayer
// E2RemovalFailure.E2RemovalFailureIEs.Cause
// E2RemovalFailure.E2RemovalFailureIEs.CriticalityDiagnostics.ProcedureCode
// E2RemovalFailure.E2RemovalFailureIEs.CriticalityDiagnostics.TriggeringMessage
// E2RemovalFailure.E2RemovalFailureIEs.CriticalityDiagnostics.Criticality
// E2RemovalFailure.E2RemovalFailureIEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// E2RemovalFailure.E2RemovalFailureIEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// E2RemovalFailure.E2RemovalFailureIEs.CriticalityDiagnostics.RICrequestID
// E2RemovalFailure.E2RemovalFailureIEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// E2RemovalFailure.E2RemovalFailureIEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// E2RemovalFailure.E2RemovalFailureIEs.CriticalityDiagnostics
// E2RemovalFailure.E2RemovalFailureIEs
// E2RemovalFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2RemovalFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2RemovalFailure* p_E2RemovalFailure = GNB_PNULL;
    e2ap_E2RemovalFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_E2removal;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2RemovalFailure;
        p_E2RemovalFailure = rtxMemAllocType(&asn1_ctx, e2ap_E2RemovalFailure);
        if(GNB_PNULL==p_E2RemovalFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2RemovalFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2RemovalFailure",__FUNCTION__);
        }

        asn1Init_e2ap_E2RemovalFailure(p_E2RemovalFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.e2removal = p_E2RemovalFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2RemovalFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2RemovalFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2RemovalFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2RemovalFailureIEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalFailureIEs_id_TransactionID = p_E2RemovalFailure->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2RemovalFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2RemovalFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2RemovalFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2RemovalFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2RemovalFailureIEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalFailureIEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalFailureIEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalFailureIEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalFailureIEs_id_Cause,
                                &p_E2RemovalFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2RemovalFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2RemovalFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2RemovalFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2RemovalFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2RemovalFailureIEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalFailureIEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalFailureIEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalFailureIEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2RemovalFailureIEs_id_CriticalityDiagnostics,
                                &p_E2RemovalFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2RemovalFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_E2setupFailure                    */
/*                                                */
/**************************************************/
/*
E2setupFailure
    E2setupFailureIEs
        TransactionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        TimeToWait
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE
        TNLinformation
            tnlAddress
            ...
            tnlPort

*/
xnap_return_et e2ap_encode_E2setupFailure(
                e2ap_E2setupFailure_t* p_E2setupFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2setupFailure.E2setupFailureIEs.TransactionID
// E2setupFailure.E2setupFailureIEs.Cause.CauseRICrequest
// E2setupFailure.E2setupFailureIEs.Cause.CauseRICservice
// E2setupFailure.E2setupFailureIEs.Cause.CauseE2node
// E2setupFailure.E2setupFailureIEs.Cause.CauseTransport
// E2setupFailure.E2setupFailureIEs.Cause.CauseProtocol
// E2setupFailure.E2setupFailureIEs.Cause.CauseMisc
// E2setupFailure.E2setupFailureIEs.Cause.CauseServiceLayer.ServiceLayerCause
// E2setupFailure.E2setupFailureIEs.Cause.CauseServiceLayer
// E2setupFailure.E2setupFailureIEs.Cause
// E2setupFailure.E2setupFailureIEs.TimeToWait
// E2setupFailure.E2setupFailureIEs.CriticalityDiagnostics.ProcedureCode
// E2setupFailure.E2setupFailureIEs.CriticalityDiagnostics.TriggeringMessage
// E2setupFailure.E2setupFailureIEs.CriticalityDiagnostics.Criticality
// E2setupFailure.E2setupFailureIEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// E2setupFailure.E2setupFailureIEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// E2setupFailure.E2setupFailureIEs.CriticalityDiagnostics.RICrequestID
// E2setupFailure.E2setupFailureIEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// E2setupFailure.E2setupFailureIEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// E2setupFailure.E2setupFailureIEs.CriticalityDiagnostics
// E2setupFailure.E2setupFailureIEs.TNLinformation.tnlAddress
// E2setupFailure.E2setupFailureIEs.TNLinformation....
// E2setupFailure.E2setupFailureIEs.TNLinformation.tnlPort
// E2setupFailure.E2setupFailureIEs.TNLinformation
// E2setupFailure.E2setupFailureIEs
// E2setupFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2setupFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2setupFailure* p_E2setupFailure = GNB_PNULL;
    e2ap_E2setupFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_E2setup;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2setupFailure;
        p_E2setupFailure = rtxMemAllocType(&asn1_ctx, e2ap_E2setupFailure);
        if(GNB_PNULL==p_E2setupFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2setupFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2setupFailure",__FUNCTION__);
        }

        asn1Init_e2ap_E2setupFailure(p_E2setupFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.e2setup = p_E2setupFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupFailureIEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_TransactionID = p_E2setupFailure->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupFailureIEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_Cause,
                                &p_E2setupFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_TimeToWait - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TimeToWait;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupFailureIEs_id_TimeToWait;
             p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_TimeToWait = p_E2setupFailure->id_TimeToWait; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupFailureIEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_CriticalityDiagnostics,
                                &p_E2setupFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_TNLinformation - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TNLinformation;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupFailureIEs_id_TNLinformation;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_TNLinformation 
                                = rtxMemAllocType(&asn1_ctx, e2ap_TNLinformation);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_TNLinformation){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_TNLinformation",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_TNLinformation(p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_TNLinformation);
            #endif
            //message_name.item_type -> type = TNLinformation
            if(XNAP_FAILURE == e2ap_compose_TNLinformation(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2setupFailureIEs_id_TNLinformation,
                                &p_E2setupFailure->id_TNLinformation)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field TNLinformation",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field TNLinformation",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE RANfunctionID            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..4095) - RANfunctionID
  xnap_return_et e2ap_compose_RANfunctionID(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RANfunctionID  *p_dest,//dest
                        _e2ap_RANfunctionID_t  *p_src//src
)
{
    *p_dest = (e2ap_RANfunctionID)*p_src;
    return XNAP_SUCCESS;
}
    
/*****************************************************/
/*    PRIMITIVE RANfunctionDefinition            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RANfunctionDefinition
     
/*****************************************************/
/*    PRIMITIVE RANfunctionRevision            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..4095) - RANfunctionRevision
  xnap_return_et e2ap_compose_RANfunctionRevision(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RANfunctionRevision  *p_dest,//dest
                        _e2ap_RANfunctionRevision_t  *p_src//src
)
{
    *p_dest = (e2ap_RANfunctionRevision)*p_src;
    return XNAP_SUCCESS;
}
    
/*****************************************************/
/*    PRIMITIVE RANfunctionOID            */
/*****************************************************/
// cpmpose primitive - id = 10 - PrintableString (SIZE(1..1000, ...)) - RANfunctionOID
     xnap_return_et e2ap_compose_RANfunctionOID(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RANfunctionOID  *p_dest,//dest
                        _e2ap_RANfunctionOID_t  *p_src//src
)
{
// chưa xong
    *p_dest = * p_src;
    return XNAP_SUCCESS;
}
 
/************************************************************/
/*      SEQUENCE RANfunction_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RANfunction_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RANfunction_Item                 *p_e2ap_RANfunction_Item, //dest
                _e2ap_RANfunction_Item_t              *p_RANfunction_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RANfunction_Item->ranFunctionID,
                                                &p_RANfunction_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ranFunctionID*/

    {  /*SEQ_ELEM-2  Encode ranFunctionDefinition alias-id = 9 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionDefinition(p_asn1_ctx,
                                                &p_e2ap_RANfunction_Item->ranFunctionDefinition,
                                                &p_RANfunction_Item->ranFunctionDefinition))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionDefinition",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ranFunctionDefinition*/

    {  /*SEQ_ELEM-3  Encode ranFunctionRevision alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionRevision(p_asn1_ctx,
                                                &p_e2ap_RANfunction_Item->ranFunctionRevision,
                                                &p_RANfunction_Item->ranFunctionRevision))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionRevision",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ranFunctionRevision*/

    {  /*SEQ_ELEM-4  Encode ranFunctionOID alias-id = 10 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionOID(p_asn1_ctx,
                                                &p_e2ap_RANfunction_Item->ranFunctionOID,
                                                &p_RANfunction_Item->ranFunctionOID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionOID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ranFunctionOID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RANfunctions_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RANfunctions_List,
                _e2ap_RANfunctions_List_t       *p_RANfunctions_List
){
    e2ap_RANfunction_ItemIEs   *p_RANfunction_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RANfunctions_List->id_RANfunction_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RANfunction_ItemIEs,
                                &p_node_list,
                                &p_RANfunction_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunction-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RANfunction_ItemIEs(p_RANfunction_ItemIEs);
        p_RANfunction_ItemIEs->id = ASN1V_e2ap_id_RANfunction_Item;
        p_RANfunction_ItemIEs->criticality = e2ap_reject;
        p_RANfunction_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RANfunction_ItemIEs_id_RANfunction_Item;
        p_RANfunction_ItemIEs->value.u._e2apRANfunction_ItemIEs_id_RANfunction_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RANfunction_ItemIEs);
        if(GNB_PNULL==p_RANfunction_ItemIEs->value.u._e2apRANfunction_ItemIEs_id_RANfunction_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunction-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RANfunction_Item(p_asn1_ctx,
                                                p_RANfunction_ItemIEs->value.u._e2apRANfunction_ItemIEs_id_RANfunction_Item,
                                                &p_RANfunctions_List->id_RANfunction_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunction-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RANfunctions_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_E2setupRequest                    */
/*                                                */
/**************************************************/
/*
E2setupRequest
    E2setupRequestIEs
        TransactionID
        GlobalE2node-ID
            GlobalE2node-gNB-ID
                GlobalgNB-ID
                    PLMN-Identity
                    GNB-ID-Choice
                        gnb-ID
                GlobalenGNB-ID
                    PLMN-Identity
                    ENGNB-ID
                        gNB-ID
                GNB-CU-UP-ID
                GNB-DU-ID
            GlobalE2node-en-gNB-ID
                GlobalenGNB-ID
                    PLMN-Identity
                    ENGNB-ID
                        gNB-ID
                GNB-CU-UP-ID
                GNB-DU-ID
            GlobalE2node-ng-eNB-ID
                GlobalngeNB-ID
                    PLMN-Identity
                    ENB-ID-Choice
                        enb-ID-macro
                        enb-ID-shortmacro
                        enb-ID-longmacro
                GlobalENB-ID
                    PLMN-Identity
                    ENB-ID
                        macro-eNB-ID
                        home-eNB-ID
                        short-Macro-eNB-ID
                        long-Macro-eNB-ID
                NGENB-DU-ID
            GlobalE2node-eNB-ID
                GlobalENB-ID
                    PLMN-Identity
                    ENB-ID
                        macro-eNB-ID
                        home-eNB-ID
                        short-Macro-eNB-ID
                        long-Macro-eNB-ID
        RANfunctions-List
            RANfunction-ItemIEs
                RANfunction-Item
                    RANfunctionID
                    RANfunctionDefinition
                    RANfunctionRevision
                    RANfunctionOID
                        PrintableString
        E2nodeComponentConfigAddition-List
            E2nodeComponentConfigAddition-ItemIEs
                E2nodeComponentConfigAddition-Item
                    E2nodeComponentInterfaceType
                    E2nodeComponentID
                        E2nodeComponentInterfaceNG
                            AMFName
                                PrintableString
                        E2nodeComponentInterfaceXn
                            GlobalNG-RANNode-ID
                                GlobalgNB-ID
                                    PLMN-Identity
                                    GNB-ID-Choice
                                        gnb-ID
                                GlobalngeNB-ID
                                    PLMN-Identity
                                    ENB-ID-Choice
                                        enb-ID-macro
                                        enb-ID-shortmacro
                                        enb-ID-longmacro
                        E2nodeComponentInterfaceE1
                            GNB-CU-UP-ID
                        E2nodeComponentInterfaceF1
                            GNB-DU-ID
                        E2nodeComponentInterfaceW1
                            NGENB-DU-ID
                        E2nodeComponentInterfaceS1
                            MMEname
                                PrintableString
                        E2nodeComponentInterfaceX2
                            GlobalENB-ID
                                PLMN-Identity
                                ENB-ID
                                    macro-eNB-ID
                                    home-eNB-ID
                                    short-Macro-eNB-ID
                                    long-Macro-eNB-ID
                            GlobalenGNB-ID
                                PLMN-Identity
                                ENGNB-ID
                                    gNB-ID
                    E2nodeComponentConfiguration
                        e2nodeComponentRequestPart
                        e2nodeComponentResponsePart

*/
xnap_return_et e2ap_encode_E2setupRequest(
                e2ap_E2setupRequest_t* p_E2setupRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2setupRequest.E2setupRequestIEs.TransactionID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalgNB-ID.PLMN-Identity
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalgNB-ID.GNB-ID-Choice.gnb-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalgNB-ID.GNB-ID-Choice
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalgNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalenGNB-ID.PLMN-Identity
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalenGNB-ID.ENGNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GlobalenGNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GNB-CU-UP-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID.GNB-DU-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-gNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GlobalenGNB-ID.PLMN-Identity
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GlobalenGNB-ID.ENGNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GlobalenGNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GNB-CU-UP-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID.GNB-DU-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-en-gNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID.PLMN-Identity
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-macro
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-shortmacro
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-longmacro
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID.ENB-ID-Choice
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalngeNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.PLMN-Identity
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID.ENB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.GlobalENB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID.NGENB-DU-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-ng-eNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.PLMN-Identity
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID.ENB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-eNB-ID.GlobalENB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID.GlobalE2node-eNB-ID
// E2setupRequest.E2setupRequestIEs.GlobalE2node-ID
// E2setupRequest.E2setupRequestIEs.RANfunctions-List.RANfunction-ItemIEs.RANfunction-Item.RANfunctionID
// E2setupRequest.E2setupRequestIEs.RANfunctions-List.RANfunction-ItemIEs.RANfunction-Item.RANfunctionDefinition
// E2setupRequest.E2setupRequestIEs.RANfunctions-List.RANfunction-ItemIEs.RANfunction-Item.RANfunctionRevision
// E2setupRequest.E2setupRequestIEs.RANfunctions-List.RANfunction-ItemIEs.RANfunction-Item.RANfunctionOID
// E2setupRequest.E2setupRequestIEs.RANfunctions-List.RANfunction-ItemIEs.RANfunction-Item
// E2setupRequest.E2setupRequestIEs.RANfunctions-List.RANfunction-ItemIEs
// E2setupRequest.E2setupRequestIEs.RANfunctions-List
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentInterfaceType
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceNG.AMFName
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceNG
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.PLMN-Identity
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice.gnb-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.PLMN-Identity
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-macro
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-shortmacro
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-longmacro
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceXn
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceE1.GNB-CU-UP-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceE1
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceF1.GNB-DU-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceF1
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceW1.NGENB-DU-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceW1
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceS1.MMEname
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceS1
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.PLMN-Identity
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.PLMN-Identity
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID.E2nodeComponentInterfaceX2
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentID
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentConfiguration.e2nodeComponentRequestPart
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentConfiguration.e2nodeComponentResponsePart
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item.E2nodeComponentConfiguration
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs.E2nodeComponentConfigAddition-Item
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List.E2nodeComponentConfigAddition-ItemIEs
// E2setupRequest.E2setupRequestIEs.E2nodeComponentConfigAddition-List
// E2setupRequest.E2setupRequestIEs
// E2setupRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2setupRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2setupRequest* p_E2setupRequest = GNB_PNULL;
    e2ap_E2setupRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_E2setup;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2setupRequest;
        p_E2setupRequest = rtxMemAllocType(&asn1_ctx, e2ap_E2setupRequest);
        if(GNB_PNULL==p_E2setupRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2setupRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2setupRequest",__FUNCTION__);
        }

        asn1Init_e2ap_E2setupRequest(p_E2setupRequest);
        e2ap_pdu.u.initiatingMessage->value.u.e2setup = p_E2setupRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupRequestIEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_TransactionID = p_E2setupRequest->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_GlobalE2node_ID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_GlobalE2node_ID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupRequestIEs_id_GlobalE2node_ID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_GlobalE2node_ID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_GlobalE2node_ID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_GlobalE2node_ID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_GlobalE2node_ID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_GlobalE2node_ID(p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_GlobalE2node_ID);
            #endif
            //message_name.item_type -> type = GlobalE2node_ID
            if(XNAP_FAILURE == e2ap_compose_GlobalE2node_ID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_GlobalE2node_ID,
                                &p_E2setupRequest->id_GlobalE2node_ID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field GlobalE2node_ID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field GlobalE2node_ID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RANfunctionsAdded - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionsAdded;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupRequestIEs_id_RANfunctionsAdded;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_RANfunctionsAdded 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctions_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_RANfunctionsAdded){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionsAdded",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctions_List(p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_RANfunctionsAdded);
            #endif
            //message_name.item_type -> type = RANfunctions_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctions_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_RANfunctionsAdded,
                                &p_E2setupRequest->id_RANfunctionsAdded)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctions_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctions_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_E2nodeComponentConfigAddition - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeComponentConfigAddition;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupRequestIEs_id_E2nodeComponentConfigAddition;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_E2nodeComponentConfigAddition 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeComponentConfigAddition_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_E2nodeComponentConfigAddition){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2nodeComponentConfigAddition",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2nodeComponentConfigAddition_List(p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_E2nodeComponentConfigAddition);
            #endif
            //message_name.item_type -> type = E2nodeComponentConfigAddition_List
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigAddition_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2setupRequestIEs_id_E2nodeComponentConfigAddition,
                                &p_E2setupRequest->id_E2nodeComponentConfigAddition)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigAddition_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2nodeComponentConfigAddition_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE GlobalRIC_ID                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */
     // id = 3 - BIT STRING (SIZE (20)) - ric_ID
 xnap_return_et e2ap_compose_GlobalRIC_ID_ric_ID(
                     OSCTXT                       *p_asn1_ctx,
                     e2ap_GlobalRIC_ID_ric_ID                 *p_dest,//dest
                     _e2ap_GlobalRIC_ID_ric_ID_t              *p_src//src
)
{
    memcpy(p_dest->data, p_src->data, (p_src->numbits +7)/8);// bug check lại xem phải số byte ko nhé
    p_dest->numbits = p_src->numbits;
    return XNAP_SUCCESS;
}
          


/* 2 - compose sequence */
xnap_return_et e2ap_compose_GlobalRIC_ID(
                OSCTXT                        *p_asn1_ctx,
                e2ap_GlobalRIC_ID                 *p_e2ap_GlobalRIC_ID, //dest
                _e2ap_GlobalRIC_ID_t              *p_GlobalRIC_ID //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode pLMN_Identity alias-id = 8 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_PLMN_Identity(p_asn1_ctx,
                                                &p_e2ap_GlobalRIC_ID->pLMN_Identity,
                                                &p_GlobalRIC_ID->pLMN_Identity))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field pLMN_Identity",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode pLMN_Identity*/

    {  /*SEQ_ELEM-2  Encode ric_ID alias-id = -1 - primitive = True*/
        /*==primitive in scope==*/
        if(XNAP_FAILURE == e2ap_compose_GlobalRIC_ID_ric_ID(p_asn1_ctx,
                                                &p_e2ap_GlobalRIC_ID->ric_ID,
                                                &p_GlobalRIC_ID->ric_ID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ric_ID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ric_ID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE RANfunctionID_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RANfunctionID_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RANfunctionID_Item                 *p_e2ap_RANfunctionID_Item, //dest
                _e2ap_RANfunctionID_Item_t              *p_RANfunctionID_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RANfunctionID_Item->ranFunctionID,
                                                &p_RANfunctionID_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ranFunctionID*/

    {  /*SEQ_ELEM-2  Encode ranFunctionRevision alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionRevision(p_asn1_ctx,
                                                &p_e2ap_RANfunctionID_Item->ranFunctionRevision,
                                                &p_RANfunctionID_Item->ranFunctionRevision))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionRevision",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ranFunctionRevision*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RANfunctionsID_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RANfunctionsID_List,
                _e2ap_RANfunctionsID_List_t       *p_RANfunctionsID_List
){
    e2ap_RANfunctionID_ItemIEs   *p_RANfunctionID_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RANfunctionsID_List->id_RANfunctionID_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RANfunctionID_ItemIEs,
                                &p_node_list,
                                &p_RANfunctionID_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionID-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RANfunctionID_ItemIEs(p_RANfunctionID_ItemIEs);
        p_RANfunctionID_ItemIEs->id = ASN1V_e2ap_id_RANfunctionID_Item;
        p_RANfunctionID_ItemIEs->criticality = e2ap_reject;
        p_RANfunctionID_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RANfunctionID_ItemIEs_id_RANfunctionID_Item;
        p_RANfunctionID_ItemIEs->value.u._e2apRANfunctionID_ItemIEs_id_RANfunctionID_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RANfunctionID_ItemIEs);
        if(GNB_PNULL==p_RANfunctionID_ItemIEs->value.u._e2apRANfunctionID_ItemIEs_id_RANfunctionID_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionID-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID_Item(p_asn1_ctx,
                                                p_RANfunctionID_ItemIEs->value.u._e2apRANfunctionID_ItemIEs_id_RANfunctionID_Item,
                                                &p_RANfunctionsID_List->id_RANfunctionID_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionID-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RANfunctionsID_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RANfunctionIDcause_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RANfunctionIDcause_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RANfunctionIDcause_Item                 *p_e2ap_RANfunctionIDcause_Item, //dest
                _e2ap_RANfunctionIDcause_Item_t              *p_RANfunctionIDcause_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RANfunctionIDcause_Item->ranFunctionID,
                                                &p_RANfunctionIDcause_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ranFunctionID*/

    {  /*SEQ_ELEM-2  Encode cause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionIDcause_Item->cause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_RANfunctionIDcause_Item->cause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_RANfunctionIDcause_Item->cause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_RANfunctionIDcause_Item->cause,
                                                &p_RANfunctionIDcause_Item->cause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode cause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RANfunctionsIDcause_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RANfunctionsIDcause_List,
                _e2ap_RANfunctionsIDcause_List_t       *p_RANfunctionsIDcause_List
){
    e2ap_RANfunctionIDcause_ItemIEs   *p_RANfunctionIDcause_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RANfunctionsIDcause_List->id_RANfunctionIEcause_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RANfunctionIDcause_ItemIEs,
                                &p_node_list,
                                &p_RANfunctionIDcause_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionIDcause-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RANfunctionIDcause_ItemIEs(p_RANfunctionIDcause_ItemIEs);
        p_RANfunctionIDcause_ItemIEs->id = ASN1V_e2ap_id_RANfunctionIEcause_Item;
        p_RANfunctionIDcause_ItemIEs->criticality = e2ap_reject;
        p_RANfunctionIDcause_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RANfunctionIDcause_ItemIEs_id_RANfunctionIEcause_Item;
        p_RANfunctionIDcause_ItemIEs->value.u._e2apRANfunctionIDcause_ItemIEs_id_RANfunctionIEcause_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RANfunctionIDcause_ItemIEs);
        if(GNB_PNULL==p_RANfunctionIDcause_ItemIEs->value.u._e2apRANfunctionIDcause_ItemIEs_id_RANfunctionIEcause_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionIDcause-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RANfunctionIDcause_Item(p_asn1_ctx,
                                                p_RANfunctionIDcause_ItemIEs->value.u._e2apRANfunctionIDcause_ItemIEs_id_RANfunctionIEcause_Item,
                                                &p_RANfunctionsIDcause_List->id_RANfunctionIEcause_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionIDcause-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RANfunctionsIDcause_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_E2setupResponse                    */
/*                                                */
/**************************************************/
/*
E2setupResponse
    E2setupResponseIEs
        TransactionID
        GlobalRIC-ID
            PLMN-Identity
            ric-ID
        RANfunctionsID-List
            RANfunctionID-ItemIEs
                RANfunctionID-Item
                    RANfunctionID
                    RANfunctionRevision
        RANfunctionsIDcause-List
            RANfunctionIDcause-ItemIEs
                RANfunctionIDcause-Item
                    RANfunctionID
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause
        E2nodeComponentConfigAdditionAck-List
            E2nodeComponentConfigAdditionAck-ItemIEs
                E2nodeComponentConfigAdditionAck-Item
                    E2nodeComponentInterfaceType
                    E2nodeComponentID
                        E2nodeComponentInterfaceNG
                            AMFName
                                PrintableString
                        E2nodeComponentInterfaceXn
                            GlobalNG-RANNode-ID
                                GlobalgNB-ID
                                    PLMN-Identity
                                    GNB-ID-Choice
                                        gnb-ID
                                GlobalngeNB-ID
                                    PLMN-Identity
                                    ENB-ID-Choice
                                        enb-ID-macro
                                        enb-ID-shortmacro
                                        enb-ID-longmacro
                        E2nodeComponentInterfaceE1
                            GNB-CU-UP-ID
                        E2nodeComponentInterfaceF1
                            GNB-DU-ID
                        E2nodeComponentInterfaceW1
                            NGENB-DU-ID
                        E2nodeComponentInterfaceS1
                            MMEname
                                PrintableString
                        E2nodeComponentInterfaceX2
                            GlobalENB-ID
                                PLMN-Identity
                                ENB-ID
                                    macro-eNB-ID
                                    home-eNB-ID
                                    short-Macro-eNB-ID
                                    long-Macro-eNB-ID
                            GlobalenGNB-ID
                                PLMN-Identity
                                ENGNB-ID
                                    gNB-ID
                    E2nodeComponentConfigurationAck
                        updateOutcome
                        Cause
                            CauseRICrequest
                            CauseRICservice
                            CauseE2node
                            CauseTransport
                            CauseProtocol
                            CauseMisc
                            CauseServiceLayer
                                ServiceLayerCause

*/
xnap_return_et e2ap_encode_E2setupResponse(
                e2ap_E2setupResponse_t* p_E2setupResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// E2setupResponse.E2setupResponseIEs.TransactionID
// E2setupResponse.E2setupResponseIEs.GlobalRIC-ID.PLMN-Identity
// E2setupResponse.E2setupResponseIEs.GlobalRIC-ID.ric-ID
// E2setupResponse.E2setupResponseIEs.GlobalRIC-ID
// E2setupResponse.E2setupResponseIEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item.RANfunctionID
// E2setupResponse.E2setupResponseIEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item.RANfunctionRevision
// E2setupResponse.E2setupResponseIEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item
// E2setupResponse.E2setupResponseIEs.RANfunctionsID-List.RANfunctionID-ItemIEs
// E2setupResponse.E2setupResponseIEs.RANfunctionsID-List
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.RANfunctionID
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseRICrequest
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseRICservice
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseE2node
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseTransport
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseProtocol
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseMisc
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseServiceLayer.ServiceLayerCause
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseServiceLayer
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs
// E2setupResponse.E2setupResponseIEs.RANfunctionsIDcause-List
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentInterfaceType
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceNG.AMFName
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceNG
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.PLMN-Identity
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice.gnb-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID.GNB-ID-Choice
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalgNB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.PLMN-Identity
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-macro
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-shortmacro
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice.enb-ID-longmacro
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID.ENB-ID-Choice
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID.GlobalngeNB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn.GlobalNG-RANNode-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceXn
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceE1.GNB-CU-UP-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceE1
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceF1.GNB-DU-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceF1
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceW1.NGENB-DU-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceW1
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceS1.MMEname
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceS1
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.PLMN-Identity
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.macro-eNB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.home-eNB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.short-Macro-eNB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID.long-Macro-eNB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID.ENB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalENB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.PLMN-Identity
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID.gNB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID.ENGNB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2.GlobalenGNB-ID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID.E2nodeComponentInterfaceX2
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentID
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.updateOutcome
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseRICrequest
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseRICservice
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseE2node
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseTransport
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseProtocol
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseMisc
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseServiceLayer.ServiceLayerCause
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause.CauseServiceLayer
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck.Cause
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item.E2nodeComponentConfigurationAck
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs.E2nodeComponentConfigAdditionAck-Item
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List.E2nodeComponentConfigAdditionAck-ItemIEs
// E2setupResponse.E2setupResponseIEs.E2nodeComponentConfigAdditionAck-List
// E2setupResponse.E2setupResponseIEs
// E2setupResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_E2setupResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_E2setupResponse* p_E2setupResponse = GNB_PNULL;
    e2ap_E2setupResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_E2setup;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_E2setupResponse;
        p_E2setupResponse = rtxMemAllocType(&asn1_ctx, e2ap_E2setupResponse);
        if(GNB_PNULL==p_E2setupResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for E2setupResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for E2setupResponse",__FUNCTION__);
        }

        asn1Init_e2ap_E2setupResponse(p_E2setupResponse);
        e2ap_pdu.u.successfulOutcome->value.u.e2setup = p_E2setupResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupResponseIEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_TransactionID = p_E2setupResponse->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_GlobalRIC_ID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_GlobalRIC_ID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupResponseIEs_id_GlobalRIC_ID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_GlobalRIC_ID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_GlobalRIC_ID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_GlobalRIC_ID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_GlobalRIC_ID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_GlobalRIC_ID(p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_GlobalRIC_ID);
            #endif
            //message_name.item_type -> type = GlobalRIC_ID
            if(XNAP_FAILURE == e2ap_compose_GlobalRIC_ID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_GlobalRIC_ID,
                                &p_E2setupResponse->id_GlobalRIC_ID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field GlobalRIC_ID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field GlobalRIC_ID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RANfunctionsAccepted - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionsAccepted;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupResponseIEs_id_RANfunctionsAccepted;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_RANfunctionsAccepted 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionsID_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_RANfunctionsAccepted){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionsAccepted",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionsID_List(p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_RANfunctionsAccepted);
            #endif
            //message_name.item_type -> type = RANfunctionsID_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionsID_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_RANfunctionsAccepted,
                                &p_E2setupResponse->id_RANfunctionsAccepted)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionsID_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionsID_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RANfunctionsRejected - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionsRejected;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupResponseIEs_id_RANfunctionsRejected;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_RANfunctionsRejected 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionsIDcause_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_RANfunctionsRejected){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionsRejected",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionsIDcause_List(p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_RANfunctionsRejected);
            #endif
            //message_name.item_type -> type = RANfunctionsIDcause_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionsIDcause_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_RANfunctionsRejected,
                                &p_E2setupResponse->id_RANfunctionsRejected)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionsIDcause_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionsIDcause_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_E2nodeComponentConfigAdditionAck - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_E2setupResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_E2setupResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_E2setupResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeComponentConfigAdditionAck;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_E2setupResponseIEs_id_E2nodeComponentConfigAdditionAck;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_E2nodeComponentConfigAdditionAck 
                                = rtxMemAllocType(&asn1_ctx, e2ap_E2nodeComponentConfigAdditionAck_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_E2nodeComponentConfigAdditionAck){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_E2nodeComponentConfigAdditionAck",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_E2nodeComponentConfigAdditionAck_List(p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_E2nodeComponentConfigAdditionAck);
            #endif
            //message_name.item_type -> type = E2nodeComponentConfigAdditionAck_List
            if(XNAP_FAILURE == e2ap_compose_E2nodeComponentConfigAdditionAck_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apE2setupResponseIEs_id_E2nodeComponentConfigAdditionAck,
                                &p_E2setupResponse->id_E2nodeComponentConfigAdditionAck)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field E2nodeComponentConfigAdditionAck_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field E2nodeComponentConfigAdditionAck_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_E2setupResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_ErrorIndication                    */
/*                                                */
/**************************************************/
/*
ErrorIndication
    ErrorIndication-IEs
        TransactionID
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_ErrorIndication(
                e2ap_ErrorIndication_t* p_ErrorIndication,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// ErrorIndication.ErrorIndication-IEs.TransactionID
// ErrorIndication.ErrorIndication-IEs.RICrequestID.ricRequestorID
// ErrorIndication.ErrorIndication-IEs.RICrequestID.ricInstanceID
// ErrorIndication.ErrorIndication-IEs.RICrequestID
// ErrorIndication.ErrorIndication-IEs.RANfunctionID
// ErrorIndication.ErrorIndication-IEs.Cause.CauseRICrequest
// ErrorIndication.ErrorIndication-IEs.Cause.CauseRICservice
// ErrorIndication.ErrorIndication-IEs.Cause.CauseE2node
// ErrorIndication.ErrorIndication-IEs.Cause.CauseTransport
// ErrorIndication.ErrorIndication-IEs.Cause.CauseProtocol
// ErrorIndication.ErrorIndication-IEs.Cause.CauseMisc
// ErrorIndication.ErrorIndication-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// ErrorIndication.ErrorIndication-IEs.Cause.CauseServiceLayer
// ErrorIndication.ErrorIndication-IEs.Cause
// ErrorIndication.ErrorIndication-IEs.CriticalityDiagnostics.ProcedureCode
// ErrorIndication.ErrorIndication-IEs.CriticalityDiagnostics.TriggeringMessage
// ErrorIndication.ErrorIndication-IEs.CriticalityDiagnostics.Criticality
// ErrorIndication.ErrorIndication-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// ErrorIndication.ErrorIndication-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// ErrorIndication.ErrorIndication-IEs.CriticalityDiagnostics.RICrequestID
// ErrorIndication.ErrorIndication-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// ErrorIndication.ErrorIndication-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// ErrorIndication.ErrorIndication-IEs.CriticalityDiagnostics
// ErrorIndication.ErrorIndication-IEs
// ErrorIndication

*/
#if 0 // hardcode
    /* gan gi tri cho p_ErrorIndication o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_ErrorIndication* p_ErrorIndication = GNB_PNULL;
    e2ap_ErrorIndication_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_ErrorIndication;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_ignore;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_ErrorIndication;
        p_ErrorIndication = rtxMemAllocType(&asn1_ctx, e2ap_ErrorIndication);
        if(GNB_PNULL==p_ErrorIndication){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for ErrorIndication",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for ErrorIndication",__FUNCTION__);
        }

        asn1Init_e2ap_ErrorIndication(p_ErrorIndication);
        e2ap_pdu.u.initiatingMessage->value.u.errorIndication = p_ErrorIndication;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_ErrorIndication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_ErrorIndication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_ErrorIndication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_ErrorIndication_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_TransactionID = p_ErrorIndication->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_ErrorIndication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RICrequestID - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_ErrorIndication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_ErrorIndication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_ErrorIndication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_ErrorIndication_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_RICrequestID,
                                &p_ErrorIndication->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_ErrorIndication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RANfunctionID - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_ErrorIndication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_ErrorIndication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_ErrorIndication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_ErrorIndication_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_RANfunctionID = p_ErrorIndication->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_ErrorIndication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_Cause - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_ErrorIndication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_ErrorIndication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_ErrorIndication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_ErrorIndication_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_Cause,
                                &p_ErrorIndication->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_ErrorIndication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_ErrorIndication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_ErrorIndication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_ErrorIndication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_ErrorIndication_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apErrorIndication_IEs_id_CriticalityDiagnostics,
                                &p_ErrorIndication->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_ErrorIndication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_ResetRequest                    */
/*                                                */
/**************************************************/
/*
ResetRequest
    ResetRequestIEs
        TransactionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause

*/
xnap_return_et e2ap_encode_ResetRequest(
                e2ap_ResetRequest_t* p_ResetRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// ResetRequest.ResetRequestIEs.TransactionID
// ResetRequest.ResetRequestIEs.Cause.CauseRICrequest
// ResetRequest.ResetRequestIEs.Cause.CauseRICservice
// ResetRequest.ResetRequestIEs.Cause.CauseE2node
// ResetRequest.ResetRequestIEs.Cause.CauseTransport
// ResetRequest.ResetRequestIEs.Cause.CauseProtocol
// ResetRequest.ResetRequestIEs.Cause.CauseMisc
// ResetRequest.ResetRequestIEs.Cause.CauseServiceLayer.ServiceLayerCause
// ResetRequest.ResetRequestIEs.Cause.CauseServiceLayer
// ResetRequest.ResetRequestIEs.Cause
// ResetRequest.ResetRequestIEs
// ResetRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_ResetRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_ResetRequest* p_ResetRequest = GNB_PNULL;
    e2ap_ResetRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_Reset;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_ResetRequest;
        p_ResetRequest = rtxMemAllocType(&asn1_ctx, e2ap_ResetRequest);
        if(GNB_PNULL==p_ResetRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for ResetRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for ResetRequest",__FUNCTION__);
        }

        asn1Init_e2ap_ResetRequest(p_ResetRequest);
        e2ap_pdu.u.initiatingMessage->value.u.reset = p_ResetRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_ResetRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_ResetRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_ResetRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_ResetRequestIEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apResetRequestIEs_id_TransactionID = p_ResetRequest->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_ResetRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_ResetRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_ResetRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_ResetRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_ResetRequestIEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apResetRequestIEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apResetRequestIEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apResetRequestIEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apResetRequestIEs_id_Cause,
                                &p_ResetRequest->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_ResetRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_ResetResponse                    */
/*                                                */
/**************************************************/
/*
ResetResponse
    ResetResponseIEs
        TransactionID
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_ResetResponse(
                e2ap_ResetResponse_t* p_ResetResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// ResetResponse.ResetResponseIEs.TransactionID
// ResetResponse.ResetResponseIEs.CriticalityDiagnostics.ProcedureCode
// ResetResponse.ResetResponseIEs.CriticalityDiagnostics.TriggeringMessage
// ResetResponse.ResetResponseIEs.CriticalityDiagnostics.Criticality
// ResetResponse.ResetResponseIEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// ResetResponse.ResetResponseIEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// ResetResponse.ResetResponseIEs.CriticalityDiagnostics.RICrequestID
// ResetResponse.ResetResponseIEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// ResetResponse.ResetResponseIEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// ResetResponse.ResetResponseIEs.CriticalityDiagnostics
// ResetResponse.ResetResponseIEs
// ResetResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_ResetResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_ResetResponse* p_ResetResponse = GNB_PNULL;
    e2ap_ResetResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_Reset;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_ResetResponse;
        p_ResetResponse = rtxMemAllocType(&asn1_ctx, e2ap_ResetResponse);
        if(GNB_PNULL==p_ResetResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for ResetResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for ResetResponse",__FUNCTION__);
        }

        asn1Init_e2ap_ResetResponse(p_ResetResponse);
        e2ap_pdu.u.successfulOutcome->value.u.reset = p_ResetResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_ResetResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_ResetResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_ResetResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_ResetResponseIEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apResetResponseIEs_id_TransactionID = p_ResetResponse->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_ResetResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_ResetResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_ResetResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_ResetResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_ResetResponseIEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apResetResponseIEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apResetResponseIEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apResetResponseIEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apResetResponseIEs_id_CriticalityDiagnostics,
                                &p_ResetResponse->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_ResetResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICassistanceFailure                    */
/*                                                */
/**************************************************/
/*
RICassistanceFailure
    RICassistanceFailure-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICassistanceFailure(
                e2ap_RICassistanceFailure_t* p_RICassistanceFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICassistanceFailure.RICassistanceFailure-IEs.RICrequestID.ricRequestorID
// RICassistanceFailure.RICassistanceFailure-IEs.RICrequestID.ricInstanceID
// RICassistanceFailure.RICassistanceFailure-IEs.RICrequestID
// RICassistanceFailure.RICassistanceFailure-IEs.Cause.CauseRICrequest
// RICassistanceFailure.RICassistanceFailure-IEs.Cause.CauseRICservice
// RICassistanceFailure.RICassistanceFailure-IEs.Cause.CauseE2node
// RICassistanceFailure.RICassistanceFailure-IEs.Cause.CauseTransport
// RICassistanceFailure.RICassistanceFailure-IEs.Cause.CauseProtocol
// RICassistanceFailure.RICassistanceFailure-IEs.Cause.CauseMisc
// RICassistanceFailure.RICassistanceFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICassistanceFailure.RICassistanceFailure-IEs.Cause.CauseServiceLayer
// RICassistanceFailure.RICassistanceFailure-IEs.Cause
// RICassistanceFailure.RICassistanceFailure-IEs.CriticalityDiagnostics.ProcedureCode
// RICassistanceFailure.RICassistanceFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// RICassistanceFailure.RICassistanceFailure-IEs.CriticalityDiagnostics.Criticality
// RICassistanceFailure.RICassistanceFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICassistanceFailure.RICassistanceFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICassistanceFailure.RICassistanceFailure-IEs.CriticalityDiagnostics.RICrequestID
// RICassistanceFailure.RICassistanceFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICassistanceFailure.RICassistanceFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICassistanceFailure.RICassistanceFailure-IEs.CriticalityDiagnostics
// RICassistanceFailure.RICassistanceFailure-IEs
// RICassistanceFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICassistanceFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICassistanceFailure* p_RICassistanceFailure = GNB_PNULL;
    e2ap_RICassistanceFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICassistance;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICassistanceFailure;
        p_RICassistanceFailure = rtxMemAllocType(&asn1_ctx, e2ap_RICassistanceFailure);
        if(GNB_PNULL==p_RICassistanceFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICassistanceFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICassistanceFailure",__FUNCTION__);
        }

        asn1Init_e2ap_RICassistanceFailure(p_RICassistanceFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricAssistance = p_RICassistanceFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceFailure_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_RICrequestID,
                                &p_RICassistanceFailure->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_Cause,
                                &p_RICassistanceFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceFailure_IEs_id_CriticalityDiagnostics,
                                &p_RICassistanceFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE RICassistanceSN            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..65535) - RICassistanceSN
  xnap_return_et e2ap_compose_RICassistanceSN(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICassistanceSN  *p_dest,//dest
                        _e2ap_RICassistanceSN_t  *p_src//src
)
{
    *p_dest = (e2ap_RICassistanceSN)*p_src;
    return XNAP_SUCCESS;
}
    
/*****************************************************/
/*    PRIMITIVE RICassistanceHeader            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICassistanceHeader
     
/*****************************************************/
/*    PRIMITIVE RICassistanceOutcome            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICassistanceOutcome
     
/**************************************************/
/*      encode_RICassistanceIndication                    */
/*                                                */
/**************************************************/
/*
RICassistanceIndication
    RICassistanceIndication-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RICassistanceSN
        RICassistanceHeader
        RICassistanceOutcome

*/
xnap_return_et e2ap_encode_RICassistanceIndication(
                e2ap_RICassistanceIndication_t* p_RICassistanceIndication,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICassistanceIndication.RICassistanceIndication-IEs.RICrequestID.ricRequestorID
// RICassistanceIndication.RICassistanceIndication-IEs.RICrequestID.ricInstanceID
// RICassistanceIndication.RICassistanceIndication-IEs.RICrequestID
// RICassistanceIndication.RICassistanceIndication-IEs.RICassistanceSN
// RICassistanceIndication.RICassistanceIndication-IEs.RICassistanceHeader
// RICassistanceIndication.RICassistanceIndication-IEs.RICassistanceOutcome
// RICassistanceIndication.RICassistanceIndication-IEs
// RICassistanceIndication

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICassistanceIndication o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICassistanceIndication* p_RICassistanceIndication = GNB_PNULL;
    e2ap_RICassistanceIndication_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICassistanceIndication;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICassistanceIndication;
        p_RICassistanceIndication = rtxMemAllocType(&asn1_ctx, e2ap_RICassistanceIndication);
        if(GNB_PNULL==p_RICassistanceIndication){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICassistanceIndication",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICassistanceIndication",__FUNCTION__);
        }

        asn1Init_e2ap_RICassistanceIndication(p_RICassistanceIndication);
        e2ap_pdu.u.initiatingMessage->value.u.ricAssistanceIndication = p_RICassistanceIndication;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceIndication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceIndication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceIndication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceIndication_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceIndication_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceIndication_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceIndication_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceIndication_IEs_id_RICrequestID,
                                &p_RICassistanceIndication->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceIndication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RICassistanceSN - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceIndication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceIndication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceIndication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICassistanceSN;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceIndication_IEs_id_RICassistanceSN;
             p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceIndication_IEs_id_RICassistanceSN = p_RICassistanceIndication->id_RICassistanceSN; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceIndication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICassistanceHeader - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceIndication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceIndication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceIndication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICassistanceHeader;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceIndication_IEs_id_RICassistanceHeader;
             p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceIndication_IEs_id_RICassistanceHeader = p_RICassistanceIndication->id_RICassistanceHeader; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceIndication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICassistanceOutcome - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceIndication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceIndication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceIndication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICassistanceOutcome;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceIndication_IEs_id_RICassistanceOutcome;
             p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceIndication_IEs_id_RICassistanceOutcome = p_RICassistanceIndication->id_RICassistanceOutcome; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceIndication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICassistanceHalt                    */
/*                                                */
/**************************************************/
/*
RICassistanceHalt
    RICassistanceHalt-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID

*/
xnap_return_et e2ap_encode_RICassistanceHalt(
                e2ap_RICassistanceHalt_t* p_RICassistanceHalt,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICassistanceHalt.RICassistanceHalt-IEs.RICrequestID.ricRequestorID
// RICassistanceHalt.RICassistanceHalt-IEs.RICrequestID.ricInstanceID
// RICassistanceHalt.RICassistanceHalt-IEs.RICrequestID
// RICassistanceHalt.RICassistanceHalt-IEs
// RICassistanceHalt

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICassistanceHalt o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICassistanceHalt* p_RICassistanceHalt = GNB_PNULL;
    e2ap_RICassistanceHalt_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICassistanceHalt;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICassistanceHalt;
        p_RICassistanceHalt = rtxMemAllocType(&asn1_ctx, e2ap_RICassistanceHalt);
        if(GNB_PNULL==p_RICassistanceHalt){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICassistanceHalt",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICassistanceHalt",__FUNCTION__);
        }

        asn1Init_e2ap_RICassistanceHalt(p_RICassistanceHalt);
        e2ap_pdu.u.initiatingMessage->value.u.ricAssistanceHalt = p_RICassistanceHalt;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceHalt_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceHalt_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceHalt_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceHalt_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceHalt_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceHalt_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceHalt_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceHalt_IEs_id_RICrequestID,
                                &p_RICassistanceHalt->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceHalt->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE RICassistanceMessage            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICassistanceMessage
     
/*****************************************************/
/*    PRIMITIVE RICassistanceUpdate            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - RICassistanceUpdate
   xnap_return_et e2ap_compose_RICassistanceUpdate( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICassistanceUpdate  *p_dest,//dest
                        _e2ap_RICassistanceUpdate_et  *p_src//src
)
{
    *p_dest = (e2ap_RICassistanceUpdate)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE RICassistanceUpdateNumber            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..65535) - RICassistanceUpdateNumber
  xnap_return_et e2ap_compose_RICassistanceUpdateNumber(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICassistanceUpdateNumber  *p_dest,//dest
                        _e2ap_RICassistanceUpdateNumber_t  *p_src//src
)
{
    *p_dest = (e2ap_RICassistanceUpdateNumber)*p_src;
    return XNAP_SUCCESS;
}
    
/**************************************************/
/*      encode_RICassistanceRequest                    */
/*                                                */
/**************************************************/
/*
RICassistanceRequest
    RICassistanceRequest-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RICassistanceHeader
        RICassistanceMessage
        RICassistanceUpdate
        RICassistanceUpdateNumber

*/
xnap_return_et e2ap_encode_RICassistanceRequest(
                e2ap_RICassistanceRequest_t* p_RICassistanceRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICassistanceRequest.RICassistanceRequest-IEs.RICrequestID.ricRequestorID
// RICassistanceRequest.RICassistanceRequest-IEs.RICrequestID.ricInstanceID
// RICassistanceRequest.RICassistanceRequest-IEs.RICrequestID
// RICassistanceRequest.RICassistanceRequest-IEs.RICassistanceHeader
// RICassistanceRequest.RICassistanceRequest-IEs.RICassistanceMessage
// RICassistanceRequest.RICassistanceRequest-IEs.RICassistanceUpdate
// RICassistanceRequest.RICassistanceRequest-IEs.RICassistanceUpdateNumber
// RICassistanceRequest.RICassistanceRequest-IEs
// RICassistanceRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICassistanceRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICassistanceRequest* p_RICassistanceRequest = GNB_PNULL;
    e2ap_RICassistanceRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICassistance;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICassistanceRequest;
        p_RICassistanceRequest = rtxMemAllocType(&asn1_ctx, e2ap_RICassistanceRequest);
        if(GNB_PNULL==p_RICassistanceRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICassistanceRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICassistanceRequest",__FUNCTION__);
        }

        asn1Init_e2ap_RICassistanceRequest(p_RICassistanceRequest);
        e2ap_pdu.u.initiatingMessage->value.u.ricAssistance = p_RICassistanceRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceRequest_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceRequest_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceRequest_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceRequest_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceRequest_IEs_id_RICrequestID,
                                &p_RICassistanceRequest->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RICassistanceHeader - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICassistanceHeader;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceRequest_IEs_id_RICassistanceHeader;
             p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceRequest_IEs_id_RICassistanceHeader = p_RICassistanceRequest->id_RICassistanceHeader; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICassistanceMessage - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICassistanceMessage;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceRequest_IEs_id_RICassistanceMessage;
             p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceRequest_IEs_id_RICassistanceMessage = p_RICassistanceRequest->id_RICassistanceMessage; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICassistanceUpdate - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICassistanceUpdate;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceRequest_IEs_id_RICassistanceUpdate;
             p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceRequest_IEs_id_RICassistanceUpdate = p_RICassistanceRequest->id_RICassistanceUpdate; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_RICassistanceUpdateNumber - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICassistanceUpdateNumber;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceRequest_IEs_id_RICassistanceUpdateNumber;
             p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceRequest_IEs_id_RICassistanceUpdateNumber = p_RICassistanceRequest->id_RICassistanceUpdateNumber; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICassistanceResponse                    */
/*                                                */
/**************************************************/
/*
RICassistanceResponse
    RICassistanceResponse-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RICassistanceHeader
        RICassistanceOutcome

*/
xnap_return_et e2ap_encode_RICassistanceResponse(
                e2ap_RICassistanceResponse_t* p_RICassistanceResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICassistanceResponse.RICassistanceResponse-IEs.RICrequestID.ricRequestorID
// RICassistanceResponse.RICassistanceResponse-IEs.RICrequestID.ricInstanceID
// RICassistanceResponse.RICassistanceResponse-IEs.RICrequestID
// RICassistanceResponse.RICassistanceResponse-IEs.RICassistanceHeader
// RICassistanceResponse.RICassistanceResponse-IEs.RICassistanceOutcome
// RICassistanceResponse.RICassistanceResponse-IEs
// RICassistanceResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICassistanceResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICassistanceResponse* p_RICassistanceResponse = GNB_PNULL;
    e2ap_RICassistanceResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICassistance;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICassistanceResponse;
        p_RICassistanceResponse = rtxMemAllocType(&asn1_ctx, e2ap_RICassistanceResponse);
        if(GNB_PNULL==p_RICassistanceResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICassistanceResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICassistanceResponse",__FUNCTION__);
        }

        asn1Init_e2ap_RICassistanceResponse(p_RICassistanceResponse);
        e2ap_pdu.u.successfulOutcome->value.u.ricAssistance = p_RICassistanceResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceResponse_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceResponse_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceResponse_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceResponse_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceResponse_IEs_id_RICrequestID,
                                &p_RICassistanceResponse->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RICassistanceHeader - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICassistanceHeader;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceResponse_IEs_id_RICassistanceHeader;
             p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceResponse_IEs_id_RICassistanceHeader = p_RICassistanceResponse->id_RICassistanceHeader; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICassistanceOutcome - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICassistanceResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICassistanceResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICassistanceResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICassistanceOutcome;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICassistanceResponse_IEs_id_RICassistanceOutcome;
             p_e2ap_protocolIEs_elem->value.u._e2apRICassistanceResponse_IEs_id_RICassistanceOutcome = p_RICassistanceResponse->id_RICassistanceOutcome; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICassistanceResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE RICcallProcessID            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICcallProcessID
     
/*****************************************************/
/*    PRIMITIVE RICcontrolOutcome            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICcontrolOutcome
     
/**************************************************/
/*      encode_RICcontrolAcknowledge                    */
/*                                                */
/**************************************************/
/*
RICcontrolAcknowledge
    RICcontrolAcknowledge-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICcallProcessID
        RICcontrolOutcome

*/
xnap_return_et e2ap_encode_RICcontrolAcknowledge(
                e2ap_RICcontrolAcknowledge_t* p_RICcontrolAcknowledge,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICcontrolAcknowledge.RICcontrolAcknowledge-IEs.RICrequestID.ricRequestorID
// RICcontrolAcknowledge.RICcontrolAcknowledge-IEs.RICrequestID.ricInstanceID
// RICcontrolAcknowledge.RICcontrolAcknowledge-IEs.RICrequestID
// RICcontrolAcknowledge.RICcontrolAcknowledge-IEs.RANfunctionID
// RICcontrolAcknowledge.RICcontrolAcknowledge-IEs.RICcallProcessID
// RICcontrolAcknowledge.RICcontrolAcknowledge-IEs.RICcontrolOutcome
// RICcontrolAcknowledge.RICcontrolAcknowledge-IEs
// RICcontrolAcknowledge

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICcontrolAcknowledge o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICcontrolAcknowledge* p_RICcontrolAcknowledge = GNB_PNULL;
    e2ap_RICcontrolAcknowledge_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICcontrol;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICcontrolAcknowledge;
        p_RICcontrolAcknowledge = rtxMemAllocType(&asn1_ctx, e2ap_RICcontrolAcknowledge);
        if(GNB_PNULL==p_RICcontrolAcknowledge){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICcontrolAcknowledge",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICcontrolAcknowledge",__FUNCTION__);
        }

        asn1Init_e2ap_RICcontrolAcknowledge(p_RICcontrolAcknowledge);
        e2ap_pdu.u.successfulOutcome->value.u.ricControl = p_RICcontrolAcknowledge;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolAcknowledge_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolAcknowledge_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolAcknowledge_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolAcknowledge_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolAcknowledge_IEs_id_RICrequestID,
                                &p_RICcontrolAcknowledge->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolAcknowledge_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolAcknowledge_IEs_id_RANfunctionID = p_RICcontrolAcknowledge->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICcallProcessID - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICcallProcessID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolAcknowledge_IEs_id_RICcallProcessID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolAcknowledge_IEs_id_RICcallProcessID = p_RICcontrolAcknowledge->id_RICcallProcessID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICcontrolOutcome - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICcontrolOutcome;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolAcknowledge_IEs_id_RICcontrolOutcome;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolAcknowledge_IEs_id_RICcontrolOutcome = p_RICcontrolAcknowledge->id_RICcontrolOutcome; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICcontrolFailure                    */
/*                                                */
/**************************************************/
/*
RICcontrolFailure
    RICcontrolFailure-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICcallProcessID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        RICcontrolOutcome
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICcontrolFailure(
                e2ap_RICcontrolFailure_t* p_RICcontrolFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICcontrolFailure.RICcontrolFailure-IEs.RICrequestID.ricRequestorID
// RICcontrolFailure.RICcontrolFailure-IEs.RICrequestID.ricInstanceID
// RICcontrolFailure.RICcontrolFailure-IEs.RICrequestID
// RICcontrolFailure.RICcontrolFailure-IEs.RANfunctionID
// RICcontrolFailure.RICcontrolFailure-IEs.RICcallProcessID
// RICcontrolFailure.RICcontrolFailure-IEs.Cause.CauseRICrequest
// RICcontrolFailure.RICcontrolFailure-IEs.Cause.CauseRICservice
// RICcontrolFailure.RICcontrolFailure-IEs.Cause.CauseE2node
// RICcontrolFailure.RICcontrolFailure-IEs.Cause.CauseTransport
// RICcontrolFailure.RICcontrolFailure-IEs.Cause.CauseProtocol
// RICcontrolFailure.RICcontrolFailure-IEs.Cause.CauseMisc
// RICcontrolFailure.RICcontrolFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICcontrolFailure.RICcontrolFailure-IEs.Cause.CauseServiceLayer
// RICcontrolFailure.RICcontrolFailure-IEs.Cause
// RICcontrolFailure.RICcontrolFailure-IEs.RICcontrolOutcome
// RICcontrolFailure.RICcontrolFailure-IEs.CriticalityDiagnostics.ProcedureCode
// RICcontrolFailure.RICcontrolFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// RICcontrolFailure.RICcontrolFailure-IEs.CriticalityDiagnostics.Criticality
// RICcontrolFailure.RICcontrolFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICcontrolFailure.RICcontrolFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICcontrolFailure.RICcontrolFailure-IEs.CriticalityDiagnostics.RICrequestID
// RICcontrolFailure.RICcontrolFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICcontrolFailure.RICcontrolFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICcontrolFailure.RICcontrolFailure-IEs.CriticalityDiagnostics
// RICcontrolFailure.RICcontrolFailure-IEs
// RICcontrolFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICcontrolFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICcontrolFailure* p_RICcontrolFailure = GNB_PNULL;
    e2ap_RICcontrolFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICcontrol;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICcontrolFailure;
        p_RICcontrolFailure = rtxMemAllocType(&asn1_ctx, e2ap_RICcontrolFailure);
        if(GNB_PNULL==p_RICcontrolFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICcontrolFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICcontrolFailure",__FUNCTION__);
        }

        asn1Init_e2ap_RICcontrolFailure(p_RICcontrolFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricControl = p_RICcontrolFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolFailure_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_RICrequestID,
                                &p_RICcontrolFailure->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolFailure_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_RANfunctionID = p_RICcontrolFailure->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICcallProcessID - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICcallProcessID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolFailure_IEs_id_RICcallProcessID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_RICcallProcessID = p_RICcontrolFailure->id_RICcallProcessID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_Cause,
                                &p_RICcontrolFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_RICcontrolOutcome - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICcontrolOutcome;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolFailure_IEs_id_RICcontrolOutcome;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_RICcontrolOutcome = p_RICcontrolFailure->id_RICcontrolOutcome; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-6   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolFailure_IEs_id_CriticalityDiagnostics,
                                &p_RICcontrolFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE RICcontrolHeader            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICcontrolHeader
     
/*****************************************************/
/*    PRIMITIVE RICcontrolMessage            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICcontrolMessage
     
/*****************************************************/
/*    PRIMITIVE RICcontrolAckRequest            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - RICcontrolAckRequest
   xnap_return_et e2ap_compose_RICcontrolAckRequest( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICcontrolAckRequest  *p_dest,//dest
                        _e2ap_RICcontrolAckRequest_et  *p_src//src
)
{
    *p_dest = (e2ap_RICcontrolAckRequest)*p_src;
    return XNAP_SUCCESS;
}
   
/**************************************************/
/*      encode_RICcontrolRequest                    */
/*                                                */
/**************************************************/
/*
RICcontrolRequest
    RICcontrolRequest-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICcallProcessID
        RICcontrolHeader
        RICcontrolMessage
        RICcontrolAckRequest

*/
xnap_return_et e2ap_encode_RICcontrolRequest(
                e2ap_RICcontrolRequest_t* p_RICcontrolRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICcontrolRequest.RICcontrolRequest-IEs.RICrequestID.ricRequestorID
// RICcontrolRequest.RICcontrolRequest-IEs.RICrequestID.ricInstanceID
// RICcontrolRequest.RICcontrolRequest-IEs.RICrequestID
// RICcontrolRequest.RICcontrolRequest-IEs.RANfunctionID
// RICcontrolRequest.RICcontrolRequest-IEs.RICcallProcessID
// RICcontrolRequest.RICcontrolRequest-IEs.RICcontrolHeader
// RICcontrolRequest.RICcontrolRequest-IEs.RICcontrolMessage
// RICcontrolRequest.RICcontrolRequest-IEs.RICcontrolAckRequest
// RICcontrolRequest.RICcontrolRequest-IEs
// RICcontrolRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICcontrolRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICcontrolRequest* p_RICcontrolRequest = GNB_PNULL;
    e2ap_RICcontrolRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICcontrol;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICcontrolRequest;
        p_RICcontrolRequest = rtxMemAllocType(&asn1_ctx, e2ap_RICcontrolRequest);
        if(GNB_PNULL==p_RICcontrolRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICcontrolRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICcontrolRequest",__FUNCTION__);
        }

        asn1Init_e2ap_RICcontrolRequest(p_RICcontrolRequest);
        e2ap_pdu.u.initiatingMessage->value.u.ricControl = p_RICcontrolRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolRequest_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolRequest_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolRequest_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolRequest_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolRequest_IEs_id_RICrequestID,
                                &p_RICcontrolRequest->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolRequest_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolRequest_IEs_id_RANfunctionID = p_RICcontrolRequest->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICcallProcessID - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICcallProcessID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolRequest_IEs_id_RICcallProcessID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolRequest_IEs_id_RICcallProcessID = p_RICcontrolRequest->id_RICcallProcessID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICcontrolHeader - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICcontrolHeader;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolRequest_IEs_id_RICcontrolHeader;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolRequest_IEs_id_RICcontrolHeader = p_RICcontrolRequest->id_RICcontrolHeader; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_RICcontrolMessage - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICcontrolMessage;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolRequest_IEs_id_RICcontrolMessage;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolRequest_IEs_id_RICcontrolMessage = p_RICcontrolRequest->id_RICcontrolMessage; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-6   encode id_RICcontrolAckRequest - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICcontrolRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICcontrolRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICcontrolRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICcontrolAckRequest;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICcontrolRequest_IEs_id_RICcontrolAckRequest;
             p_e2ap_protocolIEs_elem->value.u._e2apRICcontrolRequest_IEs_id_RICcontrolAckRequest = p_RICcontrolRequest->id_RICcontrolAckRequest; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICcontrolRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE RICactionID            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..255) - RICactionID
  xnap_return_et e2ap_compose_RICactionID(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICactionID  *p_dest,//dest
                        _e2ap_RICactionID_t  *p_src//src
)
{
    *p_dest = (e2ap_RICactionID)*p_src;
    return XNAP_SUCCESS;
}
    
/*****************************************************/
/*    PRIMITIVE RICindicationSN            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..65535) - RICindicationSN
  xnap_return_et e2ap_compose_RICindicationSN(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICindicationSN  *p_dest,//dest
                        _e2ap_RICindicationSN_t  *p_src//src
)
{
    *p_dest = (e2ap_RICindicationSN)*p_src;
    return XNAP_SUCCESS;
}
    
/*****************************************************/
/*    PRIMITIVE RICindicationType            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - RICindicationType
   xnap_return_et e2ap_compose_RICindicationType( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICindicationType  *p_dest,//dest
                        _e2ap_RICindicationType_et  *p_src//src
)
{
    *p_dest = (e2ap_RICindicationType)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE RICindicationHeader            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICindicationHeader
     
/*****************************************************/
/*    PRIMITIVE RICindicationMessage            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICindicationMessage
     
/**************************************************/
/*      encode_RICindication                    */
/*                                                */
/**************************************************/
/*
RICindication
    RICindication-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICactionID
        RICindicationSN
        RICindicationType
        RICindicationHeader
        RICindicationMessage
        RICcallProcessID

*/
xnap_return_et e2ap_encode_RICindication(
                e2ap_RICindication_t* p_RICindication,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICindication.RICindication-IEs.RICrequestID.ricRequestorID
// RICindication.RICindication-IEs.RICrequestID.ricInstanceID
// RICindication.RICindication-IEs.RICrequestID
// RICindication.RICindication-IEs.RANfunctionID
// RICindication.RICindication-IEs.RICactionID
// RICindication.RICindication-IEs.RICindicationSN
// RICindication.RICindication-IEs.RICindicationType
// RICindication.RICindication-IEs.RICindicationHeader
// RICindication.RICindication-IEs.RICindicationMessage
// RICindication.RICindication-IEs.RICcallProcessID
// RICindication.RICindication-IEs
// RICindication

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICindication o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICindication* p_RICindication = GNB_PNULL;
    e2ap_RICindication_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICindication;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_ignore;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICindication;
        p_RICindication = rtxMemAllocType(&asn1_ctx, e2ap_RICindication);
        if(GNB_PNULL==p_RICindication){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICindication",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICindication",__FUNCTION__);
        }

        asn1Init_e2ap_RICindication(p_RICindication);
        e2ap_pdu.u.initiatingMessage->value.u.ricIndication = p_RICindication;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICindication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICindication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICindication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICindication_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RICrequestID,
                                &p_RICindication->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICindication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICindication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICindication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICindication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICindication_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RANfunctionID = p_RICindication->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICindication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICindication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICindication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICindication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICindication_IEs_id_RICactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RICactionID = p_RICindication->id_RICactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICindication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICindicationSN - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICindication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICindication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICindication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICindicationSN;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICindication_IEs_id_RICindicationSN;
             p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RICindicationSN = p_RICindication->id_RICindicationSN; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICindication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_RICindicationType - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICindication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICindication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICindication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICindicationType;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICindication_IEs_id_RICindicationType;
             p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RICindicationType = p_RICindication->id_RICindicationType; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICindication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-6   encode id_RICindicationHeader - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICindication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICindication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICindication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICindicationHeader;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICindication_IEs_id_RICindicationHeader;
             p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RICindicationHeader = p_RICindication->id_RICindicationHeader; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICindication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-7   encode id_RICindicationMessage - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICindication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICindication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICindication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICindicationMessage;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICindication_IEs_id_RICindicationMessage;
             p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RICindicationMessage = p_RICindication->id_RICindicationMessage; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICindication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-8   encode id_RICcallProcessID - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICindication_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICindication_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICindication_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICcallProcessID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICindication_IEs_id_RICcallProcessID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICindication_IEs_id_RICcallProcessID = p_RICindication->id_RICcallProcessID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICindication->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE LoadMeasurementID            */
/*****************************************************/
// cpmpose primitive - id = 5 - INTEGER (1..4095,...) - LoadMeasurementID
  xnap_return_et e2ap_compose_LoadMeasurementID(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_LoadMeasurementID  *p_dest,//dest
                        _e2ap_LoadMeasurementID_t  *p_src//src
)
{
    *p_dest = (e2ap_LoadMeasurementID)*p_src;
    return XNAP_SUCCESS;
}
    
/*****************************************************/
/*    PRIMITIVE RegistrationRequest            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - RegistrationRequest
   xnap_return_et e2ap_compose_RegistrationRequest( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RegistrationRequest  *p_dest,//dest
                        _e2ap_RegistrationRequest_et  *p_src//src
)
{
    *p_dest = (e2ap_RegistrationRequest)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE RICloadRequest            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - RICloadRequest
   xnap_return_et e2ap_compose_RICloadRequest( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICloadRequest  *p_dest,//dest
                        _e2ap_RICloadRequest_et  *p_src//src
)
{
    *p_dest = (e2ap_RICloadRequest)*p_src;
    return XNAP_SUCCESS;
}
   
/************************************************************/
/*      SEQUENCE RICserviceLoadRequest                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICserviceLoadRequest(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICserviceLoadRequest                 *p_e2ap_RICserviceLoadRequest, //dest
                _e2ap_RICserviceLoadRequest_t              *p_RICserviceLoadRequest //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricServiceReportLoadRequest alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadRequest(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadRequest->ricServiceReportLoadRequest,
                                                &p_RICserviceLoadRequest->ricServiceReportLoadRequest))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceReportLoadRequest",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricServiceReportLoadRequest*/

    {  /*SEQ_ELEM-2  Encode ricServiceInsertLoadRequest alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadRequest(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadRequest->ricServiceInsertLoadRequest,
                                                &p_RICserviceLoadRequest->ricServiceInsertLoadRequest))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceInsertLoadRequest",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricServiceInsertLoadRequest*/

    {  /*SEQ_ELEM-3  Encode ricServiceControlLoadRequest alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadRequest(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadRequest->ricServiceControlLoadRequest,
                                                &p_RICserviceLoadRequest->ricServiceControlLoadRequest))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceControlLoadRequest",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricServiceControlLoadRequest*/

    {  /*SEQ_ELEM-4  Encode ricServicePolicyLoadRequest alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadRequest(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadRequest->ricServicePolicyLoadRequest,
                                                &p_RICserviceLoadRequest->ricServicePolicyLoadRequest))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServicePolicyLoadRequest",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ricServicePolicyLoadRequest*/

    {  /*SEQ_ELEM-5  Encode ricServiceQueryLoadRequest alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadRequest(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadRequest->ricServiceQueryLoadRequest,
                                                &p_RICserviceLoadRequest->ricServiceQueryLoadRequest))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceQueryLoadRequest",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-5  Encode ricServiceQueryLoadRequest*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE RICactionLoadRequest_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICactionLoadRequest_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICactionLoadRequest_Item                 *p_e2ap_RICactionLoadRequest_Item, //dest
                _e2ap_RICactionLoadRequest_Item_t              *p_RICactionLoadRequest_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICactionLoadRequest_Item->ricActionID,
                                                &p_RICactionLoadRequest_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode ricActionLoadRequest alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadRequest(p_asn1_ctx,
                                                &p_e2ap_RICactionLoadRequest_Item->ricActionLoadRequest,
                                                &p_RICactionLoadRequest_Item->ricActionLoadRequest))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionLoadRequest",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricActionLoadRequest*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactionLoadRequest_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactionLoadRequest_List,
                _e2ap_RICactionLoadRequest_List_t       *p_RICactionLoadRequest_List
){
    e2ap_RICactionLoadRequest_ItemIEs   *p_RICactionLoadRequest_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactionLoadRequest_List->id_RICactionLoadRequest_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICactionLoadRequest_ItemIEs,
                                &p_node_list,
                                &p_RICactionLoadRequest_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICactionLoadRequest-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICactionLoadRequest_ItemIEs(p_RICactionLoadRequest_ItemIEs);
        p_RICactionLoadRequest_ItemIEs->id = ASN1V_e2ap_id_RICactionLoadRequest_Item;
        p_RICactionLoadRequest_ItemIEs->criticality = e2ap_reject;
        p_RICactionLoadRequest_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICactionLoadRequest_ItemIEs_id_RICactionLoadRequest_Item;
        p_RICactionLoadRequest_ItemIEs->value.u._e2apRICactionLoadRequest_ItemIEs_id_RICactionLoadRequest_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICactionLoadRequest_ItemIEs);
        if(GNB_PNULL==p_RICactionLoadRequest_ItemIEs->value.u._e2apRICactionLoadRequest_ItemIEs_id_RICactionLoadRequest_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICactionLoadRequest-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICactionLoadRequest_Item(p_asn1_ctx,
                                                p_RICactionLoadRequest_ItemIEs->value.u._e2apRICactionLoadRequest_ItemIEs_id_RICactionLoadRequest_Item,
                                                &p_RICactionLoadRequest_List->id_RICactionLoadRequest_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactionLoadRequest-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactionLoadRequest_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICsubscriptionLoadRequest_ItemIE                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICsubscriptionLoadRequest_ItemIE(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICsubscriptionLoadRequest_ItemIE                 *p_e2ap_RICsubscriptionLoadRequest_ItemIE, //dest
                _e2ap_RICsubscriptionLoadRequest_ItemIE_t              *p_RICsubscriptionLoadRequest_ItemIE //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricRequestID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionLoadRequest_ItemIE->ricRequestID = rtxMemAllocType(p_asn1_ctx, e2ap_RICrequestID);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionLoadRequest_ItemIE->ricRequestID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICrequestID(&p_e2ap_RICsubscriptionLoadRequest_ItemIE->ricRequestID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICrequestID(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionLoadRequest_ItemIE->ricRequestID,
                                                &p_RICsubscriptionLoadRequest_ItemIE->ricRequestID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricRequestID*/

    {  /*SEQ_ELEM-2  Encode ricSubscriptionLoadRequest alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadRequest(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionLoadRequest_ItemIE->ricSubscriptionLoadRequest,
                                                &p_RICsubscriptionLoadRequest_ItemIE->ricSubscriptionLoadRequest))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubscriptionLoadRequest",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricSubscriptionLoadRequest*/

    {  /*SEQ_ELEM-3  Encode ricActionLoadRequest_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionLoadRequest_ItemIE->ricActionLoadRequest_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICactionLoadRequest_List);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionLoadRequest_ItemIE->ricActionLoadRequest_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricActionLoadRequest_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICactionLoadRequest_List(&p_e2ap_RICsubscriptionLoadRequest_ItemIE->ricActionLoadRequest_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICactionLoadRequest_List(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionLoadRequest_ItemIE->ricActionLoadRequest_list,
                                                &p_RICsubscriptionLoadRequest_ItemIE->ricActionLoadRequest_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionLoadRequest_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricActionLoadRequest_list*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICsubscriptionLoadRequest_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICsubscriptionLoadRequest_List,
                _e2ap_RICsubscriptionLoadRequest_List_t       *p_RICsubscriptionLoadRequest_List
){
    e2ap_RICsubscriptionLoadRequest_ItemIEs   *p_RICsubscriptionLoadRequest_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICsubscriptionLoadRequest_List->id_RICsubscriptionLoadRequest_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICsubscriptionLoadRequest_ItemIEs,
                                &p_node_list,
                                &p_RICsubscriptionLoadRequest_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionLoadRequest-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICsubscriptionLoadRequest_ItemIEs(p_RICsubscriptionLoadRequest_ItemIEs);
        p_RICsubscriptionLoadRequest_ItemIEs->id = ASN1V_e2ap_id_RICsubscriptionLoadRequest_Item;
        p_RICsubscriptionLoadRequest_ItemIEs->criticality = e2ap_reject;
        p_RICsubscriptionLoadRequest_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICsubscriptionLoadRequest_ItemIEs_id_RICsubscriptionLoadRequest_Item;
        p_RICsubscriptionLoadRequest_ItemIEs->value.u._e2apRICsubscriptionLoadRequest_ItemIEs_id_RICsubscriptionLoadRequest_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionLoadRequest_ItemIEs);
        if(GNB_PNULL==p_RICsubscriptionLoadRequest_ItemIEs->value.u._e2apRICsubscriptionLoadRequest_ItemIEs_id_RICsubscriptionLoadRequest_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionLoadRequest-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionLoadRequest_ItemIE(p_asn1_ctx,
                                                p_RICsubscriptionLoadRequest_ItemIEs->value.u._e2apRICsubscriptionLoadRequest_ItemIEs_id_RICsubscriptionLoadRequest_Item,
                                                &p_RICsubscriptionLoadRequest_List->id_RICsubscriptionLoadRequest_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionLoadRequest-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICsubscriptionLoadRequest_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RANfunctionLoadRequest_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RANfunctionLoadRequest_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RANfunctionLoadRequest_Item                 *p_e2ap_RANfunctionLoadRequest_Item, //dest
                _e2ap_RANfunctionLoadRequest_Item_t              *p_RANfunctionLoadRequest_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoadRequest_Item->ranFunctionID,
                                                &p_RANfunctionLoadRequest_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ranFunctionID*/

    {  /*SEQ_ELEM-2  Encode ranFunctionLoadRequest alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadRequest(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoadRequest_Item->ranFunctionLoadRequest,
                                                &p_RANfunctionLoadRequest_Item->ranFunctionLoadRequest))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionLoadRequest",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ranFunctionLoadRequest*/

    {  /*SEQ_ELEM-3  Encode ricServiceLoadRequest alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionLoadRequest_Item->ricServiceLoadRequest = rtxMemAllocType(p_asn1_ctx, e2ap_RICserviceLoadRequest);
        if(XNAP_P_NULL == p_e2ap_RANfunctionLoadRequest_Item->ricServiceLoadRequest)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricServiceLoadRequest",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICserviceLoadRequest(&p_e2ap_RANfunctionLoadRequest_Item->ricServiceLoadRequest);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICserviceLoadRequest(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoadRequest_Item->ricServiceLoadRequest,
                                                &p_RANfunctionLoadRequest_Item->ricServiceLoadRequest))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceLoadRequest",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricServiceLoadRequest*/

    {  /*SEQ_ELEM-4  Encode ricSubscriptionLoadRequest_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionLoadRequest_Item->ricSubscriptionLoadRequest_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionLoadRequest_List);
        if(XNAP_P_NULL == p_e2ap_RANfunctionLoadRequest_Item->ricSubscriptionLoadRequest_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubscriptionLoadRequest_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICsubscriptionLoadRequest_List(&p_e2ap_RANfunctionLoadRequest_Item->ricSubscriptionLoadRequest_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionLoadRequest_List(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoadRequest_Item->ricSubscriptionLoadRequest_list,
                                                &p_RANfunctionLoadRequest_Item->ricSubscriptionLoadRequest_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubscriptionLoadRequest_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ricSubscriptionLoadRequest_list*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RANfunctionLoadRequest_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RANfunctionLoadRequest_List,
                _e2ap_RANfunctionLoadRequest_List_t       *p_RANfunctionLoadRequest_List
){
    e2ap_RANfunctionLoadRequest_ItemIEs   *p_RANfunctionLoadRequest_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RANfunctionLoadRequest_List->id_RANfunctionLoadRequest_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RANfunctionLoadRequest_ItemIEs,
                                &p_node_list,
                                &p_RANfunctionLoadRequest_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionLoadRequest-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RANfunctionLoadRequest_ItemIEs(p_RANfunctionLoadRequest_ItemIEs);
        p_RANfunctionLoadRequest_ItemIEs->id = ASN1V_e2ap_id_RANfunctionLoadRequest_Item;
        p_RANfunctionLoadRequest_ItemIEs->criticality = e2ap_reject;
        p_RANfunctionLoadRequest_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RANfunctionLoadRequest_ItemIEs_id_RANfunctionLoadRequest_Item;
        p_RANfunctionLoadRequest_ItemIEs->value.u._e2apRANfunctionLoadRequest_ItemIEs_id_RANfunctionLoadRequest_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RANfunctionLoadRequest_ItemIEs);
        if(GNB_PNULL==p_RANfunctionLoadRequest_ItemIEs->value.u._e2apRANfunctionLoadRequest_ItemIEs_id_RANfunctionLoadRequest_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionLoadRequest-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RANfunctionLoadRequest_Item(p_asn1_ctx,
                                                p_RANfunctionLoadRequest_ItemIEs->value.u._e2apRANfunctionLoadRequest_ItemIEs_id_RANfunctionLoadRequest_Item,
                                                &p_RANfunctionLoadRequest_List->id_RANfunctionLoadRequest_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionLoadRequest-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RANfunctionLoadRequest_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/*****************************************************/
/*    PRIMITIVE ReportingPeriodicity            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - ReportingPeriodicity
   xnap_return_et e2ap_compose_ReportingPeriodicity( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_ReportingPeriodicity  *p_dest,//dest
                        _e2ap_ReportingPeriodicity_et  *p_src//src
)
{
    *p_dest = (e2ap_ReportingPeriodicity)*p_src;
    return XNAP_SUCCESS;
}
   
/**************************************************/
/*      encode_RICserviceLoadStatusRequest                    */
/*                                                */
/**************************************************/
/*
RICserviceLoadStatusRequest
    RICserviceLoadStatusRequest-IEs
        LoadMeasurementID
        LoadMeasurementID
        RegistrationRequest
        RANfunctionLoadRequest-List
            RANfunctionLoadRequest-ItemIEs
                RANfunctionLoadRequest-Item
                    RANfunctionID
                    RICloadRequest
                    RICserviceLoadRequest
                        RICloadRequest
                        RICloadRequest
                        RICloadRequest
                        RICloadRequest
                        RICloadRequest
                    RICsubscriptionLoadRequest-List
                        RICsubscriptionLoadRequest-ItemIEs
                            RICsubscriptionLoadRequest-ItemIE
                                RICrequestID
                                    ricRequestorID
                                    ricInstanceID
                                RICloadRequest
                                RICactionLoadRequest-List
                                    RICactionLoadRequest-ItemIEs
                                        RICactionLoadRequest-Item
                                            RICactionID
                                            RICloadRequest
        ReportingPeriodicity

*/
xnap_return_et e2ap_encode_RICserviceLoadStatusRequest(
                e2ap_RICserviceLoadStatusRequest_t* p_RICserviceLoadStatusRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.LoadMeasurementID
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RegistrationRequest
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RANfunctionID
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICloadRequest
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICserviceLoadRequest.RICloadRequest
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICserviceLoadRequest
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs.RICsubscriptionLoadRequest-ItemIE.RICrequestID.ricRequestorID
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs.RICsubscriptionLoadRequest-ItemIE.RICrequestID.ricInstanceID
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs.RICsubscriptionLoadRequest-ItemIE.RICrequestID
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs.RICsubscriptionLoadRequest-ItemIE.RICloadRequest
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs.RICsubscriptionLoadRequest-ItemIE.RICactionLoadRequest-List.RICactionLoadRequest-ItemIEs.RICactionLoadRequest-Item.RICactionID
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs.RICsubscriptionLoadRequest-ItemIE.RICactionLoadRequest-List.RICactionLoadRequest-ItemIEs.RICactionLoadRequest-Item.RICloadRequest
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs.RICsubscriptionLoadRequest-ItemIE.RICactionLoadRequest-List.RICactionLoadRequest-ItemIEs.RICactionLoadRequest-Item
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs.RICsubscriptionLoadRequest-ItemIE.RICactionLoadRequest-List.RICactionLoadRequest-ItemIEs
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs.RICsubscriptionLoadRequest-ItemIE.RICactionLoadRequest-List
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs.RICsubscriptionLoadRequest-ItemIE
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List.RICsubscriptionLoadRequest-ItemIEs
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item.RICsubscriptionLoadRequest-List
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs.RANfunctionLoadRequest-Item
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List.RANfunctionLoadRequest-ItemIEs
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.RANfunctionLoadRequest-List
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs.ReportingPeriodicity
// RICserviceLoadStatusRequest.RICserviceLoadStatusRequest-IEs
// RICserviceLoadStatusRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICserviceLoadStatusRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICserviceLoadStatusRequest* p_RICserviceLoadStatusRequest = GNB_PNULL;
    e2ap_RICserviceLoadStatusRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICserviceLoadStatus;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_ignore;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICserviceLoadStatusRequest;
        p_RICserviceLoadStatusRequest = rtxMemAllocType(&asn1_ctx, e2ap_RICserviceLoadStatusRequest);
        if(GNB_PNULL==p_RICserviceLoadStatusRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICserviceLoadStatusRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICserviceLoadStatusRequest",__FUNCTION__);
        }

        asn1Init_e2ap_RICserviceLoadStatusRequest(p_RICserviceLoadStatusRequest);
        e2ap_pdu.u.initiatingMessage->value.u.ricServiceLoadStatus = p_RICserviceLoadStatusRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICloadMeasurementID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICloadMeasurementID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusRequest_IEs_id_RICloadMeasurementID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusRequest_IEs_id_RICloadMeasurementID = p_RICserviceLoadStatusRequest->id_RICloadMeasurementID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_E2nodeLoadMeasurementID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeLoadMeasurementID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusRequest_IEs_id_E2nodeLoadMeasurementID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusRequest_IEs_id_E2nodeLoadMeasurementID = p_RICserviceLoadStatusRequest->id_E2nodeLoadMeasurementID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RegistrationRequest - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RegistrationRequest;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusRequest_IEs_id_RegistrationRequest;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusRequest_IEs_id_RegistrationRequest = p_RICserviceLoadStatusRequest->id_RegistrationRequest; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RANfunctionLoadRequest_List - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionLoadRequest_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusRequest_IEs_id_RANfunctionLoadRequest_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusRequest_IEs_id_RANfunctionLoadRequest_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionLoadRequest_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusRequest_IEs_id_RANfunctionLoadRequest_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionLoadRequest_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionLoadRequest_List(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusRequest_IEs_id_RANfunctionLoadRequest_List);
            #endif
            //message_name.item_type -> type = RANfunctionLoadRequest_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionLoadRequest_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusRequest_IEs_id_RANfunctionLoadRequest_List,
                                &p_RICserviceLoadStatusRequest->id_RANfunctionLoadRequest_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionLoadRequest_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionLoadRequest_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_ReportingPeriodicity - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_ReportingPeriodicity;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusRequest_IEs_id_ReportingPeriodicity;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusRequest_IEs_id_ReportingPeriodicity = p_RICserviceLoadStatusRequest->id_ReportingPeriodicity; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE RICloadConfirm            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - RICloadConfirm
   xnap_return_et e2ap_compose_RICloadConfirm( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICloadConfirm  *p_dest,//dest
                        _e2ap_RICloadConfirm_et  *p_src//src
)
{
    *p_dest = (e2ap_RICloadConfirm)*p_src;
    return XNAP_SUCCESS;
}
   
/************************************************************/
/*      SEQUENCE RICserviceLoadConfirm                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICserviceLoadConfirm(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICserviceLoadConfirm                 *p_e2ap_RICserviceLoadConfirm, //dest
                _e2ap_RICserviceLoadConfirm_t              *p_RICserviceLoadConfirm //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricServiceReportLoadConfirm alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadConfirm(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadConfirm->ricServiceReportLoadConfirm,
                                                &p_RICserviceLoadConfirm->ricServiceReportLoadConfirm))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceReportLoadConfirm",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricServiceReportLoadConfirm*/

    {  /*SEQ_ELEM-2  Encode ricServiceInsertLoadConfirm alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadConfirm(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadConfirm->ricServiceInsertLoadConfirm,
                                                &p_RICserviceLoadConfirm->ricServiceInsertLoadConfirm))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceInsertLoadConfirm",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricServiceInsertLoadConfirm*/

    {  /*SEQ_ELEM-3  Encode ricServiceControlLoadConfirm alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadConfirm(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadConfirm->ricServiceControlLoadConfirm,
                                                &p_RICserviceLoadConfirm->ricServiceControlLoadConfirm))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceControlLoadConfirm",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricServiceControlLoadConfirm*/

    {  /*SEQ_ELEM-4  Encode ricServicePolicyLoadConfirm alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadConfirm(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadConfirm->ricServicePolicyLoadConfirm,
                                                &p_RICserviceLoadConfirm->ricServicePolicyLoadConfirm))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServicePolicyLoadConfirm",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ricServicePolicyLoadConfirm*/

    {  /*SEQ_ELEM-5  Encode ricServiceQueryLoadConfirm alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadConfirm(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadConfirm->ricServiceQueryLoadConfirm,
                                                &p_RICserviceLoadConfirm->ricServiceQueryLoadConfirm))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceQueryLoadConfirm",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-5  Encode ricServiceQueryLoadConfirm*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE RICactionLoadConfirm_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICactionLoadConfirm_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICactionLoadConfirm_Item                 *p_e2ap_RICactionLoadConfirm_Item, //dest
                _e2ap_RICactionLoadConfirm_Item_t              *p_RICactionLoadConfirm_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICactionLoadConfirm_Item->ricActionID,
                                                &p_RICactionLoadConfirm_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode ricActionLoadConfirm alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadConfirm(p_asn1_ctx,
                                                &p_e2ap_RICactionLoadConfirm_Item->ricActionLoadConfirm,
                                                &p_RICactionLoadConfirm_Item->ricActionLoadConfirm))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionLoadConfirm",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricActionLoadConfirm*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactionLoadConfirm_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactionLoadConfirm_List,
                _e2ap_RICactionLoadConfirm_List_t       *p_RICactionLoadConfirm_List
){
    e2ap_RICactionLoadConfirm_ItemIEs   *p_RICactionLoadConfirm_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactionLoadConfirm_List->id_RICactionLoadConfirm_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICactionLoadConfirm_ItemIEs,
                                &p_node_list,
                                &p_RICactionLoadConfirm_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICactionLoadConfirm-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICactionLoadConfirm_ItemIEs(p_RICactionLoadConfirm_ItemIEs);
        p_RICactionLoadConfirm_ItemIEs->id = ASN1V_e2ap_id_RICactionLoadConfirm_Item;
        p_RICactionLoadConfirm_ItemIEs->criticality = e2ap_reject;
        p_RICactionLoadConfirm_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICactionLoadConfirm_ItemIEs_id_RICactionLoadConfirm_Item;
        p_RICactionLoadConfirm_ItemIEs->value.u._e2apRICactionLoadConfirm_ItemIEs_id_RICactionLoadConfirm_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICactionLoadConfirm_ItemIEs);
        if(GNB_PNULL==p_RICactionLoadConfirm_ItemIEs->value.u._e2apRICactionLoadConfirm_ItemIEs_id_RICactionLoadConfirm_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICactionLoadConfirm-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICactionLoadConfirm_Item(p_asn1_ctx,
                                                p_RICactionLoadConfirm_ItemIEs->value.u._e2apRICactionLoadConfirm_ItemIEs_id_RICactionLoadConfirm_Item,
                                                &p_RICactionLoadConfirm_List->id_RICactionLoadConfirm_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactionLoadConfirm-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactionLoadConfirm_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICsubscriptionLoadConfirm_ItemIE                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICsubscriptionLoadConfirm_ItemIE(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICsubscriptionLoadConfirm_ItemIE                 *p_e2ap_RICsubscriptionLoadConfirm_ItemIE, //dest
                _e2ap_RICsubscriptionLoadConfirm_ItemIE_t              *p_RICsubscriptionLoadConfirm_ItemIE //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricRequestID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionLoadConfirm_ItemIE->ricRequestID = rtxMemAllocType(p_asn1_ctx, e2ap_RICrequestID);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionLoadConfirm_ItemIE->ricRequestID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICrequestID(&p_e2ap_RICsubscriptionLoadConfirm_ItemIE->ricRequestID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICrequestID(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionLoadConfirm_ItemIE->ricRequestID,
                                                &p_RICsubscriptionLoadConfirm_ItemIE->ricRequestID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricRequestID*/

    {  /*SEQ_ELEM-2  Encode ricSubscriptionLoadConfirm alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadConfirm(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionLoadConfirm_ItemIE->ricSubscriptionLoadConfirm,
                                                &p_RICsubscriptionLoadConfirm_ItemIE->ricSubscriptionLoadConfirm))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubscriptionLoadConfirm",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricSubscriptionLoadConfirm*/

    {  /*SEQ_ELEM-3  Encode ricActionLoadConfirm_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionLoadConfirm_ItemIE->ricActionLoadConfirm_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICactionLoadConfirm_List);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionLoadConfirm_ItemIE->ricActionLoadConfirm_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricActionLoadConfirm_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICactionLoadConfirm_List(&p_e2ap_RICsubscriptionLoadConfirm_ItemIE->ricActionLoadConfirm_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICactionLoadConfirm_List(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionLoadConfirm_ItemIE->ricActionLoadConfirm_list,
                                                &p_RICsubscriptionLoadConfirm_ItemIE->ricActionLoadConfirm_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionLoadConfirm_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricActionLoadConfirm_list*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICsubscriptionLoadConfirm_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICsubscriptionLoadConfirm_List,
                _e2ap_RICsubscriptionLoadConfirm_List_t       *p_RICsubscriptionLoadConfirm_List
){
    e2ap_RICsubscriptionLoadConfirm_ItemIEs   *p_RICsubscriptionLoadConfirm_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICsubscriptionLoadConfirm_List->id_RICsubscriptionLoadConfirm_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICsubscriptionLoadConfirm_ItemIEs,
                                &p_node_list,
                                &p_RICsubscriptionLoadConfirm_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionLoadConfirm-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICsubscriptionLoadConfirm_ItemIEs(p_RICsubscriptionLoadConfirm_ItemIEs);
        p_RICsubscriptionLoadConfirm_ItemIEs->id = ASN1V_e2ap_id_RICsubscriptionLoadConfirm_Item;
        p_RICsubscriptionLoadConfirm_ItemIEs->criticality = e2ap_reject;
        p_RICsubscriptionLoadConfirm_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICsubscriptionLoadConfirm_ItemIEs_id_RICsubscriptionLoadConfirm_Item;
        p_RICsubscriptionLoadConfirm_ItemIEs->value.u._e2apRICsubscriptionLoadConfirm_ItemIEs_id_RICsubscriptionLoadConfirm_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionLoadConfirm_ItemIEs);
        if(GNB_PNULL==p_RICsubscriptionLoadConfirm_ItemIEs->value.u._e2apRICsubscriptionLoadConfirm_ItemIEs_id_RICsubscriptionLoadConfirm_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionLoadConfirm-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionLoadConfirm_ItemIE(p_asn1_ctx,
                                                p_RICsubscriptionLoadConfirm_ItemIEs->value.u._e2apRICsubscriptionLoadConfirm_ItemIEs_id_RICsubscriptionLoadConfirm_Item,
                                                &p_RICsubscriptionLoadConfirm_List->id_RICsubscriptionLoadConfirm_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionLoadConfirm-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICsubscriptionLoadConfirm_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RANfunctionLoadConfirm_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RANfunctionLoadConfirm_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RANfunctionLoadConfirm_Item                 *p_e2ap_RANfunctionLoadConfirm_Item, //dest
                _e2ap_RANfunctionLoadConfirm_Item_t              *p_RANfunctionLoadConfirm_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoadConfirm_Item->ranFunctionID,
                                                &p_RANfunctionLoadConfirm_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ranFunctionID*/

    {  /*SEQ_ELEM-2  Encode ranFunctionLoadConfirm alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICloadConfirm(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoadConfirm_Item->ranFunctionLoadConfirm,
                                                &p_RANfunctionLoadConfirm_Item->ranFunctionLoadConfirm))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionLoadConfirm",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ranFunctionLoadConfirm*/

    {  /*SEQ_ELEM-3  Encode ricServiceLoadConfirm alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionLoadConfirm_Item->ricServiceLoadConfirm = rtxMemAllocType(p_asn1_ctx, e2ap_RICserviceLoadConfirm);
        if(XNAP_P_NULL == p_e2ap_RANfunctionLoadConfirm_Item->ricServiceLoadConfirm)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricServiceLoadConfirm",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICserviceLoadConfirm(&p_e2ap_RANfunctionLoadConfirm_Item->ricServiceLoadConfirm);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICserviceLoadConfirm(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoadConfirm_Item->ricServiceLoadConfirm,
                                                &p_RANfunctionLoadConfirm_Item->ricServiceLoadConfirm))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceLoadConfirm",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricServiceLoadConfirm*/

    {  /*SEQ_ELEM-4  Encode ricSubscriptionLoadConfirm_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionLoadConfirm_Item->ricSubscriptionLoadConfirm_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionLoadConfirm_List);
        if(XNAP_P_NULL == p_e2ap_RANfunctionLoadConfirm_Item->ricSubscriptionLoadConfirm_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubscriptionLoadConfirm_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICsubscriptionLoadConfirm_List(&p_e2ap_RANfunctionLoadConfirm_Item->ricSubscriptionLoadConfirm_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionLoadConfirm_List(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoadConfirm_Item->ricSubscriptionLoadConfirm_list,
                                                &p_RANfunctionLoadConfirm_Item->ricSubscriptionLoadConfirm_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubscriptionLoadConfirm_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ricSubscriptionLoadConfirm_list*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RANfunctionLoadConfirm_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RANfunctionLoadConfirm_List,
                _e2ap_RANfunctionLoadConfirm_List_t       *p_RANfunctionLoadConfirm_List
){
    e2ap_RANfunctionLoadConfirm_ItemIEs   *p_RANfunctionLoadConfirm_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RANfunctionLoadConfirm_List->id_RANfunctionLoadConfirm_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RANfunctionLoadConfirm_ItemIEs,
                                &p_node_list,
                                &p_RANfunctionLoadConfirm_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionLoadConfirm-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RANfunctionLoadConfirm_ItemIEs(p_RANfunctionLoadConfirm_ItemIEs);
        p_RANfunctionLoadConfirm_ItemIEs->id = ASN1V_e2ap_id_RANfunctionLoadConfirm_Item;
        p_RANfunctionLoadConfirm_ItemIEs->criticality = e2ap_reject;
        p_RANfunctionLoadConfirm_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RANfunctionLoadConfirm_ItemIEs_id_RANfunctionLoadConfirm_Item;
        p_RANfunctionLoadConfirm_ItemIEs->value.u._e2apRANfunctionLoadConfirm_ItemIEs_id_RANfunctionLoadConfirm_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RANfunctionLoadConfirm_ItemIEs);
        if(GNB_PNULL==p_RANfunctionLoadConfirm_ItemIEs->value.u._e2apRANfunctionLoadConfirm_ItemIEs_id_RANfunctionLoadConfirm_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionLoadConfirm-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RANfunctionLoadConfirm_Item(p_asn1_ctx,
                                                p_RANfunctionLoadConfirm_ItemIEs->value.u._e2apRANfunctionLoadConfirm_ItemIEs_id_RANfunctionLoadConfirm_Item,
                                                &p_RANfunctionLoadConfirm_List->id_RANfunctionLoadConfirm_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionLoadConfirm-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RANfunctionLoadConfirm_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICserviceLoadStatusResponse                    */
/*                                                */
/**************************************************/
/*
RICserviceLoadStatusResponse
    RICserviceLoadStatusResponse-IEs
        LoadMeasurementID
        LoadMeasurementID
        RANfunctionLoadConfirm-List
            RANfunctionLoadConfirm-ItemIEs
                RANfunctionLoadConfirm-Item
                    RANfunctionID
                    RICloadConfirm
                    RICserviceLoadConfirm
                        RICloadConfirm
                        RICloadConfirm
                        RICloadConfirm
                        RICloadConfirm
                        RICloadConfirm
                    RICsubscriptionLoadConfirm-List
                        RICsubscriptionLoadConfirm-ItemIEs
                            RICsubscriptionLoadConfirm-ItemIE
                                RICrequestID
                                    ricRequestorID
                                    ricInstanceID
                                RICloadConfirm
                                RICactionLoadConfirm-List
                                    RICactionLoadConfirm-ItemIEs
                                        RICactionLoadConfirm-Item
                                            RICactionID
                                            RICloadConfirm

*/
xnap_return_et e2ap_encode_RICserviceLoadStatusResponse(
                e2ap_RICserviceLoadStatusResponse_t* p_RICserviceLoadStatusResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.LoadMeasurementID
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RANfunctionID
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICloadConfirm
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICserviceLoadConfirm.RICloadConfirm
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICserviceLoadConfirm
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs.RICsubscriptionLoadConfirm-ItemIE.RICrequestID.ricRequestorID
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs.RICsubscriptionLoadConfirm-ItemIE.RICrequestID.ricInstanceID
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs.RICsubscriptionLoadConfirm-ItemIE.RICrequestID
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs.RICsubscriptionLoadConfirm-ItemIE.RICloadConfirm
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs.RICsubscriptionLoadConfirm-ItemIE.RICactionLoadConfirm-List.RICactionLoadConfirm-ItemIEs.RICactionLoadConfirm-Item.RICactionID
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs.RICsubscriptionLoadConfirm-ItemIE.RICactionLoadConfirm-List.RICactionLoadConfirm-ItemIEs.RICactionLoadConfirm-Item.RICloadConfirm
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs.RICsubscriptionLoadConfirm-ItemIE.RICactionLoadConfirm-List.RICactionLoadConfirm-ItemIEs.RICactionLoadConfirm-Item
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs.RICsubscriptionLoadConfirm-ItemIE.RICactionLoadConfirm-List.RICactionLoadConfirm-ItemIEs
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs.RICsubscriptionLoadConfirm-ItemIE.RICactionLoadConfirm-List
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs.RICsubscriptionLoadConfirm-ItemIE
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List.RICsubscriptionLoadConfirm-ItemIEs
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item.RICsubscriptionLoadConfirm-List
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs.RANfunctionLoadConfirm-Item
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List.RANfunctionLoadConfirm-ItemIEs
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs.RANfunctionLoadConfirm-List
// RICserviceLoadStatusResponse.RICserviceLoadStatusResponse-IEs
// RICserviceLoadStatusResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICserviceLoadStatusResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICserviceLoadStatusResponse* p_RICserviceLoadStatusResponse = GNB_PNULL;
    e2ap_RICserviceLoadStatusResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICserviceLoadStatus;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_ignore;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICserviceLoadStatusResponse;
        p_RICserviceLoadStatusResponse = rtxMemAllocType(&asn1_ctx, e2ap_RICserviceLoadStatusResponse);
        if(GNB_PNULL==p_RICserviceLoadStatusResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICserviceLoadStatusResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICserviceLoadStatusResponse",__FUNCTION__);
        }

        asn1Init_e2ap_RICserviceLoadStatusResponse(p_RICserviceLoadStatusResponse);
        e2ap_pdu.u.successfulOutcome->value.u.ricServiceLoadStatus = p_RICserviceLoadStatusResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICloadMeasurementID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICloadMeasurementID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusResponse_IEs_id_RICloadMeasurementID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusResponse_IEs_id_RICloadMeasurementID = p_RICserviceLoadStatusResponse->id_RICloadMeasurementID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_E2nodeLoadMeasurementID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeLoadMeasurementID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusResponse_IEs_id_E2nodeLoadMeasurementID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusResponse_IEs_id_E2nodeLoadMeasurementID = p_RICserviceLoadStatusResponse->id_E2nodeLoadMeasurementID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RANfunctionLoadConfirm_List - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionLoadConfirm_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusResponse_IEs_id_RANfunctionLoadConfirm_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusResponse_IEs_id_RANfunctionLoadConfirm_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionLoadConfirm_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusResponse_IEs_id_RANfunctionLoadConfirm_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionLoadConfirm_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionLoadConfirm_List(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusResponse_IEs_id_RANfunctionLoadConfirm_List);
            #endif
            //message_name.item_type -> type = RANfunctionLoadConfirm_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionLoadConfirm_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusResponse_IEs_id_RANfunctionLoadConfirm_List,
                                &p_RICserviceLoadStatusResponse->id_RANfunctionLoadConfirm_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionLoadConfirm_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionLoadConfirm_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICserviceLoadStatusFailure                    */
/*                                                */
/**************************************************/
/*
RICserviceLoadStatusFailure
    RICserviceLoadStatusFailure-IEs
        LoadMeasurementID
        LoadMeasurementID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICserviceLoadStatusFailure(
                e2ap_RICserviceLoadStatusFailure_t* p_RICserviceLoadStatusFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.LoadMeasurementID
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.Cause.CauseRICrequest
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.Cause.CauseRICservice
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.Cause.CauseE2node
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.Cause.CauseTransport
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.Cause.CauseProtocol
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.Cause.CauseMisc
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.Cause.CauseServiceLayer
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.Cause
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.CriticalityDiagnostics.ProcedureCode
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.CriticalityDiagnostics.Criticality
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.CriticalityDiagnostics.RICrequestID
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs.CriticalityDiagnostics
// RICserviceLoadStatusFailure.RICserviceLoadStatusFailure-IEs
// RICserviceLoadStatusFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICserviceLoadStatusFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICserviceLoadStatusFailure* p_RICserviceLoadStatusFailure = GNB_PNULL;
    e2ap_RICserviceLoadStatusFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICserviceLoadStatus;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_ignore;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICserviceLoadStatusFailure;
        p_RICserviceLoadStatusFailure = rtxMemAllocType(&asn1_ctx, e2ap_RICserviceLoadStatusFailure);
        if(GNB_PNULL==p_RICserviceLoadStatusFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICserviceLoadStatusFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICserviceLoadStatusFailure",__FUNCTION__);
        }

        asn1Init_e2ap_RICserviceLoadStatusFailure(p_RICserviceLoadStatusFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricServiceLoadStatus = p_RICserviceLoadStatusFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICloadMeasurementID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICloadMeasurementID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusFailure_IEs_id_RICloadMeasurementID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusFailure_IEs_id_RICloadMeasurementID = p_RICserviceLoadStatusFailure->id_RICloadMeasurementID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_E2nodeLoadMeasurementID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeLoadMeasurementID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusFailure_IEs_id_E2nodeLoadMeasurementID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusFailure_IEs_id_E2nodeLoadMeasurementID = p_RICserviceLoadStatusFailure->id_E2nodeLoadMeasurementID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusFailure_IEs_id_Cause,
                                &p_RICserviceLoadStatusFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadStatusFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadStatusFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadStatusFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadStatusFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadStatusFailure_IEs_id_CriticalityDiagnostics,
                                &p_RICserviceLoadStatusFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadStatusFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE RICloadInformation                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */
     // id = 13 - ENUMERATED - loadStatus
      xnap_return_et e2ap_compose_RICloadInformation_loadStatus(
                OSCTXT                       *p_asn1_ctx,
                e2ap_RICloadInformation_loadStatus                 *p_dest,//dest
                _e2ap_RICloadInformation_loadStatus_et              *p_src//src
)
{
    *p_dest = (e2ap_RICloadInformation_loadStatus)*p_src;
    return XNAP_SUCCESS;
}
     
     // id = 6 - INTEGER (0..100) - loadEstimate
xnap_return_et e2ap_compose_RICloadInformation_loadEstimate(
                    OSCTXT                       *p_asn1_ctx,
                    e2ap_RICloadInformation_loadEstimate  *p_dest,//dest
                    _e2ap_RICloadInformation_loadEstimate_t  *p_src//src
)
{
    *p_dest = (e2ap_RICloadInformation_loadEstimate)*p_src;
    return XNAP_SUCCESS;
}
           


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICloadInformation(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICloadInformation                 *p_e2ap_RICloadInformation, //dest
                _e2ap_RICloadInformation_t              *p_RICloadInformation //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode loadStatus alias-id = -1 - primitive = True*/
        /*==primitive in scope==*/
        if(XNAP_FAILURE == e2ap_compose_RICloadInformation_loadStatus(p_asn1_ctx,
                                                &p_e2ap_RICloadInformation->loadStatus,
                                                &p_RICloadInformation->loadStatus))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field loadStatus",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode loadStatus*/

    {  /*SEQ_ELEM-2  Encode loadEstimate alias-id = -1 - primitive = True*/
        /*==primitive in scope==*/
        if(XNAP_FAILURE == e2ap_compose_RICloadInformation_loadEstimate(p_asn1_ctx,
                                                &p_e2ap_RICloadInformation->loadEstimate,
                                                &p_RICloadInformation->loadEstimate))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field loadEstimate",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode loadEstimate*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE RICserviceLoadInformation                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICserviceLoadInformation(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICserviceLoadInformation                 *p_e2ap_RICserviceLoadInformation, //dest
                _e2ap_RICserviceLoadInformation_t              *p_RICserviceLoadInformation //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricServiceReportLoadInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICserviceLoadInformation->ricServiceReportLoadInformation = rtxMemAllocType(p_asn1_ctx, e2ap_RICloadInformation);
        if(XNAP_P_NULL == p_e2ap_RICserviceLoadInformation->ricServiceReportLoadInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricServiceReportLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICloadInformation(&p_e2ap_RICserviceLoadInformation->ricServiceReportLoadInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICloadInformation(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadInformation->ricServiceReportLoadInformation,
                                                &p_RICserviceLoadInformation->ricServiceReportLoadInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceReportLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricServiceReportLoadInformation*/

    {  /*SEQ_ELEM-2  Encode ricServiceInsertLoadInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICserviceLoadInformation->ricServiceInsertLoadInformation = rtxMemAllocType(p_asn1_ctx, e2ap_RICloadInformation);
        if(XNAP_P_NULL == p_e2ap_RICserviceLoadInformation->ricServiceInsertLoadInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricServiceInsertLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICloadInformation(&p_e2ap_RICserviceLoadInformation->ricServiceInsertLoadInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICloadInformation(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadInformation->ricServiceInsertLoadInformation,
                                                &p_RICserviceLoadInformation->ricServiceInsertLoadInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceInsertLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricServiceInsertLoadInformation*/

    {  /*SEQ_ELEM-3  Encode ricServiceControlLoadInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICserviceLoadInformation->ricServiceControlLoadInformation = rtxMemAllocType(p_asn1_ctx, e2ap_RICloadInformation);
        if(XNAP_P_NULL == p_e2ap_RICserviceLoadInformation->ricServiceControlLoadInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricServiceControlLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICloadInformation(&p_e2ap_RICserviceLoadInformation->ricServiceControlLoadInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICloadInformation(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadInformation->ricServiceControlLoadInformation,
                                                &p_RICserviceLoadInformation->ricServiceControlLoadInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceControlLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricServiceControlLoadInformation*/

    {  /*SEQ_ELEM-4  Encode ricServicePolicyLoadInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICserviceLoadInformation->ricServicePolicyLoadInformation = rtxMemAllocType(p_asn1_ctx, e2ap_RICloadInformation);
        if(XNAP_P_NULL == p_e2ap_RICserviceLoadInformation->ricServicePolicyLoadInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricServicePolicyLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICloadInformation(&p_e2ap_RICserviceLoadInformation->ricServicePolicyLoadInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICloadInformation(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadInformation->ricServicePolicyLoadInformation,
                                                &p_RICserviceLoadInformation->ricServicePolicyLoadInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServicePolicyLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ricServicePolicyLoadInformation*/

    {  /*SEQ_ELEM-5  Encode ricServiceQueryLoadInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICserviceLoadInformation->ricServiceQueryLoadInformation = rtxMemAllocType(p_asn1_ctx, e2ap_RICloadInformation);
        if(XNAP_P_NULL == p_e2ap_RICserviceLoadInformation->ricServiceQueryLoadInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricServiceQueryLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICloadInformation(&p_e2ap_RICserviceLoadInformation->ricServiceQueryLoadInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICloadInformation(p_asn1_ctx,
                                                &p_e2ap_RICserviceLoadInformation->ricServiceQueryLoadInformation,
                                                &p_RICserviceLoadInformation->ricServiceQueryLoadInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceQueryLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-5  Encode ricServiceQueryLoadInformation*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE RICactionLoad_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICactionLoad_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICactionLoad_Item                 *p_e2ap_RICactionLoad_Item, //dest
                _e2ap_RICactionLoad_Item_t              *p_RICactionLoad_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICactionLoad_Item->ricActionID,
                                                &p_RICactionLoad_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode ricActionLoadInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICactionLoad_Item->ricActionLoadInformation = rtxMemAllocType(p_asn1_ctx, e2ap_RICloadInformation);
        if(XNAP_P_NULL == p_e2ap_RICactionLoad_Item->ricActionLoadInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricActionLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICloadInformation(&p_e2ap_RICactionLoad_Item->ricActionLoadInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICloadInformation(p_asn1_ctx,
                                                &p_e2ap_RICactionLoad_Item->ricActionLoadInformation,
                                                &p_RICactionLoad_Item->ricActionLoadInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricActionLoadInformation*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactionLoad_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactionLoad_List,
                _e2ap_RICactionLoad_List_t       *p_RICactionLoad_List
){
    e2ap_RICactionLoad_ItemIEs   *p_RICactionLoad_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactionLoad_List->id_RICactionLoad_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICactionLoad_ItemIEs,
                                &p_node_list,
                                &p_RICactionLoad_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICactionLoad-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICactionLoad_ItemIEs(p_RICactionLoad_ItemIEs);
        p_RICactionLoad_ItemIEs->id = ASN1V_e2ap_id_RICactionLoad_Item;
        p_RICactionLoad_ItemIEs->criticality = e2ap_reject;
        p_RICactionLoad_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICactionLoad_ItemIEs_id_RICactionLoad_Item;
        p_RICactionLoad_ItemIEs->value.u._e2apRICactionLoad_ItemIEs_id_RICactionLoad_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICactionLoad_ItemIEs);
        if(GNB_PNULL==p_RICactionLoad_ItemIEs->value.u._e2apRICactionLoad_ItemIEs_id_RICactionLoad_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICactionLoad-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICactionLoad_Item(p_asn1_ctx,
                                                p_RICactionLoad_ItemIEs->value.u._e2apRICactionLoad_ItemIEs_id_RICactionLoad_Item,
                                                &p_RICactionLoad_List->id_RICactionLoad_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactionLoad-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactionLoad_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICsubscriptionLoad_ItemIE                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICsubscriptionLoad_ItemIE(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICsubscriptionLoad_ItemIE                 *p_e2ap_RICsubscriptionLoad_ItemIE, //dest
                _e2ap_RICsubscriptionLoad_ItemIE_t              *p_RICsubscriptionLoad_ItemIE //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricRequestID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionLoad_ItemIE->ricRequestID = rtxMemAllocType(p_asn1_ctx, e2ap_RICrequestID);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionLoad_ItemIE->ricRequestID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICrequestID(&p_e2ap_RICsubscriptionLoad_ItemIE->ricRequestID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICrequestID(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionLoad_ItemIE->ricRequestID,
                                                &p_RICsubscriptionLoad_ItemIE->ricRequestID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricRequestID*/

    {  /*SEQ_ELEM-2  Encode ricSubscriptionLoadInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionLoad_ItemIE->ricSubscriptionLoadInformation = rtxMemAllocType(p_asn1_ctx, e2ap_RICloadInformation);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionLoad_ItemIE->ricSubscriptionLoadInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubscriptionLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICloadInformation(&p_e2ap_RICsubscriptionLoad_ItemIE->ricSubscriptionLoadInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICloadInformation(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionLoad_ItemIE->ricSubscriptionLoadInformation,
                                                &p_RICsubscriptionLoad_ItemIE->ricSubscriptionLoadInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubscriptionLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricSubscriptionLoadInformation*/

    {  /*SEQ_ELEM-3  Encode ricActionLoad_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionLoad_ItemIE->ricActionLoad_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICactionLoad_List);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionLoad_ItemIE->ricActionLoad_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricActionLoad_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICactionLoad_List(&p_e2ap_RICsubscriptionLoad_ItemIE->ricActionLoad_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICactionLoad_List(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionLoad_ItemIE->ricActionLoad_list,
                                                &p_RICsubscriptionLoad_ItemIE->ricActionLoad_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionLoad_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricActionLoad_list*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICsubscriptionLoad_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICsubscriptionLoad_List,
                _e2ap_RICsubscriptionLoad_List_t       *p_RICsubscriptionLoad_List
){
    e2ap_RICsubscriptionLoad_ItemIEs   *p_RICsubscriptionLoad_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICsubscriptionLoad_List->id_RICsubscriptionLoad_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICsubscriptionLoad_ItemIEs,
                                &p_node_list,
                                &p_RICsubscriptionLoad_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionLoad-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICsubscriptionLoad_ItemIEs(p_RICsubscriptionLoad_ItemIEs);
        p_RICsubscriptionLoad_ItemIEs->id = ASN1V_e2ap_id_RICsubscriptionLoad_Item;
        p_RICsubscriptionLoad_ItemIEs->criticality = e2ap_reject;
        p_RICsubscriptionLoad_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICsubscriptionLoad_ItemIEs_id_RICsubscriptionLoad_Item;
        p_RICsubscriptionLoad_ItemIEs->value.u._e2apRICsubscriptionLoad_ItemIEs_id_RICsubscriptionLoad_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionLoad_ItemIEs);
        if(GNB_PNULL==p_RICsubscriptionLoad_ItemIEs->value.u._e2apRICsubscriptionLoad_ItemIEs_id_RICsubscriptionLoad_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionLoad-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionLoad_ItemIE(p_asn1_ctx,
                                                p_RICsubscriptionLoad_ItemIEs->value.u._e2apRICsubscriptionLoad_ItemIEs_id_RICsubscriptionLoad_Item,
                                                &p_RICsubscriptionLoad_List->id_RICsubscriptionLoad_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionLoad-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICsubscriptionLoad_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RANfunctionLoad_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RANfunctionLoad_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RANfunctionLoad_Item                 *p_e2ap_RANfunctionLoad_Item, //dest
                _e2ap_RANfunctionLoad_Item_t              *p_RANfunctionLoad_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoad_Item->ranFunctionID,
                                                &p_RANfunctionLoad_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ranFunctionID*/

    {  /*SEQ_ELEM-2  Encode ranFunctionLoadInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionLoad_Item->ranFunctionLoadInformation = rtxMemAllocType(p_asn1_ctx, e2ap_RICloadInformation);
        if(XNAP_P_NULL == p_e2ap_RANfunctionLoad_Item->ranFunctionLoadInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ranFunctionLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICloadInformation(&p_e2ap_RANfunctionLoad_Item->ranFunctionLoadInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICloadInformation(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoad_Item->ranFunctionLoadInformation,
                                                &p_RANfunctionLoad_Item->ranFunctionLoadInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ranFunctionLoadInformation*/

    {  /*SEQ_ELEM-3  Encode ricServiceLoadInformation alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionLoad_Item->ricServiceLoadInformation = rtxMemAllocType(p_asn1_ctx, e2ap_RICserviceLoadInformation);
        if(XNAP_P_NULL == p_e2ap_RANfunctionLoad_Item->ricServiceLoadInformation)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricServiceLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICserviceLoadInformation(&p_e2ap_RANfunctionLoad_Item->ricServiceLoadInformation);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICserviceLoadInformation(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoad_Item->ricServiceLoadInformation,
                                                &p_RANfunctionLoad_Item->ricServiceLoadInformation))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricServiceLoadInformation",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricServiceLoadInformation*/

    {  /*SEQ_ELEM-4  Encode ricSubscriptionLoad_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionLoad_Item->ricSubscriptionLoad_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionLoad_List);
        if(XNAP_P_NULL == p_e2ap_RANfunctionLoad_Item->ricSubscriptionLoad_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubscriptionLoad_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICsubscriptionLoad_List(&p_e2ap_RANfunctionLoad_Item->ricSubscriptionLoad_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionLoad_List(p_asn1_ctx,
                                                &p_e2ap_RANfunctionLoad_Item->ricSubscriptionLoad_list,
                                                &p_RANfunctionLoad_Item->ricSubscriptionLoad_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubscriptionLoad_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ricSubscriptionLoad_list*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RANfunctionLoad_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RANfunctionLoad_List,
                _e2ap_RANfunctionLoad_List_t       *p_RANfunctionLoad_List
){
    e2ap_RANfunctionLoad_ItemIEs   *p_RANfunctionLoad_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RANfunctionLoad_List->id_RANfunctionLoad_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RANfunctionLoad_ItemIEs,
                                &p_node_list,
                                &p_RANfunctionLoad_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionLoad-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RANfunctionLoad_ItemIEs(p_RANfunctionLoad_ItemIEs);
        p_RANfunctionLoad_ItemIEs->id = ASN1V_e2ap_id_RANfunctionLoad_Item;
        p_RANfunctionLoad_ItemIEs->criticality = e2ap_reject;
        p_RANfunctionLoad_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RANfunctionLoad_ItemIEs_id_RANfunctionLoad_Item;
        p_RANfunctionLoad_ItemIEs->value.u._e2apRANfunctionLoad_ItemIEs_id_RANfunctionLoad_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RANfunctionLoad_ItemIEs);
        if(GNB_PNULL==p_RANfunctionLoad_ItemIEs->value.u._e2apRANfunctionLoad_ItemIEs_id_RANfunctionLoad_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionLoad-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RANfunctionLoad_Item(p_asn1_ctx,
                                                p_RANfunctionLoad_ItemIEs->value.u._e2apRANfunctionLoad_ItemIEs_id_RANfunctionLoad_Item,
                                                &p_RANfunctionLoad_List->id_RANfunctionLoad_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionLoad-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RANfunctionLoad_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICserviceLoadUpdate                    */
/*                                                */
/**************************************************/
/*
RICserviceLoadUpdate
    RICserviceLoadUpdate-IEs
        LoadMeasurementID
        LoadMeasurementID
        RANfunctionLoad-List
            RANfunctionLoad-ItemIEs
                RANfunctionLoad-Item
                    RANfunctionID
                    RICloadInformation
                        loadStatus
                        loadEstimate
                    RICserviceLoadInformation
                        RICloadInformation
                            loadStatus
                            loadEstimate
                        RICloadInformation
                            loadStatus
                            loadEstimate
                        RICloadInformation
                            loadStatus
                            loadEstimate
                        RICloadInformation
                            loadStatus
                            loadEstimate
                        RICloadInformation
                            loadStatus
                            loadEstimate
                    RICsubscriptionLoad-List
                        RICsubscriptionLoad-ItemIEs
                            RICsubscriptionLoad-ItemIE
                                RICrequestID
                                    ricRequestorID
                                    ricInstanceID
                                RICloadInformation
                                    loadStatus
                                    loadEstimate
                                RICactionLoad-List
                                    RICactionLoad-ItemIEs
                                        RICactionLoad-Item
                                            RICactionID
                                            RICloadInformation
                                                loadStatus
                                                loadEstimate

*/
xnap_return_et e2ap_encode_RICserviceLoadUpdate(
                e2ap_RICserviceLoadUpdate_t* p_RICserviceLoadUpdate,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.LoadMeasurementID
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RANfunctionID
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICloadInformation.loadStatus
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICloadInformation.loadEstimate
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICloadInformation
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICserviceLoadInformation.RICloadInformation.loadStatus
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICserviceLoadInformation.RICloadInformation.loadEstimate
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICserviceLoadInformation.RICloadInformation
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICserviceLoadInformation
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICrequestID.ricRequestorID
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICrequestID.ricInstanceID
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICrequestID
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICloadInformation.loadStatus
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICloadInformation.loadEstimate
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICloadInformation
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICactionLoad-List.RICactionLoad-ItemIEs.RICactionLoad-Item.RICactionID
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICactionLoad-List.RICactionLoad-ItemIEs.RICactionLoad-Item.RICloadInformation.loadStatus
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICactionLoad-List.RICactionLoad-ItemIEs.RICactionLoad-Item.RICloadInformation.loadEstimate
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICactionLoad-List.RICactionLoad-ItemIEs.RICactionLoad-Item.RICloadInformation
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICactionLoad-List.RICactionLoad-ItemIEs.RICactionLoad-Item
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICactionLoad-List.RICactionLoad-ItemIEs
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE.RICactionLoad-List
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs.RICsubscriptionLoad-ItemIE
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List.RICsubscriptionLoad-ItemIEs
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item.RICsubscriptionLoad-List
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs.RANfunctionLoad-Item
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List.RANfunctionLoad-ItemIEs
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs.RANfunctionLoad-List
// RICserviceLoadUpdate.RICserviceLoadUpdate-IEs
// RICserviceLoadUpdate

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICserviceLoadUpdate o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICserviceLoadUpdate* p_RICserviceLoadUpdate = GNB_PNULL;
    e2ap_RICserviceLoadUpdate_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICserviceLoadUpdate;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_ignore;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICserviceLoadUpdate;
        p_RICserviceLoadUpdate = rtxMemAllocType(&asn1_ctx, e2ap_RICserviceLoadUpdate);
        if(GNB_PNULL==p_RICserviceLoadUpdate){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICserviceLoadUpdate",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICserviceLoadUpdate",__FUNCTION__);
        }

        asn1Init_e2ap_RICserviceLoadUpdate(p_RICserviceLoadUpdate);
        e2ap_pdu.u.initiatingMessage->value.u.ricServiceLoadUpdate = p_RICserviceLoadUpdate;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICloadMeasurementID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICloadMeasurementID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadUpdate_IEs_id_RICloadMeasurementID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadUpdate_IEs_id_RICloadMeasurementID = p_RICserviceLoadUpdate->id_RICloadMeasurementID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_E2nodeLoadMeasurementID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_E2nodeLoadMeasurementID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadUpdate_IEs_id_E2nodeLoadMeasurementID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadUpdate_IEs_id_E2nodeLoadMeasurementID = p_RICserviceLoadUpdate->id_E2nodeLoadMeasurementID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RANfunctionLoad_List - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceLoadUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceLoadUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceLoadUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionLoad_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceLoadUpdate_IEs_id_RANfunctionLoad_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadUpdate_IEs_id_RANfunctionLoad_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionLoad_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadUpdate_IEs_id_RANfunctionLoad_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionLoad_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionLoad_List(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadUpdate_IEs_id_RANfunctionLoad_List);
            #endif
            //message_name.item_type -> type = RANfunctionLoad_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionLoad_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceLoadUpdate_IEs_id_RANfunctionLoad_List,
                                &p_RICserviceLoadUpdate->id_RANfunctionLoad_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionLoad_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionLoad_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceLoadUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICserviceQuery                    */
/*                                                */
/**************************************************/
/*
RICserviceQuery
    RICserviceQuery-IEs
        TransactionID
        RANfunctionsID-List
            RANfunctionID-ItemIEs
                RANfunctionID-Item
                    RANfunctionID
                    RANfunctionRevision

*/
xnap_return_et e2ap_encode_RICserviceQuery(
                e2ap_RICserviceQuery_t* p_RICserviceQuery,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICserviceQuery.RICserviceQuery-IEs.TransactionID
// RICserviceQuery.RICserviceQuery-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item.RANfunctionID
// RICserviceQuery.RICserviceQuery-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item.RANfunctionRevision
// RICserviceQuery.RICserviceQuery-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item
// RICserviceQuery.RICserviceQuery-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs
// RICserviceQuery.RICserviceQuery-IEs.RANfunctionsID-List
// RICserviceQuery.RICserviceQuery-IEs
// RICserviceQuery

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICserviceQuery o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICserviceQuery* p_RICserviceQuery = GNB_PNULL;
    e2ap_RICserviceQuery_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICserviceQuery;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_ignore;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICserviceQuery;
        p_RICserviceQuery = rtxMemAllocType(&asn1_ctx, e2ap_RICserviceQuery);
        if(GNB_PNULL==p_RICserviceQuery){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICserviceQuery",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICserviceQuery",__FUNCTION__);
        }

        asn1Init_e2ap_RICserviceQuery(p_RICserviceQuery);
        e2ap_pdu.u.initiatingMessage->value.u.ricServiceQuery = p_RICserviceQuery;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceQuery_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceQuery_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceQuery_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceQuery_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceQuery_IEs_id_TransactionID = p_RICserviceQuery->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceQuery->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionsAccepted - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceQuery_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceQuery_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceQuery_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionsAccepted;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceQuery_IEs_id_RANfunctionsAccepted;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceQuery_IEs_id_RANfunctionsAccepted 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionsID_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceQuery_IEs_id_RANfunctionsAccepted){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionsAccepted",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionsID_List(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceQuery_IEs_id_RANfunctionsAccepted);
            #endif
            //message_name.item_type -> type = RANfunctionsID_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionsID_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceQuery_IEs_id_RANfunctionsAccepted,
                                &p_RICserviceQuery->id_RANfunctionsAccepted)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionsID_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionsID_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceQuery->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICserviceUpdate                    */
/*                                                */
/**************************************************/
/*
RICserviceUpdate
    RICserviceUpdate-IEs
        TransactionID
        RANfunctions-List
            RANfunction-ItemIEs
                RANfunction-Item
                    RANfunctionID
                    RANfunctionDefinition
                    RANfunctionRevision
                    RANfunctionOID
                        PrintableString
        RANfunctions-List
            RANfunction-ItemIEs
                RANfunction-Item
                    RANfunctionID
                    RANfunctionDefinition
                    RANfunctionRevision
                    RANfunctionOID
                        PrintableString
        RANfunctionsID-List
            RANfunctionID-ItemIEs
                RANfunctionID-Item
                    RANfunctionID
                    RANfunctionRevision

*/
xnap_return_et e2ap_encode_RICserviceUpdate(
                e2ap_RICserviceUpdate_t* p_RICserviceUpdate,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICserviceUpdate.RICserviceUpdate-IEs.TransactionID
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctions-List.RANfunction-ItemIEs.RANfunction-Item.RANfunctionID
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctions-List.RANfunction-ItemIEs.RANfunction-Item.RANfunctionDefinition
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctions-List.RANfunction-ItemIEs.RANfunction-Item.RANfunctionRevision
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctions-List.RANfunction-ItemIEs.RANfunction-Item.RANfunctionOID
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctions-List.RANfunction-ItemIEs.RANfunction-Item
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctions-List.RANfunction-ItemIEs
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctions-List
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item.RANfunctionID
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item.RANfunctionRevision
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs
// RICserviceUpdate.RICserviceUpdate-IEs.RANfunctionsID-List
// RICserviceUpdate.RICserviceUpdate-IEs
// RICserviceUpdate

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICserviceUpdate o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICserviceUpdate* p_RICserviceUpdate = GNB_PNULL;
    e2ap_RICserviceUpdate_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICserviceUpdate;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICserviceUpdate;
        p_RICserviceUpdate = rtxMemAllocType(&asn1_ctx, e2ap_RICserviceUpdate);
        if(GNB_PNULL==p_RICserviceUpdate){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICserviceUpdate",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICserviceUpdate",__FUNCTION__);
        }

        asn1Init_e2ap_RICserviceUpdate(p_RICserviceUpdate);
        e2ap_pdu.u.initiatingMessage->value.u.ricServiceUpdate = p_RICserviceUpdate;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdate_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_TransactionID = p_RICserviceUpdate->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionsAdded - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionsAdded;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdate_IEs_id_RANfunctionsAdded;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsAdded 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctions_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsAdded){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionsAdded",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctions_List(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsAdded);
            #endif
            //message_name.item_type -> type = RANfunctions_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctions_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsAdded,
                                &p_RICserviceUpdate->id_RANfunctionsAdded)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctions_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctions_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RANfunctionsModified - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionsModified;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdate_IEs_id_RANfunctionsModified;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsModified 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctions_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsModified){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionsModified",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctions_List(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsModified);
            #endif
            //message_name.item_type -> type = RANfunctions_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctions_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsModified,
                                &p_RICserviceUpdate->id_RANfunctionsModified)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctions_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctions_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RANfunctionsDeleted - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdate_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdate_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdate_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionsDeleted;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdate_IEs_id_RANfunctionsDeleted;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsDeleted 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionsID_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsDeleted){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionsDeleted",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionsID_List(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsDeleted);
            #endif
            //message_name.item_type -> type = RANfunctionsID_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionsID_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdate_IEs_id_RANfunctionsDeleted,
                                &p_RICserviceUpdate->id_RANfunctionsDeleted)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionsID_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionsID_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdate->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICserviceUpdateAcknowledge                    */
/*                                                */
/**************************************************/
/*
RICserviceUpdateAcknowledge
    RICserviceUpdateAcknowledge-IEs
        TransactionID
        RANfunctionsID-List
            RANfunctionID-ItemIEs
                RANfunctionID-Item
                    RANfunctionID
                    RANfunctionRevision
        RANfunctionsIDcause-List
            RANfunctionIDcause-ItemIEs
                RANfunctionIDcause-Item
                    RANfunctionID
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause

*/
xnap_return_et e2ap_encode_RICserviceUpdateAcknowledge(
                e2ap_RICserviceUpdateAcknowledge_t* p_RICserviceUpdateAcknowledge,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.TransactionID
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item.RANfunctionID
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item.RANfunctionRevision
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs.RANfunctionID-Item
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsID-List.RANfunctionID-ItemIEs
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsID-List
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.RANfunctionID
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseRICrequest
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseRICservice
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseE2node
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseTransport
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseProtocol
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseMisc
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseServiceLayer.ServiceLayerCause
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause.CauseServiceLayer
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item.Cause
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs.RANfunctionIDcause-Item
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List.RANfunctionIDcause-ItemIEs
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs.RANfunctionsIDcause-List
// RICserviceUpdateAcknowledge.RICserviceUpdateAcknowledge-IEs
// RICserviceUpdateAcknowledge

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICserviceUpdateAcknowledge o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICserviceUpdateAcknowledge* p_RICserviceUpdateAcknowledge = GNB_PNULL;
    e2ap_RICserviceUpdateAcknowledge_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICserviceUpdate;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICserviceUpdateAcknowledge;
        p_RICserviceUpdateAcknowledge = rtxMemAllocType(&asn1_ctx, e2ap_RICserviceUpdateAcknowledge);
        if(GNB_PNULL==p_RICserviceUpdateAcknowledge){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICserviceUpdateAcknowledge",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICserviceUpdateAcknowledge",__FUNCTION__);
        }

        asn1Init_e2ap_RICserviceUpdateAcknowledge(p_RICserviceUpdateAcknowledge);
        e2ap_pdu.u.successfulOutcome->value.u.ricServiceUpdate = p_RICserviceUpdateAcknowledge;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdateAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdateAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdateAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdateAcknowledge_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateAcknowledge_IEs_id_TransactionID = p_RICserviceUpdateAcknowledge->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdateAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionsAccepted - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdateAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdateAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdateAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionsAccepted;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdateAcknowledge_IEs_id_RANfunctionsAccepted;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateAcknowledge_IEs_id_RANfunctionsAccepted 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionsID_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateAcknowledge_IEs_id_RANfunctionsAccepted){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionsAccepted",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionsID_List(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateAcknowledge_IEs_id_RANfunctionsAccepted);
            #endif
            //message_name.item_type -> type = RANfunctionsID_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionsID_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateAcknowledge_IEs_id_RANfunctionsAccepted,
                                &p_RICserviceUpdateAcknowledge->id_RANfunctionsAccepted)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionsID_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionsID_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdateAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RANfunctionsRejected - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdateAcknowledge_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdateAcknowledge_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdateAcknowledge_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionsRejected;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdateAcknowledge_IEs_id_RANfunctionsRejected;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateAcknowledge_IEs_id_RANfunctionsRejected 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionsIDcause_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateAcknowledge_IEs_id_RANfunctionsRejected){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionsRejected",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionsIDcause_List(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateAcknowledge_IEs_id_RANfunctionsRejected);
            #endif
            //message_name.item_type -> type = RANfunctionsIDcause_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionsIDcause_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateAcknowledge_IEs_id_RANfunctionsRejected,
                                &p_RICserviceUpdateAcknowledge->id_RANfunctionsRejected)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionsIDcause_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionsIDcause_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdateAcknowledge->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICserviceUpdateFailure                    */
/*                                                */
/**************************************************/
/*
RICserviceUpdateFailure
    RICserviceUpdateFailure-IEs
        TransactionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        TimeToWait
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICserviceUpdateFailure(
                e2ap_RICserviceUpdateFailure_t* p_RICserviceUpdateFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.TransactionID
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.Cause.CauseRICrequest
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.Cause.CauseRICservice
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.Cause.CauseE2node
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.Cause.CauseTransport
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.Cause.CauseProtocol
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.Cause.CauseMisc
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.Cause.CauseServiceLayer
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.Cause
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.TimeToWait
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.CriticalityDiagnostics.ProcedureCode
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.CriticalityDiagnostics.Criticality
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.CriticalityDiagnostics.RICrequestID
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs.CriticalityDiagnostics
// RICserviceUpdateFailure.RICserviceUpdateFailure-IEs
// RICserviceUpdateFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICserviceUpdateFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICserviceUpdateFailure* p_RICserviceUpdateFailure = GNB_PNULL;
    e2ap_RICserviceUpdateFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICserviceUpdate;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICserviceUpdateFailure;
        p_RICserviceUpdateFailure = rtxMemAllocType(&asn1_ctx, e2ap_RICserviceUpdateFailure);
        if(GNB_PNULL==p_RICserviceUpdateFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICserviceUpdateFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICserviceUpdateFailure",__FUNCTION__);
        }

        asn1Init_e2ap_RICserviceUpdateFailure(p_RICserviceUpdateFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricServiceUpdate = p_RICserviceUpdateFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_TransactionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TransactionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdateFailure_IEs_id_TransactionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateFailure_IEs_id_TransactionID = p_RICserviceUpdateFailure->id_TransactionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdateFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateFailure_IEs_id_Cause,
                                &p_RICserviceUpdateFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_TimeToWait - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_TimeToWait;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdateFailure_IEs_id_TimeToWait;
             p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateFailure_IEs_id_TimeToWait = p_RICserviceUpdateFailure->id_TimeToWait; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICserviceUpdateFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICserviceUpdateFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICserviceUpdateFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICserviceUpdateFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICserviceUpdateFailure_IEs_id_CriticalityDiagnostics,
                                &p_RICserviceUpdateFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICserviceUpdateFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICsubscriptionFailure                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionFailure
    RICsubscriptionFailure-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICsubscriptionFailure(
                e2ap_RICsubscriptionFailure_t* p_RICsubscriptionFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.RICrequestID.ricRequestorID
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.RICrequestID.ricInstanceID
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.RICrequestID
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.RANfunctionID
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.Cause.CauseRICrequest
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.Cause.CauseRICservice
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.Cause.CauseE2node
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.Cause.CauseTransport
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.Cause.CauseProtocol
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.Cause.CauseMisc
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.Cause.CauseServiceLayer
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.Cause
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.CriticalityDiagnostics.ProcedureCode
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.CriticalityDiagnostics.Criticality
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.CriticalityDiagnostics.RICrequestID
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICsubscriptionFailure.RICsubscriptionFailure-IEs.CriticalityDiagnostics
// RICsubscriptionFailure.RICsubscriptionFailure-IEs
// RICsubscriptionFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionFailure* p_RICsubscriptionFailure = GNB_PNULL;
    e2ap_RICsubscriptionFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscription;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionFailure;
        p_RICsubscriptionFailure = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionFailure);
        if(GNB_PNULL==p_RICsubscriptionFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionFailure",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionFailure(p_RICsubscriptionFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricSubscription = p_RICsubscriptionFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionFailure_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_RICrequestID,
                                &p_RICsubscriptionFailure->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionFailure_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_RANfunctionID = p_RICsubscriptionFailure->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_Cause,
                                &p_RICsubscriptionFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionFailure_IEs_id_CriticalityDiagnostics,
                                &p_RICsubscriptionFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE RICeventTriggerDefinition            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICeventTriggerDefinition
     
/*****************************************************/
/*    PRIMITIVE RICactionType            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - RICactionType
   xnap_return_et e2ap_compose_RICactionType( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICactionType  *p_dest,//dest
                        _e2ap_RICactionType_et  *p_src//src
)
{
    *p_dest = (e2ap_RICactionType)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE RICactionDefinition            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICactionDefinition
     
/*****************************************************/
/*    PRIMITIVE RICsubsequentActionType            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - RICsubsequentActionType
   xnap_return_et e2ap_compose_RICsubsequentActionType( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICsubsequentActionType  *p_dest,//dest
                        _e2ap_RICsubsequentActionType_et  *p_src//src
)
{
    *p_dest = (e2ap_RICsubsequentActionType)*p_src;
    return XNAP_SUCCESS;
}
   
/*****************************************************/
/*    PRIMITIVE RICtimeToWait            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - RICtimeToWait
   xnap_return_et e2ap_compose_RICtimeToWait( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICtimeToWait  *p_dest,//dest
                        _e2ap_RICtimeToWait_et  *p_src//src
)
{
    *p_dest = (e2ap_RICtimeToWait)*p_src;
    return XNAP_SUCCESS;
}
   
/************************************************************/
/*      SEQUENCE RICsubsequentAction                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICsubsequentAction(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICsubsequentAction                 *p_e2ap_RICsubsequentAction, //dest
                _e2ap_RICsubsequentAction_t              *p_RICsubsequentAction //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricSubsequentActionType alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICsubsequentActionType(p_asn1_ctx,
                                                &p_e2ap_RICsubsequentAction->ricSubsequentActionType,
                                                &p_RICsubsequentAction->ricSubsequentActionType))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubsequentActionType",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricSubsequentActionType*/

    {  /*SEQ_ELEM-2  Encode ricTimeToWait alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICtimeToWait(p_asn1_ctx,
                                                &p_e2ap_RICsubsequentAction->ricTimeToWait,
                                                &p_RICsubsequentAction->ricTimeToWait))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricTimeToWait",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricTimeToWait*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/*****************************************************/
/*    PRIMITIVE RICactionExecutionOrder            */
/*****************************************************/
// cpmpose primitive - id = 6 - INTEGER (0..255) - RICactionExecutionOrder
  xnap_return_et e2ap_compose_RICactionExecutionOrder(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICactionExecutionOrder  *p_dest,//dest
                        _e2ap_RICactionExecutionOrder_t  *p_src//src
)
{
    *p_dest = (e2ap_RICactionExecutionOrder)*p_src;
    return XNAP_SUCCESS;
}
    
/************************************************************/
/*      SEQUENCE RICaction_ToBeSetup_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_ToBeSetup_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_ToBeSetup_Item                 *p_e2ap_RICaction_ToBeSetup_Item, //dest
                _e2ap_RICaction_ToBeSetup_Item_t              *p_RICaction_ToBeSetup_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeSetup_Item->ricActionID,
                                                &p_RICaction_ToBeSetup_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode ricActionType alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionType(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeSetup_Item->ricActionType,
                                                &p_RICaction_ToBeSetup_Item->ricActionType))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionType",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricActionType*/

    {  /*SEQ_ELEM-3  Encode ricActionDefinition alias-id = 9 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionDefinition(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeSetup_Item->ricActionDefinition,
                                                &p_RICaction_ToBeSetup_Item->ricActionDefinition))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionDefinition",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricActionDefinition*/

    {  /*SEQ_ELEM-4  Encode ricSubsequentAction alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICaction_ToBeSetup_Item->ricSubsequentAction = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubsequentAction);
        if(XNAP_P_NULL == p_e2ap_RICaction_ToBeSetup_Item->ricSubsequentAction)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubsequentAction",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICsubsequentAction(&p_e2ap_RICaction_ToBeSetup_Item->ricSubsequentAction);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICsubsequentAction(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeSetup_Item->ricSubsequentAction,
                                                &p_RICaction_ToBeSetup_Item->ricSubsequentAction))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubsequentAction",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ricSubsequentAction*/

    {  /*SEQ_ELEM-5  Encode ricActionExecutionOrder alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionExecutionOrder(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeSetup_Item->ricActionExecutionOrder,
                                                &p_RICaction_ToBeSetup_Item->ricActionExecutionOrder))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionExecutionOrder",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-5  Encode ricActionExecutionOrder*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_ToBeSetup_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_ToBeSetup_List,
                _e2ap_RICactions_ToBeSetup_List_t       *p_RICactions_ToBeSetup_List
){
    e2ap_RICaction_ToBeSetup_ItemIEs   *p_RICaction_ToBeSetup_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_ToBeSetup_List->id_RICaction_ToBeSetup_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_ToBeSetup_ItemIEs,
                                &p_node_list,
                                &p_RICaction_ToBeSetup_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ToBeSetup-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_ToBeSetup_ItemIEs(p_RICaction_ToBeSetup_ItemIEs);
        p_RICaction_ToBeSetup_ItemIEs->id = ASN1V_e2ap_id_RICaction_ToBeSetup_Item;
        p_RICaction_ToBeSetup_ItemIEs->criticality = e2ap_reject;
        p_RICaction_ToBeSetup_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_ToBeSetup_ItemIEs_id_RICaction_ToBeSetup_Item;
        p_RICaction_ToBeSetup_ItemIEs->value.u._e2apRICaction_ToBeSetup_ItemIEs_id_RICaction_ToBeSetup_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_ToBeSetup_ItemIEs);
        if(GNB_PNULL==p_RICaction_ToBeSetup_ItemIEs->value.u._e2apRICaction_ToBeSetup_ItemIEs_id_RICaction_ToBeSetup_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ToBeSetup-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_ToBeSetup_Item(p_asn1_ctx,
                                                p_RICaction_ToBeSetup_ItemIEs->value.u._e2apRICaction_ToBeSetup_ItemIEs_id_RICaction_ToBeSetup_Item,
                                                &p_RICactions_ToBeSetup_List->id_RICaction_ToBeSetup_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-ToBeSetup-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_ToBeSetup_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICsubscriptionDetails                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICsubscriptionDetails(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICsubscriptionDetails                 *p_e2ap_RICsubscriptionDetails, //dest
                _e2ap_RICsubscriptionDetails_t              *p_RICsubscriptionDetails //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricEventTriggerDefinition alias-id = 9 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICeventTriggerDefinition(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionDetails->ricEventTriggerDefinition,
                                                &p_RICsubscriptionDetails->ricEventTriggerDefinition))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricEventTriggerDefinition",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricEventTriggerDefinition*/

    {  /*SEQ_ELEM-2  Encode ricAction_ToBeSetup_List alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionDetails->ricAction_ToBeSetup_List = rtxMemAllocType(p_asn1_ctx, e2ap_RICactions_ToBeSetup_List);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionDetails->ricAction_ToBeSetup_List)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricAction_ToBeSetup_List",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICactions_ToBeSetup_List(&p_e2ap_RICsubscriptionDetails->ricAction_ToBeSetup_List);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICactions_ToBeSetup_List(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionDetails->ricAction_ToBeSetup_List,
                                                &p_RICsubscriptionDetails->ricAction_ToBeSetup_List))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricAction_ToBeSetup_List",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricAction_ToBeSetup_List*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/*****************************************************/
/*    PRIMITIVE RICsubscriptionTime            */
/*****************************************************/
// cpmpose primitive - id = 8 - OCTET STRING (SIZE(8)) - RICsubscriptionTime
    xnap_return_et e2ap_compose_RICsubscriptionTime(
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_RICsubscriptionTime  *p_dest,//dest
                        _e2ap_RICsubscriptionTime_t  *p_src//src
)
{
    p_dest->numocts = RICsubscriptionTime_MAX_BYTES;
    //memcpy(p_dest->data, p_src->data, p_src->numocts);
    XNAP_MEMCPY(p_dest->data, p_src->RICsubscriptionTime, RICsubscriptionTime_MAX_BYTES);
    return XNAP_SUCCESS;
}
  
/**************************************************/
/*      encode_RICsubscriptionRequest                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionRequest
    RICsubscriptionRequest-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICsubscriptionDetails
            RICeventTriggerDefinition
            RICactions-ToBeSetup-List
                RICaction-ToBeSetup-ItemIEs
                    RICaction-ToBeSetup-Item
                        RICactionID
                        RICactionType
                        RICactionDefinition
                        RICsubsequentAction
                            RICsubsequentActionType
                            RICtimeToWait
                        RICactionExecutionOrder
        RICsubscriptionTime
        RICsubscriptionTime

*/
xnap_return_et e2ap_encode_RICsubscriptionRequest(
                e2ap_RICsubscriptionRequest_t* p_RICsubscriptionRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICrequestID.ricRequestorID
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICrequestID.ricInstanceID
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICrequestID
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RANfunctionID
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICeventTriggerDefinition
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICactions-ToBeSetup-List.RICaction-ToBeSetup-ItemIEs.RICaction-ToBeSetup-Item.RICactionID
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICactions-ToBeSetup-List.RICaction-ToBeSetup-ItemIEs.RICaction-ToBeSetup-Item.RICactionType
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICactions-ToBeSetup-List.RICaction-ToBeSetup-ItemIEs.RICaction-ToBeSetup-Item.RICactionDefinition
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICactions-ToBeSetup-List.RICaction-ToBeSetup-ItemIEs.RICaction-ToBeSetup-Item.RICsubsequentAction.RICsubsequentActionType
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICactions-ToBeSetup-List.RICaction-ToBeSetup-ItemIEs.RICaction-ToBeSetup-Item.RICsubsequentAction.RICtimeToWait
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICactions-ToBeSetup-List.RICaction-ToBeSetup-ItemIEs.RICaction-ToBeSetup-Item.RICsubsequentAction
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICactions-ToBeSetup-List.RICaction-ToBeSetup-ItemIEs.RICaction-ToBeSetup-Item.RICactionExecutionOrder
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICactions-ToBeSetup-List.RICaction-ToBeSetup-ItemIEs.RICaction-ToBeSetup-Item
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICactions-ToBeSetup-List.RICaction-ToBeSetup-ItemIEs
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails.RICactions-ToBeSetup-List
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionDetails
// RICsubscriptionRequest.RICsubscriptionRequest-IEs.RICsubscriptionTime
// RICsubscriptionRequest.RICsubscriptionRequest-IEs
// RICsubscriptionRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionRequest* p_RICsubscriptionRequest = GNB_PNULL;
    e2ap_RICsubscriptionRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICsubscription;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionRequest;
        p_RICsubscriptionRequest = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionRequest);
        if(GNB_PNULL==p_RICsubscriptionRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionRequest",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionRequest(p_RICsubscriptionRequest);
        e2ap_pdu.u.initiatingMessage->value.u.ricSubscription = p_RICsubscriptionRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionRequest_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RICrequestID,
                                &p_RICsubscriptionRequest->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionRequest_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RANfunctionID = p_RICsubscriptionRequest->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICsubscriptionDetails - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICsubscriptionDetails;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionRequest_IEs_id_RICsubscriptionDetails;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RICsubscriptionDetails 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionDetails);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RICsubscriptionDetails){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICsubscriptionDetails",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICsubscriptionDetails(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RICsubscriptionDetails);
            #endif
            //message_name.item_type -> type = RICsubscriptionDetails
            if(XNAP_FAILURE == e2ap_compose_RICsubscriptionDetails(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RICsubscriptionDetails,
                                &p_RICsubscriptionRequest->id_RICsubscriptionDetails)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionDetails",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICsubscriptionDetails",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICsubscriptionStartTime - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICsubscriptionStartTime;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionRequest_IEs_id_RICsubscriptionStartTime;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RICsubscriptionStartTime = p_RICsubscriptionRequest->id_RICsubscriptionStartTime; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_RICsubscriptionEndTime - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICsubscriptionEndTime;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionRequest_IEs_id_RICsubscriptionEndTime;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionRequest_IEs_id_RICsubscriptionEndTime = p_RICsubscriptionRequest->id_RICsubscriptionEndTime; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE RICaction_Admitted_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_Admitted_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_Admitted_Item                 *p_e2ap_RICaction_Admitted_Item, //dest
                _e2ap_RICaction_Admitted_Item_t              *p_RICaction_Admitted_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_Admitted_Item->ricActionID,
                                                &p_RICaction_Admitted_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICaction_Admitted_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICaction_Admitted_List,
                _e2ap_RICaction_Admitted_List_t       *p_RICaction_Admitted_List
){
    e2ap_RICaction_Admitted_ItemIEs   *p_RICaction_Admitted_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICaction_Admitted_List->id_RICaction_Admitted_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_Admitted_ItemIEs,
                                &p_node_list,
                                &p_RICaction_Admitted_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-Admitted-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_Admitted_ItemIEs(p_RICaction_Admitted_ItemIEs);
        p_RICaction_Admitted_ItemIEs->id = ASN1V_e2ap_id_RICaction_Admitted_Item;
        p_RICaction_Admitted_ItemIEs->criticality = e2ap_reject;
        p_RICaction_Admitted_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_Admitted_ItemIEs_id_RICaction_Admitted_Item;
        p_RICaction_Admitted_ItemIEs->value.u._e2apRICaction_Admitted_ItemIEs_id_RICaction_Admitted_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_Admitted_ItemIEs);
        if(GNB_PNULL==p_RICaction_Admitted_ItemIEs->value.u._e2apRICaction_Admitted_ItemIEs_id_RICaction_Admitted_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-Admitted-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_Admitted_Item(p_asn1_ctx,
                                                p_RICaction_Admitted_ItemIEs->value.u._e2apRICaction_Admitted_ItemIEs_id_RICaction_Admitted_Item,
                                                &p_RICaction_Admitted_List->id_RICaction_Admitted_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-Admitted-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICaction_Admitted_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_NotAdmitted_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_NotAdmitted_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_NotAdmitted_Item                 *p_e2ap_RICaction_NotAdmitted_Item, //dest
                _e2ap_RICaction_NotAdmitted_Item_t              *p_RICaction_NotAdmitted_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_NotAdmitted_Item->ricActionID,
                                                &p_RICaction_NotAdmitted_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode cause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICaction_NotAdmitted_Item->cause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_RICaction_NotAdmitted_Item->cause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_RICaction_NotAdmitted_Item->cause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_RICaction_NotAdmitted_Item->cause,
                                                &p_RICaction_NotAdmitted_Item->cause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode cause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICaction_NotAdmitted_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICaction_NotAdmitted_List,
                _e2ap_RICaction_NotAdmitted_List_t       *p_RICaction_NotAdmitted_List
){
    e2ap_RICaction_NotAdmitted_ItemIEs   *p_RICaction_NotAdmitted_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICaction_NotAdmitted_List->id_RICaction_NotAdmitted_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_NotAdmitted_ItemIEs,
                                &p_node_list,
                                &p_RICaction_NotAdmitted_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-NotAdmitted-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_NotAdmitted_ItemIEs(p_RICaction_NotAdmitted_ItemIEs);
        p_RICaction_NotAdmitted_ItemIEs->id = ASN1V_e2ap_id_RICaction_NotAdmitted_Item;
        p_RICaction_NotAdmitted_ItemIEs->criticality = e2ap_reject;
        p_RICaction_NotAdmitted_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_NotAdmitted_ItemIEs_id_RICaction_NotAdmitted_Item;
        p_RICaction_NotAdmitted_ItemIEs->value.u._e2apRICaction_NotAdmitted_ItemIEs_id_RICaction_NotAdmitted_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_NotAdmitted_ItemIEs);
        if(GNB_PNULL==p_RICaction_NotAdmitted_ItemIEs->value.u._e2apRICaction_NotAdmitted_ItemIEs_id_RICaction_NotAdmitted_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-NotAdmitted-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_NotAdmitted_Item(p_asn1_ctx,
                                                p_RICaction_NotAdmitted_ItemIEs->value.u._e2apRICaction_NotAdmitted_ItemIEs_id_RICaction_NotAdmitted_Item,
                                                &p_RICaction_NotAdmitted_List->id_RICaction_NotAdmitted_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-NotAdmitted-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICaction_NotAdmitted_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICsubscriptionResponse                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionResponse
    RICsubscriptionResponse-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICaction-Admitted-List
            RICaction-Admitted-ItemIEs
                RICaction-Admitted-Item
                    RICactionID
        RICaction-NotAdmitted-List
            RICaction-NotAdmitted-ItemIEs
                RICaction-NotAdmitted-Item
                    RICactionID
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause

*/
xnap_return_et e2ap_encode_RICsubscriptionResponse(
                e2ap_RICsubscriptionResponse_t* p_RICsubscriptionResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICrequestID.ricRequestorID
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICrequestID.ricInstanceID
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICrequestID
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RANfunctionID
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-Admitted-List.RICaction-Admitted-ItemIEs.RICaction-Admitted-Item.RICactionID
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-Admitted-List.RICaction-Admitted-ItemIEs.RICaction-Admitted-Item
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-Admitted-List.RICaction-Admitted-ItemIEs
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-Admitted-List
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item.RICactionID
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item.Cause.CauseRICrequest
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item.Cause.CauseRICservice
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item.Cause.CauseE2node
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item.Cause.CauseTransport
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item.Cause.CauseProtocol
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item.Cause.CauseMisc
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item.Cause.CauseServiceLayer
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item.Cause
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs.RICaction-NotAdmitted-Item
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List.RICaction-NotAdmitted-ItemIEs
// RICsubscriptionResponse.RICsubscriptionResponse-IEs.RICaction-NotAdmitted-List
// RICsubscriptionResponse.RICsubscriptionResponse-IEs
// RICsubscriptionResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionResponse* p_RICsubscriptionResponse = GNB_PNULL;
    e2ap_RICsubscriptionResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscription;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionResponse;
        p_RICsubscriptionResponse = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionResponse);
        if(GNB_PNULL==p_RICsubscriptionResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionResponse",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionResponse(p_RICsubscriptionResponse);
        e2ap_pdu.u.successfulOutcome->value.u.ricSubscription = p_RICsubscriptionResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionResponse_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICrequestID,
                                &p_RICsubscriptionResponse->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionResponse_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RANfunctionID = p_RICsubscriptionResponse->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICactions_Admitted - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactions_Admitted;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionResponse_IEs_id_RICactions_Admitted;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICactions_Admitted 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICaction_Admitted_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICactions_Admitted){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactions_Admitted",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICaction_Admitted_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICactions_Admitted);
            #endif
            //message_name.item_type -> type = RICaction_Admitted_List
            if(XNAP_FAILURE == e2ap_compose_RICaction_Admitted_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICactions_Admitted,
                                &p_RICsubscriptionResponse->id_RICactions_Admitted)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction_Admitted_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICaction_Admitted_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICactions_NotAdmitted - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactions_NotAdmitted;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionResponse_IEs_id_RICactions_NotAdmitted;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICactions_NotAdmitted 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICaction_NotAdmitted_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICactions_NotAdmitted){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactions_NotAdmitted",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICaction_NotAdmitted_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICactions_NotAdmitted);
            #endif
            //message_name.item_type -> type = RICaction_NotAdmitted_List
            if(XNAP_FAILURE == e2ap_compose_RICaction_NotAdmitted_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionResponse_IEs_id_RICactions_NotAdmitted,
                                &p_RICsubscriptionResponse->id_RICactions_NotAdmitted)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction_NotAdmitted_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICaction_NotAdmitted_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICsubscriptionAuditFailure                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionAuditFailure
    RICsubscriptionAuditFailure-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICsubscriptionAuditFailure(
                e2ap_RICsubscriptionAuditFailure_t* p_RICsubscriptionAuditFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.RICrequestID.ricRequestorID
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.RICrequestID.ricInstanceID
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.RICrequestID
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.Cause.CauseRICrequest
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.Cause.CauseRICservice
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.Cause.CauseE2node
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.Cause.CauseTransport
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.Cause.CauseProtocol
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.Cause.CauseMisc
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.Cause.CauseServiceLayer
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.Cause
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.CriticalityDiagnostics.ProcedureCode
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.CriticalityDiagnostics.Criticality
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.CriticalityDiagnostics.RICrequestID
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs.CriticalityDiagnostics
// RICsubscriptionAuditFailure.RICsubscriptionAuditFailure-IEs
// RICsubscriptionAuditFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionAuditFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionAuditFailure* p_RICsubscriptionAuditFailure = GNB_PNULL;
    e2ap_RICsubscriptionAuditFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscriptionAudit;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionAuditFailure;
        p_RICsubscriptionAuditFailure = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionAuditFailure);
        if(GNB_PNULL==p_RICsubscriptionAuditFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionAuditFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionAuditFailure",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionAuditFailure(p_RICsubscriptionAuditFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricSubscriptionAudit = p_RICsubscriptionAuditFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionAuditFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionAuditFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditFailure_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_RICrequestID,
                                &p_RICsubscriptionAuditFailure->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionAuditFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionAuditFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionAuditFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_Cause,
                                &p_RICsubscriptionAuditFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionAuditFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionAuditFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionAuditFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditFailure_IEs_id_CriticalityDiagnostics,
                                &p_RICsubscriptionAuditFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionAuditFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE ListedRecordsOnly            */
/*****************************************************/
// cpmpose primitive - id = 13 - ENUMERATED - ListedRecordsOnly
   xnap_return_et e2ap_compose_ListedRecordsOnly( // compose primitive enum
                        OSCTXT                        *p_asn1_ctx,
                        e2ap_ListedRecordsOnly  *p_dest,//dest
                        _e2ap_ListedRecordsOnly_et  *p_src//src
)
{
    *p_dest = (e2ap_ListedRecordsOnly)*p_src;
    return XNAP_SUCCESS;
}
   
/************************************************************/
/*      SEQUENCE RICsubscriptionAuditFlag                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICsubscriptionAuditFlag(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICsubscriptionAuditFlag                 *p_e2ap_RICsubscriptionAuditFlag, //dest
                _e2ap_RICsubscriptionAuditFlag_t              *p_RICsubscriptionAuditFlag //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode listedRecordsOnly alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_ListedRecordsOnly(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionAuditFlag->listedRecordsOnly,
                                                &p_RICsubscriptionAuditFlag->listedRecordsOnly))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field listedRecordsOnly",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode listedRecordsOnly*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

/************************************************************/
/*      SEQUENCE RICsubscriptionAudit_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICsubscriptionAudit_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICsubscriptionAudit_Item                 *p_e2ap_RICsubscriptionAudit_Item, //dest
                _e2ap_RICsubscriptionAudit_Item_t              *p_RICsubscriptionAudit_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricRequestID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionAudit_Item->ricRequestID = rtxMemAllocType(p_asn1_ctx, e2ap_RICrequestID);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionAudit_Item->ricRequestID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICrequestID(&p_e2ap_RICsubscriptionAudit_Item->ricRequestID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICrequestID(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionAudit_Item->ricRequestID,
                                                &p_RICsubscriptionAudit_Item->ricRequestID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricRequestID*/

    {  /*SEQ_ELEM-2  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionAudit_Item->ranFunctionID,
                                                &p_RICsubscriptionAudit_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ranFunctionID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICsubscriptionAuditList (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICsubscriptionAuditList,
                _e2ap_RICsubscriptionAuditList_t       *p_RICsubscriptionAuditList
){
    e2ap_RICsubscriptionAudit_ItemIEs   *p_RICsubscriptionAudit_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICsubscriptionAuditList->id_RICsubscriptionAudit_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICsubscriptionAudit_ItemIEs,
                                &p_node_list,
                                &p_RICsubscriptionAudit_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAudit-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICsubscriptionAudit_ItemIEs(p_RICsubscriptionAudit_ItemIEs);
        p_RICsubscriptionAudit_ItemIEs->id = ASN1V_e2ap_id_RICsubscriptionAudit_Item;
        p_RICsubscriptionAudit_ItemIEs->criticality = e2ap_reject;
        p_RICsubscriptionAudit_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICsubscriptionAudit_ItemIEs_id_RICsubscriptionAudit_Item;
        p_RICsubscriptionAudit_ItemIEs->value.u._e2apRICsubscriptionAudit_ItemIEs_id_RICsubscriptionAudit_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionAudit_ItemIEs);
        if(GNB_PNULL==p_RICsubscriptionAudit_ItemIEs->value.u._e2apRICsubscriptionAudit_ItemIEs_id_RICsubscriptionAudit_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAudit-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionAudit_Item(p_asn1_ctx,
                                                p_RICsubscriptionAudit_ItemIEs->value.u._e2apRICsubscriptionAudit_ItemIEs_id_RICsubscriptionAudit_Item,
                                                &p_RICsubscriptionAuditList->id_RICsubscriptionAudit_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionAudit-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICsubscriptionAuditList, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICsubscriptionAuditRequest                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionAuditRequest
    RICsubscriptionAuditRequest-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RICsubscriptionAuditFlag
            ListedRecordsOnly
        RICsubscriptionAuditList
            RICsubscriptionAudit-ItemIEs
                RICsubscriptionAudit-Item
                    RICrequestID
                        ricRequestorID
                        ricInstanceID
                    RANfunctionID

*/
xnap_return_et e2ap_encode_RICsubscriptionAuditRequest(
                e2ap_RICsubscriptionAuditRequest_t* p_RICsubscriptionAuditRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICrequestID.ricRequestorID
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICrequestID.ricInstanceID
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICrequestID
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICsubscriptionAuditFlag.ListedRecordsOnly
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICsubscriptionAuditFlag
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs.RICsubscriptionAudit-Item.RICrequestID.ricRequestorID
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs.RICsubscriptionAudit-Item.RICrequestID.ricInstanceID
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs.RICsubscriptionAudit-Item.RICrequestID
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs.RICsubscriptionAudit-Item.RANfunctionID
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs.RICsubscriptionAudit-Item
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs.RICsubscriptionAuditList
// RICsubscriptionAuditRequest.RICsubscriptionAuditRequest-IEs
// RICsubscriptionAuditRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionAuditRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionAuditRequest* p_RICsubscriptionAuditRequest = GNB_PNULL;
    e2ap_RICsubscriptionAuditRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICsubscriptionAudit;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionAuditRequest;
        p_RICsubscriptionAuditRequest = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionAuditRequest);
        if(GNB_PNULL==p_RICsubscriptionAuditRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionAuditRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionAuditRequest",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionAuditRequest(p_RICsubscriptionAuditRequest);
        e2ap_pdu.u.initiatingMessage->value.u.ricSubscriptionAudit = p_RICsubscriptionAuditRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionAuditRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionAuditRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditRequest_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICrequestID,
                                &p_RICsubscriptionAuditRequest->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionAuditRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RICsubscriptionAuditFlag - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionAuditRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionAuditRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICsubscriptionAuditFlag;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditRequest_IEs_id_RICsubscriptionAuditFlag;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICsubscriptionAuditFlag 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionAuditFlag);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICsubscriptionAuditFlag){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICsubscriptionAuditFlag",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICsubscriptionAuditFlag(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICsubscriptionAuditFlag);
            #endif
            //message_name.item_type -> type = RICsubscriptionAuditFlag
            if(XNAP_FAILURE == e2ap_compose_RICsubscriptionAuditFlag(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICsubscriptionAuditFlag,
                                &p_RICsubscriptionAuditRequest->id_RICsubscriptionAuditFlag)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionAuditFlag",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICsubscriptionAuditFlag",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionAuditRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICsubscriptionAuditList - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionAuditRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionAuditRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICsubscriptionAuditList;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditRequest_IEs_id_RICsubscriptionAuditList;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICsubscriptionAuditList 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionAuditList);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICsubscriptionAuditList){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICsubscriptionAuditList",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICsubscriptionAuditList(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICsubscriptionAuditList);
            #endif
            //message_name.item_type -> type = RICsubscriptionAuditList
            if(XNAP_FAILURE == e2ap_compose_RICsubscriptionAuditList(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditRequest_IEs_id_RICsubscriptionAuditList,
                                &p_RICsubscriptionAuditRequest->id_RICsubscriptionAuditList)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionAuditList",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICsubscriptionAuditList",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionAuditRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE RICsubscriptionAuditAction_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICsubscriptionAuditAction_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICsubscriptionAuditAction_Item                 *p_e2ap_RICsubscriptionAuditAction_Item, //dest
                _e2ap_RICsubscriptionAuditAction_Item_t              *p_RICsubscriptionAuditAction_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricRequestID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionAuditAction_Item->ricRequestID = rtxMemAllocType(p_asn1_ctx, e2ap_RICrequestID);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionAuditAction_Item->ricRequestID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICrequestID(&p_e2ap_RICsubscriptionAuditAction_Item->ricRequestID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICrequestID(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionAuditAction_Item->ricRequestID,
                                                &p_RICsubscriptionAuditAction_Item->ricRequestID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricRequestID*/

    {  /*SEQ_ELEM-2  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionAuditAction_Item->ranFunctionID,
                                                &p_RICsubscriptionAuditAction_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ranFunctionID*/

    {  /*SEQ_ELEM-3  Encode ricAction_Admitted_List alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionAuditAction_Item->ricAction_Admitted_List = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_Admitted_List);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionAuditAction_Item->ricAction_Admitted_List)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricAction_Admitted_List",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICaction_Admitted_List(&p_e2ap_RICsubscriptionAuditAction_Item->ricAction_Admitted_List);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICaction_Admitted_List(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionAuditAction_Item->ricAction_Admitted_List,
                                                &p_RICsubscriptionAuditAction_Item->ricAction_Admitted_List))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricAction_Admitted_List",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricAction_Admitted_List*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICsubscriptionAuditActionList (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICsubscriptionAuditActionList,
                _e2ap_RICsubscriptionAuditActionList_t       *p_RICsubscriptionAuditActionList
){
    e2ap_RICsubscriptionAuditAction_ItemIEs   *p_RICsubscriptionAuditAction_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICsubscriptionAuditActionList->id_RICsubscriptionAuditAction_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICsubscriptionAuditAction_ItemIEs,
                                &p_node_list,
                                &p_RICsubscriptionAuditAction_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditAction-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICsubscriptionAuditAction_ItemIEs(p_RICsubscriptionAuditAction_ItemIEs);
        p_RICsubscriptionAuditAction_ItemIEs->id = ASN1V_e2ap_id_RICsubscriptionAuditAction_Item;
        p_RICsubscriptionAuditAction_ItemIEs->criticality = e2ap_reject;
        p_RICsubscriptionAuditAction_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditAction_ItemIEs_id_RICsubscriptionAuditAction_Item;
        p_RICsubscriptionAuditAction_ItemIEs->value.u._e2apRICsubscriptionAuditAction_ItemIEs_id_RICsubscriptionAuditAction_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionAuditAction_ItemIEs);
        if(GNB_PNULL==p_RICsubscriptionAuditAction_ItemIEs->value.u._e2apRICsubscriptionAuditAction_ItemIEs_id_RICsubscriptionAuditAction_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditAction-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionAuditAction_Item(p_asn1_ctx,
                                                p_RICsubscriptionAuditAction_ItemIEs->value.u._e2apRICsubscriptionAuditAction_ItemIEs_id_RICsubscriptionAuditAction_Item,
                                                &p_RICsubscriptionAuditActionList->id_RICsubscriptionAuditAction_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionAuditAction-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICsubscriptionAuditActionList, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICsubscriptionAuditResponse                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionAuditResponse
    RICsubscriptionAuditResponse-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RICsubscriptionAuditActionList
            RICsubscriptionAuditAction-ItemIEs
                RICsubscriptionAuditAction-Item
                    RICrequestID
                        ricRequestorID
                        ricInstanceID
                    RANfunctionID
                    RICaction-Admitted-List
                        RICaction-Admitted-ItemIEs
                            RICaction-Admitted-Item
                                RICactionID
        RICsubscriptionAuditList
            RICsubscriptionAudit-ItemIEs
                RICsubscriptionAudit-Item
                    RICrequestID
                        ricRequestorID
                        ricInstanceID
                    RANfunctionID
        RICsubscriptionAuditActionList
            RICsubscriptionAuditAction-ItemIEs
                RICsubscriptionAuditAction-Item
                    RICrequestID
                        ricRequestorID
                        ricInstanceID
                    RANfunctionID
                    RICaction-Admitted-List
                        RICaction-Admitted-ItemIEs
                            RICaction-Admitted-Item
                                RICactionID

*/
xnap_return_et e2ap_encode_RICsubscriptionAuditResponse(
                e2ap_RICsubscriptionAuditResponse_t* p_RICsubscriptionAuditResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICrequestID.ricRequestorID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICrequestID.ricInstanceID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICrequestID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList.RICsubscriptionAuditAction-ItemIEs.RICsubscriptionAuditAction-Item.RICrequestID.ricRequestorID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList.RICsubscriptionAuditAction-ItemIEs.RICsubscriptionAuditAction-Item.RICrequestID.ricInstanceID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList.RICsubscriptionAuditAction-ItemIEs.RICsubscriptionAuditAction-Item.RICrequestID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList.RICsubscriptionAuditAction-ItemIEs.RICsubscriptionAuditAction-Item.RANfunctionID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList.RICsubscriptionAuditAction-ItemIEs.RICsubscriptionAuditAction-Item.RICaction-Admitted-List.RICaction-Admitted-ItemIEs.RICaction-Admitted-Item.RICactionID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList.RICsubscriptionAuditAction-ItemIEs.RICsubscriptionAuditAction-Item.RICaction-Admitted-List.RICaction-Admitted-ItemIEs.RICaction-Admitted-Item
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList.RICsubscriptionAuditAction-ItemIEs.RICsubscriptionAuditAction-Item.RICaction-Admitted-List.RICaction-Admitted-ItemIEs
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList.RICsubscriptionAuditAction-ItemIEs.RICsubscriptionAuditAction-Item.RICaction-Admitted-List
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList.RICsubscriptionAuditAction-ItemIEs.RICsubscriptionAuditAction-Item
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList.RICsubscriptionAuditAction-ItemIEs
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditActionList
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs.RICsubscriptionAudit-Item.RICrequestID.ricRequestorID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs.RICsubscriptionAudit-Item.RICrequestID.ricInstanceID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs.RICsubscriptionAudit-Item.RICrequestID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs.RICsubscriptionAudit-Item.RANfunctionID
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs.RICsubscriptionAudit-Item
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditList.RICsubscriptionAudit-ItemIEs
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs.RICsubscriptionAuditList
// RICsubscriptionAuditResponse.RICsubscriptionAuditResponse-IEs
// RICsubscriptionAuditResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionAuditResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionAuditResponse* p_RICsubscriptionAuditResponse = GNB_PNULL;
    e2ap_RICsubscriptionAuditResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscriptionAudit;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionAuditResponse;
        p_RICsubscriptionAuditResponse = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionAuditResponse);
        if(GNB_PNULL==p_RICsubscriptionAuditResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionAuditResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionAuditResponse",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionAuditResponse(p_RICsubscriptionAuditResponse);
        e2ap_pdu.u.successfulOutcome->value.u.ricSubscriptionAudit = p_RICsubscriptionAuditResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionAuditResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionAuditResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditResponse_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICrequestID,
                                &p_RICsubscriptionAuditResponse->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionAuditResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RICsubscriptionAuditConfirmedList - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionAuditResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionAuditResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICsubscriptionAuditConfirmedList;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditConfirmedList;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditConfirmedList 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionAuditActionList);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditConfirmedList){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICsubscriptionAuditConfirmedList",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICsubscriptionAuditActionList(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditConfirmedList);
            #endif
            //message_name.item_type -> type = RICsubscriptionAuditActionList
            if(XNAP_FAILURE == e2ap_compose_RICsubscriptionAuditActionList(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditConfirmedList,
                                &p_RICsubscriptionAuditResponse->id_RICsubscriptionAuditConfirmedList)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionAuditActionList",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICsubscriptionAuditActionList",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionAuditResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICsubscriptionAuditUnkownList - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionAuditResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionAuditResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICsubscriptionAuditUnkownList;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditUnkownList;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditUnkownList 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionAuditList);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditUnkownList){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICsubscriptionAuditUnkownList",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICsubscriptionAuditList(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditUnkownList);
            #endif
            //message_name.item_type -> type = RICsubscriptionAuditList
            if(XNAP_FAILURE == e2ap_compose_RICsubscriptionAuditList(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditUnkownList,
                                &p_RICsubscriptionAuditResponse->id_RICsubscriptionAuditUnkownList)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionAuditList",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICsubscriptionAuditList",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionAuditResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICsubscriptionAuditMissingList - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionAuditResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionAuditResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionAuditResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICsubscriptionAuditMissingList;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditMissingList;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditMissingList 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionAuditActionList);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditMissingList){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICsubscriptionAuditMissingList",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICsubscriptionAuditActionList(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditMissingList);
            #endif
            //message_name.item_type -> type = RICsubscriptionAuditActionList
            if(XNAP_FAILURE == e2ap_compose_RICsubscriptionAuditActionList(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionAuditResponse_IEs_id_RICsubscriptionAuditMissingList,
                                &p_RICsubscriptionAuditResponse->id_RICsubscriptionAuditMissingList)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionAuditActionList",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICsubscriptionAuditActionList",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionAuditResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICsubscriptionDeleteFailure                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionDeleteFailure
    RICsubscriptionDeleteFailure-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICsubscriptionDeleteFailure(
                e2ap_RICsubscriptionDeleteFailure_t* p_RICsubscriptionDeleteFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.RICrequestID.ricRequestorID
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.RICrequestID.ricInstanceID
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.RICrequestID
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.RANfunctionID
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.Cause.CauseRICrequest
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.Cause.CauseRICservice
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.Cause.CauseE2node
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.Cause.CauseTransport
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.Cause.CauseProtocol
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.Cause.CauseMisc
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.Cause.CauseServiceLayer
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.Cause
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.CriticalityDiagnostics.ProcedureCode
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.CriticalityDiagnostics.Criticality
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.CriticalityDiagnostics.RICrequestID
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs.CriticalityDiagnostics
// RICsubscriptionDeleteFailure.RICsubscriptionDeleteFailure-IEs
// RICsubscriptionDeleteFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionDeleteFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionDeleteFailure* p_RICsubscriptionDeleteFailure = GNB_PNULL;
    e2ap_RICsubscriptionDeleteFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscriptionDelete;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionDeleteFailure;
        p_RICsubscriptionDeleteFailure = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionDeleteFailure);
        if(GNB_PNULL==p_RICsubscriptionDeleteFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionDeleteFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionDeleteFailure",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionDeleteFailure(p_RICsubscriptionDeleteFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricSubscriptionDelete = p_RICsubscriptionDeleteFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionDeleteFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionDeleteFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionDeleteFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionDeleteFailure_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_RICrequestID,
                                &p_RICsubscriptionDeleteFailure->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionDeleteFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionDeleteFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionDeleteFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionDeleteFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionDeleteFailure_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_RANfunctionID = p_RICsubscriptionDeleteFailure->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionDeleteFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionDeleteFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionDeleteFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionDeleteFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionDeleteFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_Cause,
                                &p_RICsubscriptionDeleteFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionDeleteFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionDeleteFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionDeleteFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionDeleteFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionDeleteFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteFailure_IEs_id_CriticalityDiagnostics,
                                &p_RICsubscriptionDeleteFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionDeleteFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICsubscriptionDeleteRequest                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionDeleteRequest
    RICsubscriptionDeleteRequest-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID

*/
xnap_return_et e2ap_encode_RICsubscriptionDeleteRequest(
                e2ap_RICsubscriptionDeleteRequest_t* p_RICsubscriptionDeleteRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionDeleteRequest.RICsubscriptionDeleteRequest-IEs.RICrequestID.ricRequestorID
// RICsubscriptionDeleteRequest.RICsubscriptionDeleteRequest-IEs.RICrequestID.ricInstanceID
// RICsubscriptionDeleteRequest.RICsubscriptionDeleteRequest-IEs.RICrequestID
// RICsubscriptionDeleteRequest.RICsubscriptionDeleteRequest-IEs.RANfunctionID
// RICsubscriptionDeleteRequest.RICsubscriptionDeleteRequest-IEs
// RICsubscriptionDeleteRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionDeleteRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionDeleteRequest* p_RICsubscriptionDeleteRequest = GNB_PNULL;
    e2ap_RICsubscriptionDeleteRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICsubscriptionDelete;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionDeleteRequest;
        p_RICsubscriptionDeleteRequest = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionDeleteRequest);
        if(GNB_PNULL==p_RICsubscriptionDeleteRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionDeleteRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionDeleteRequest",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionDeleteRequest(p_RICsubscriptionDeleteRequest);
        e2ap_pdu.u.initiatingMessage->value.u.ricSubscriptionDelete = p_RICsubscriptionDeleteRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionDeleteRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionDeleteRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionDeleteRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionDeleteRequest_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteRequest_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteRequest_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteRequest_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteRequest_IEs_id_RICrequestID,
                                &p_RICsubscriptionDeleteRequest->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionDeleteRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionDeleteRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionDeleteRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionDeleteRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionDeleteRequest_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteRequest_IEs_id_RANfunctionID = p_RICsubscriptionDeleteRequest->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionDeleteRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICsubscriptionDeleteResponse                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionDeleteResponse
    RICsubscriptionDeleteResponse-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID

*/
xnap_return_et e2ap_encode_RICsubscriptionDeleteResponse(
                e2ap_RICsubscriptionDeleteResponse_t* p_RICsubscriptionDeleteResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionDeleteResponse.RICsubscriptionDeleteResponse-IEs.RICrequestID.ricRequestorID
// RICsubscriptionDeleteResponse.RICsubscriptionDeleteResponse-IEs.RICrequestID.ricInstanceID
// RICsubscriptionDeleteResponse.RICsubscriptionDeleteResponse-IEs.RICrequestID
// RICsubscriptionDeleteResponse.RICsubscriptionDeleteResponse-IEs.RANfunctionID
// RICsubscriptionDeleteResponse.RICsubscriptionDeleteResponse-IEs
// RICsubscriptionDeleteResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionDeleteResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionDeleteResponse* p_RICsubscriptionDeleteResponse = GNB_PNULL;
    e2ap_RICsubscriptionDeleteResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscriptionDelete;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionDeleteResponse;
        p_RICsubscriptionDeleteResponse = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionDeleteResponse);
        if(GNB_PNULL==p_RICsubscriptionDeleteResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionDeleteResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionDeleteResponse",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionDeleteResponse(p_RICsubscriptionDeleteResponse);
        e2ap_pdu.u.successfulOutcome->value.u.ricSubscriptionDelete = p_RICsubscriptionDeleteResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionDeleteResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionDeleteResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionDeleteResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionDeleteResponse_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteResponse_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteResponse_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteResponse_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteResponse_IEs_id_RICrequestID,
                                &p_RICsubscriptionDeleteResponse->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionDeleteResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionDeleteResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionDeleteResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionDeleteResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionDeleteResponse_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteResponse_IEs_id_RANfunctionID = p_RICsubscriptionDeleteResponse->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionDeleteResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE RICsubscription_withCause_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICsubscription_withCause_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICsubscription_withCause_Item                 *p_e2ap_RICsubscription_withCause_Item, //dest
                _e2ap_RICsubscription_withCause_Item_t              *p_RICsubscription_withCause_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricRequestID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscription_withCause_Item->ricRequestID = rtxMemAllocType(p_asn1_ctx, e2ap_RICrequestID);
        if(XNAP_P_NULL == p_e2ap_RICsubscription_withCause_Item->ricRequestID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICrequestID(&p_e2ap_RICsubscription_withCause_Item->ricRequestID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICrequestID(p_asn1_ctx,
                                                &p_e2ap_RICsubscription_withCause_Item->ricRequestID,
                                                &p_RICsubscription_withCause_Item->ricRequestID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricRequestID*/

    {  /*SEQ_ELEM-2  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RICsubscription_withCause_Item->ranFunctionID,
                                                &p_RICsubscription_withCause_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ranFunctionID*/

    {  /*SEQ_ELEM-3  Encode cause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscription_withCause_Item->cause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_RICsubscription_withCause_Item->cause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_RICsubscription_withCause_Item->cause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_RICsubscription_withCause_Item->cause,
                                                &p_RICsubscription_withCause_Item->cause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode cause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICsubscription_List_withCause (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICsubscription_List_withCause,
                _e2ap_RICsubscription_List_withCause_t       *p_RICsubscription_List_withCause
){
    e2ap_RICsubscription_withCause_ItemIEs   *p_RICsubscription_withCause_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICsubscription_List_withCause->id_RICsubscription_withCause_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICsubscription_withCause_ItemIEs,
                                &p_node_list,
                                &p_RICsubscription_withCause_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscription-withCause-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICsubscription_withCause_ItemIEs(p_RICsubscription_withCause_ItemIEs);
        p_RICsubscription_withCause_ItemIEs->id = ASN1V_e2ap_id_RICsubscription_withCause_Item;
        p_RICsubscription_withCause_ItemIEs->criticality = e2ap_reject;
        p_RICsubscription_withCause_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICsubscription_withCause_ItemIEs_id_RICsubscription_withCause_Item;
        p_RICsubscription_withCause_ItemIEs->value.u._e2apRICsubscription_withCause_ItemIEs_id_RICsubscription_withCause_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscription_withCause_ItemIEs);
        if(GNB_PNULL==p_RICsubscription_withCause_ItemIEs->value.u._e2apRICsubscription_withCause_ItemIEs_id_RICsubscription_withCause_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscription-withCause-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICsubscription_withCause_Item(p_asn1_ctx,
                                                p_RICsubscription_withCause_ItemIEs->value.u._e2apRICsubscription_withCause_ItemIEs_id_RICsubscription_withCause_Item,
                                                &p_RICsubscription_List_withCause->id_RICsubscription_withCause_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscription-withCause-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICsubscription_List_withCause, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICsubscriptionDeleteRequired                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionDeleteRequired
    RICsubscriptionDeleteRequired-IEs
        RICsubscription-List-withCause
            RICsubscription-withCause-ItemIEs
                RICsubscription-withCause-Item
                    RICrequestID
                        ricRequestorID
                        ricInstanceID
                    RANfunctionID
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause

*/
xnap_return_et e2ap_encode_RICsubscriptionDeleteRequired(
                e2ap_RICsubscriptionDeleteRequired_t* p_RICsubscriptionDeleteRequired,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.RICrequestID.ricRequestorID
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.RICrequestID.ricInstanceID
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.RICrequestID
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.RANfunctionID
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.Cause.CauseRICrequest
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.Cause.CauseRICservice
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.Cause.CauseE2node
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.Cause.CauseTransport
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.Cause.CauseProtocol
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.Cause.CauseMisc
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.Cause.CauseServiceLayer
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item.Cause
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs.RICsubscription-withCause-Item
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause.RICsubscription-withCause-ItemIEs
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs.RICsubscription-List-withCause
// RICsubscriptionDeleteRequired.RICsubscriptionDeleteRequired-IEs
// RICsubscriptionDeleteRequired

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionDeleteRequired o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionDeleteRequired* p_RICsubscriptionDeleteRequired = GNB_PNULL;
    e2ap_RICsubscriptionDeleteRequired_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICsubscriptionDeleteRequired;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_ignore;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionDeleteRequired;
        p_RICsubscriptionDeleteRequired = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionDeleteRequired);
        if(GNB_PNULL==p_RICsubscriptionDeleteRequired){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionDeleteRequired",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionDeleteRequired",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionDeleteRequired(p_RICsubscriptionDeleteRequired);
        e2ap_pdu.u.initiatingMessage->value.u.ricSubscriptionDeleteRequired = p_RICsubscriptionDeleteRequired;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICsubscriptionToBeRemoved - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionDeleteRequired_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionDeleteRequired_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionDeleteRequired_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICsubscriptionToBeRemoved;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionDeleteRequired_IEs_id_RICsubscriptionToBeRemoved;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteRequired_IEs_id_RICsubscriptionToBeRemoved 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscription_List_withCause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteRequired_IEs_id_RICsubscriptionToBeRemoved){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICsubscriptionToBeRemoved",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICsubscription_List_withCause(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteRequired_IEs_id_RICsubscriptionToBeRemoved);
            #endif
            //message_name.item_type -> type = RICsubscription_List_withCause
            if(XNAP_FAILURE == e2ap_compose_RICsubscription_List_withCause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionDeleteRequired_IEs_id_RICsubscriptionToBeRemoved,
                                &p_RICsubscriptionDeleteRequired->id_RICsubscriptionToBeRemoved)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscription_List_withCause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICsubscription_List_withCause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionDeleteRequired->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE RICaction_ToBeRemovedForModification_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_ToBeRemovedForModification_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_ToBeRemovedForModification_Item                 *p_e2ap_RICaction_ToBeRemovedForModification_Item, //dest
                _e2ap_RICaction_ToBeRemovedForModification_Item_t              *p_RICaction_ToBeRemovedForModification_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeRemovedForModification_Item->ricActionID,
                                                &p_RICaction_ToBeRemovedForModification_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_ToBeRemovedForModification_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_ToBeRemovedForModification_List,
                _e2ap_RICactions_ToBeRemovedForModification_List_t       *p_RICactions_ToBeRemovedForModification_List
){
    e2ap_RICaction_ToBeRemovedForModification_ItemIEs   *p_RICaction_ToBeRemovedForModification_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_ToBeRemovedForModification_List->id_RICaction_ToBeRemovedForModification_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_ToBeRemovedForModification_ItemIEs,
                                &p_node_list,
                                &p_RICaction_ToBeRemovedForModification_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ToBeRemovedForModification-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_ToBeRemovedForModification_ItemIEs(p_RICaction_ToBeRemovedForModification_ItemIEs);
        p_RICaction_ToBeRemovedForModification_ItemIEs->id = ASN1V_e2ap_id_RICaction_ToBeRemovedForModification_Item;
        p_RICaction_ToBeRemovedForModification_ItemIEs->criticality = e2ap_reject;
        p_RICaction_ToBeRemovedForModification_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_ToBeRemovedForModification_ItemIEs_id_RICaction_ToBeRemovedForModification_Item;
        p_RICaction_ToBeRemovedForModification_ItemIEs->value.u._e2apRICaction_ToBeRemovedForModification_ItemIEs_id_RICaction_ToBeRemovedForModification_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_ToBeRemovedForModification_ItemIEs);
        if(GNB_PNULL==p_RICaction_ToBeRemovedForModification_ItemIEs->value.u._e2apRICaction_ToBeRemovedForModification_ItemIEs_id_RICaction_ToBeRemovedForModification_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ToBeRemovedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_ToBeRemovedForModification_Item(p_asn1_ctx,
                                                p_RICaction_ToBeRemovedForModification_ItemIEs->value.u._e2apRICaction_ToBeRemovedForModification_ItemIEs_id_RICaction_ToBeRemovedForModification_Item,
                                                &p_RICactions_ToBeRemovedForModification_List->id_RICaction_ToBeRemovedForModification_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-ToBeRemovedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_ToBeRemovedForModification_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_ToBeModifiedForModification_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_ToBeModifiedForModification_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_ToBeModifiedForModification_Item                 *p_e2ap_RICaction_ToBeModifiedForModification_Item, //dest
                _e2ap_RICaction_ToBeModifiedForModification_Item_t              *p_RICaction_ToBeModifiedForModification_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeModifiedForModification_Item->ricActionID,
                                                &p_RICaction_ToBeModifiedForModification_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode ricActionDefinition alias-id = 9 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionDefinition(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeModifiedForModification_Item->ricActionDefinition,
                                                &p_RICaction_ToBeModifiedForModification_Item->ricActionDefinition))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionDefinition",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricActionDefinition*/

    {  /*SEQ_ELEM-3  Encode ricActionExecutionOrder alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionExecutionOrder(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeModifiedForModification_Item->ricActionExecutionOrder,
                                                &p_RICaction_ToBeModifiedForModification_Item->ricActionExecutionOrder))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionExecutionOrder",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricActionExecutionOrder*/

    {  /*SEQ_ELEM-4  Encode ricSubsequentAction alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICaction_ToBeModifiedForModification_Item->ricSubsequentAction = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubsequentAction);
        if(XNAP_P_NULL == p_e2ap_RICaction_ToBeModifiedForModification_Item->ricSubsequentAction)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubsequentAction",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICsubsequentAction(&p_e2ap_RICaction_ToBeModifiedForModification_Item->ricSubsequentAction);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICsubsequentAction(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeModifiedForModification_Item->ricSubsequentAction,
                                                &p_RICaction_ToBeModifiedForModification_Item->ricSubsequentAction))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubsequentAction",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ricSubsequentAction*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_ToBeModifiedForModification_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_ToBeModifiedForModification_List,
                _e2ap_RICactions_ToBeModifiedForModification_List_t       *p_RICactions_ToBeModifiedForModification_List
){
    e2ap_RICaction_ToBeModifiedForModification_ItemIEs   *p_RICaction_ToBeModifiedForModification_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_ToBeModifiedForModification_List->id_RICaction_ToBeModifiedForModification_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_ToBeModifiedForModification_ItemIEs,
                                &p_node_list,
                                &p_RICaction_ToBeModifiedForModification_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ToBeModifiedForModification-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_ToBeModifiedForModification_ItemIEs(p_RICaction_ToBeModifiedForModification_ItemIEs);
        p_RICaction_ToBeModifiedForModification_ItemIEs->id = ASN1V_e2ap_id_RICaction_ToBeModifiedForModification_Item;
        p_RICaction_ToBeModifiedForModification_ItemIEs->criticality = e2ap_reject;
        p_RICaction_ToBeModifiedForModification_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_ToBeModifiedForModification_ItemIEs_id_RICaction_ToBeModifiedForModification_Item;
        p_RICaction_ToBeModifiedForModification_ItemIEs->value.u._e2apRICaction_ToBeModifiedForModification_ItemIEs_id_RICaction_ToBeModifiedForModification_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_ToBeModifiedForModification_ItemIEs);
        if(GNB_PNULL==p_RICaction_ToBeModifiedForModification_ItemIEs->value.u._e2apRICaction_ToBeModifiedForModification_ItemIEs_id_RICaction_ToBeModifiedForModification_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ToBeModifiedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_ToBeModifiedForModification_Item(p_asn1_ctx,
                                                p_RICaction_ToBeModifiedForModification_ItemIEs->value.u._e2apRICaction_ToBeModifiedForModification_ItemIEs_id_RICaction_ToBeModifiedForModification_Item,
                                                &p_RICactions_ToBeModifiedForModification_List->id_RICaction_ToBeModifiedForModification_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-ToBeModifiedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_ToBeModifiedForModification_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_ToBeAddedForModification_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_ToBeAddedForModification_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_ToBeAddedForModification_Item                 *p_e2ap_RICaction_ToBeAddedForModification_Item, //dest
                _e2ap_RICaction_ToBeAddedForModification_Item_t              *p_RICaction_ToBeAddedForModification_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeAddedForModification_Item->ricActionID,
                                                &p_RICaction_ToBeAddedForModification_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode ricActionType alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionType(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeAddedForModification_Item->ricActionType,
                                                &p_RICaction_ToBeAddedForModification_Item->ricActionType))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionType",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricActionType*/

    {  /*SEQ_ELEM-3  Encode ricActionDefinition alias-id = 9 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionDefinition(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeAddedForModification_Item->ricActionDefinition,
                                                &p_RICaction_ToBeAddedForModification_Item->ricActionDefinition))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionDefinition",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricActionDefinition*/

    {  /*SEQ_ELEM-4  Encode ricActionExecutionOrder alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionExecutionOrder(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeAddedForModification_Item->ricActionExecutionOrder,
                                                &p_RICaction_ToBeAddedForModification_Item->ricActionExecutionOrder))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionExecutionOrder",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-4  Encode ricActionExecutionOrder*/

    {  /*SEQ_ELEM-5  Encode ricSubsequentAction alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICaction_ToBeAddedForModification_Item->ricSubsequentAction = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubsequentAction);
        if(XNAP_P_NULL == p_e2ap_RICaction_ToBeAddedForModification_Item->ricSubsequentAction)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubsequentAction",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICsubsequentAction(&p_e2ap_RICaction_ToBeAddedForModification_Item->ricSubsequentAction);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICsubsequentAction(p_asn1_ctx,
                                                &p_e2ap_RICaction_ToBeAddedForModification_Item->ricSubsequentAction,
                                                &p_RICaction_ToBeAddedForModification_Item->ricSubsequentAction))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubsequentAction",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-5  Encode ricSubsequentAction*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_ToBeAddedForModification_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_ToBeAddedForModification_List,
                _e2ap_RICactions_ToBeAddedForModification_List_t       *p_RICactions_ToBeAddedForModification_List
){
    e2ap_RICaction_ToBeAddedForModification_ItemIEs   *p_RICaction_ToBeAddedForModification_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_ToBeAddedForModification_List->id_RICaction_ToBeAddedForModification_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_ToBeAddedForModification_ItemIEs,
                                &p_node_list,
                                &p_RICaction_ToBeAddedForModification_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ToBeAddedForModification-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_ToBeAddedForModification_ItemIEs(p_RICaction_ToBeAddedForModification_ItemIEs);
        p_RICaction_ToBeAddedForModification_ItemIEs->id = ASN1V_e2ap_id_RICaction_ToBeAddedForModification_Item;
        p_RICaction_ToBeAddedForModification_ItemIEs->criticality = e2ap_reject;
        p_RICaction_ToBeAddedForModification_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_ToBeAddedForModification_ItemIEs_id_RICaction_ToBeAddedForModification_Item;
        p_RICaction_ToBeAddedForModification_ItemIEs->value.u._e2apRICaction_ToBeAddedForModification_ItemIEs_id_RICaction_ToBeAddedForModification_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_ToBeAddedForModification_ItemIEs);
        if(GNB_PNULL==p_RICaction_ToBeAddedForModification_ItemIEs->value.u._e2apRICaction_ToBeAddedForModification_ItemIEs_id_RICaction_ToBeAddedForModification_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ToBeAddedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_ToBeAddedForModification_Item(p_asn1_ctx,
                                                p_RICaction_ToBeAddedForModification_ItemIEs->value.u._e2apRICaction_ToBeAddedForModification_ItemIEs_id_RICaction_ToBeAddedForModification_Item,
                                                &p_RICactions_ToBeAddedForModification_List->id_RICaction_ToBeAddedForModification_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-ToBeAddedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_ToBeAddedForModification_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICsubscriptionModificationRequest                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionModificationRequest
    RICsubscriptionModificationRequest-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICeventTriggerDefinition
        RICactions-ToBeRemovedForModification-List
            RICaction-ToBeRemovedForModification-ItemIEs
                RICaction-ToBeRemovedForModification-Item
                    RICactionID
        RICactions-ToBeModifiedForModification-List
            RICaction-ToBeModifiedForModification-ItemIEs
                RICaction-ToBeModifiedForModification-Item
                    RICactionID
                    RICactionDefinition
                    RICactionExecutionOrder
                    RICsubsequentAction
                        RICsubsequentActionType
                        RICtimeToWait
        RICactions-ToBeAddedForModification-List
            RICaction-ToBeAddedForModification-ItemIEs
                RICaction-ToBeAddedForModification-Item
                    RICactionID
                    RICactionType
                    RICactionDefinition
                    RICactionExecutionOrder
                    RICsubsequentAction
                        RICsubsequentActionType
                        RICtimeToWait

*/
xnap_return_et e2ap_encode_RICsubscriptionModificationRequest(
                e2ap_RICsubscriptionModificationRequest_t* p_RICsubscriptionModificationRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICrequestID.ricRequestorID
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICrequestID.ricInstanceID
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICrequestID
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RANfunctionID
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICeventTriggerDefinition
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeRemovedForModification-List.RICaction-ToBeRemovedForModification-ItemIEs.RICaction-ToBeRemovedForModification-Item.RICactionID
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeRemovedForModification-List.RICaction-ToBeRemovedForModification-ItemIEs.RICaction-ToBeRemovedForModification-Item
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeRemovedForModification-List.RICaction-ToBeRemovedForModification-ItemIEs
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeRemovedForModification-List
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeModifiedForModification-List.RICaction-ToBeModifiedForModification-ItemIEs.RICaction-ToBeModifiedForModification-Item.RICactionID
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeModifiedForModification-List.RICaction-ToBeModifiedForModification-ItemIEs.RICaction-ToBeModifiedForModification-Item.RICactionDefinition
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeModifiedForModification-List.RICaction-ToBeModifiedForModification-ItemIEs.RICaction-ToBeModifiedForModification-Item.RICactionExecutionOrder
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeModifiedForModification-List.RICaction-ToBeModifiedForModification-ItemIEs.RICaction-ToBeModifiedForModification-Item.RICsubsequentAction.RICsubsequentActionType
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeModifiedForModification-List.RICaction-ToBeModifiedForModification-ItemIEs.RICaction-ToBeModifiedForModification-Item.RICsubsequentAction.RICtimeToWait
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeModifiedForModification-List.RICaction-ToBeModifiedForModification-ItemIEs.RICaction-ToBeModifiedForModification-Item.RICsubsequentAction
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeModifiedForModification-List.RICaction-ToBeModifiedForModification-ItemIEs.RICaction-ToBeModifiedForModification-Item
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeModifiedForModification-List.RICaction-ToBeModifiedForModification-ItemIEs
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeModifiedForModification-List
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeAddedForModification-List.RICaction-ToBeAddedForModification-ItemIEs.RICaction-ToBeAddedForModification-Item.RICactionID
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeAddedForModification-List.RICaction-ToBeAddedForModification-ItemIEs.RICaction-ToBeAddedForModification-Item.RICactionType
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeAddedForModification-List.RICaction-ToBeAddedForModification-ItemIEs.RICaction-ToBeAddedForModification-Item.RICactionDefinition
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeAddedForModification-List.RICaction-ToBeAddedForModification-ItemIEs.RICaction-ToBeAddedForModification-Item.RICactionExecutionOrder
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeAddedForModification-List.RICaction-ToBeAddedForModification-ItemIEs.RICaction-ToBeAddedForModification-Item.RICsubsequentAction.RICsubsequentActionType
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeAddedForModification-List.RICaction-ToBeAddedForModification-ItemIEs.RICaction-ToBeAddedForModification-Item.RICsubsequentAction.RICtimeToWait
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeAddedForModification-List.RICaction-ToBeAddedForModification-ItemIEs.RICaction-ToBeAddedForModification-Item.RICsubsequentAction
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeAddedForModification-List.RICaction-ToBeAddedForModification-ItemIEs.RICaction-ToBeAddedForModification-Item
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeAddedForModification-List.RICaction-ToBeAddedForModification-ItemIEs
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs.RICactions-ToBeAddedForModification-List
// RICsubscriptionModificationRequest.RICsubscriptionModificationRequest-IEs
// RICsubscriptionModificationRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionModificationRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionModificationRequest* p_RICsubscriptionModificationRequest = GNB_PNULL;
    e2ap_RICsubscriptionModificationRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICsubscriptionModification;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionModificationRequest;
        p_RICsubscriptionModificationRequest = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionModificationRequest);
        if(GNB_PNULL==p_RICsubscriptionModificationRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionModificationRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionModificationRequest",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionModificationRequest(p_RICsubscriptionModificationRequest);
        e2ap_pdu.u.initiatingMessage->value.u.ricSubscriptionModification = p_RICsubscriptionModificationRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRequest_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICrequestID,
                                &p_RICsubscriptionModificationRequest->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRequest_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RANfunctionID = p_RICsubscriptionModificationRequest->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICeventTriggerDefinitionToBeModified - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICeventTriggerDefinitionToBeModified;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRequest_IEs_id_RICeventTriggerDefinitionToBeModified;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICeventTriggerDefinitionToBeModified = p_RICsubscriptionModificationRequest->id_RICeventTriggerDefinitionToBeModified; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICactionsToBeRemovedForModification_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsToBeRemovedForModification_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRequest_IEs_id_RICactionsToBeRemovedForModification_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeRemovedForModification_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_ToBeRemovedForModification_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeRemovedForModification_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsToBeRemovedForModification_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_ToBeRemovedForModification_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeRemovedForModification_List);
            #endif
            //message_name.item_type -> type = RICactions_ToBeRemovedForModification_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_ToBeRemovedForModification_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeRemovedForModification_List,
                                &p_RICsubscriptionModificationRequest->id_RICactionsToBeRemovedForModification_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_ToBeRemovedForModification_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_ToBeRemovedForModification_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_RICactionsToBeModifiedForModification_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsToBeModifiedForModification_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRequest_IEs_id_RICactionsToBeModifiedForModification_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeModifiedForModification_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_ToBeModifiedForModification_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeModifiedForModification_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsToBeModifiedForModification_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_ToBeModifiedForModification_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeModifiedForModification_List);
            #endif
            //message_name.item_type -> type = RICactions_ToBeModifiedForModification_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_ToBeModifiedForModification_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeModifiedForModification_List,
                                &p_RICsubscriptionModificationRequest->id_RICactionsToBeModifiedForModification_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_ToBeModifiedForModification_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_ToBeModifiedForModification_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-6   encode id_RICactionsToBeAddedForModification_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsToBeAddedForModification_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRequest_IEs_id_RICactionsToBeAddedForModification_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeAddedForModification_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_ToBeAddedForModification_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeAddedForModification_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsToBeAddedForModification_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_ToBeAddedForModification_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeAddedForModification_List);
            #endif
            //message_name.item_type -> type = RICactions_ToBeAddedForModification_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_ToBeAddedForModification_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequest_IEs_id_RICactionsToBeAddedForModification_List,
                                &p_RICsubscriptionModificationRequest->id_RICactionsToBeAddedForModification_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_ToBeAddedForModification_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_ToBeAddedForModification_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE RICaction_RemovedForModification_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_RemovedForModification_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_RemovedForModification_Item                 *p_e2ap_RICaction_RemovedForModification_Item, //dest
                _e2ap_RICaction_RemovedForModification_Item_t              *p_RICaction_RemovedForModification_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_RemovedForModification_Item->ricActionID,
                                                &p_RICaction_RemovedForModification_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_RemovedForModification_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_RemovedForModification_List,
                _e2ap_RICactions_RemovedForModification_List_t       *p_RICactions_RemovedForModification_List
){
    e2ap_RICaction_RemovedForModification_ItemIEs   *p_RICaction_RemovedForModification_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_RemovedForModification_List->id_RICaction_RemovedForModification_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_RemovedForModification_ItemIEs,
                                &p_node_list,
                                &p_RICaction_RemovedForModification_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-RemovedForModification-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_RemovedForModification_ItemIEs(p_RICaction_RemovedForModification_ItemIEs);
        p_RICaction_RemovedForModification_ItemIEs->id = ASN1V_e2ap_id_RICaction_RemovedForModification_Item;
        p_RICaction_RemovedForModification_ItemIEs->criticality = e2ap_reject;
        p_RICaction_RemovedForModification_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_RemovedForModification_ItemIEs_id_RICaction_RemovedForModification_Item;
        p_RICaction_RemovedForModification_ItemIEs->value.u._e2apRICaction_RemovedForModification_ItemIEs_id_RICaction_RemovedForModification_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_RemovedForModification_ItemIEs);
        if(GNB_PNULL==p_RICaction_RemovedForModification_ItemIEs->value.u._e2apRICaction_RemovedForModification_ItemIEs_id_RICaction_RemovedForModification_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-RemovedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_RemovedForModification_Item(p_asn1_ctx,
                                                p_RICaction_RemovedForModification_ItemIEs->value.u._e2apRICaction_RemovedForModification_ItemIEs_id_RICaction_RemovedForModification_Item,
                                                &p_RICactions_RemovedForModification_List->id_RICaction_RemovedForModification_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-RemovedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_RemovedForModification_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_FailedToBeRemovedForModification_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_FailedToBeRemovedForModification_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_FailedToBeRemovedForModification_Item                 *p_e2ap_RICaction_FailedToBeRemovedForModification_Item, //dest
                _e2ap_RICaction_FailedToBeRemovedForModification_Item_t              *p_RICaction_FailedToBeRemovedForModification_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_FailedToBeRemovedForModification_Item->ricActionID,
                                                &p_RICaction_FailedToBeRemovedForModification_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode cause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICaction_FailedToBeRemovedForModification_Item->cause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_RICaction_FailedToBeRemovedForModification_Item->cause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_RICaction_FailedToBeRemovedForModification_Item->cause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_RICaction_FailedToBeRemovedForModification_Item->cause,
                                                &p_RICaction_FailedToBeRemovedForModification_Item->cause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode cause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_FailedToBeRemovedForModification_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_FailedToBeRemovedForModification_List,
                _e2ap_RICactions_FailedToBeRemovedForModification_List_t       *p_RICactions_FailedToBeRemovedForModification_List
){
    e2ap_RICaction_FailedToBeRemovedForModification_ItemIEs   *p_RICaction_FailedToBeRemovedForModification_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_FailedToBeRemovedForModification_List->id_RICaction_FailedToBeRemovedForModification_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_FailedToBeRemovedForModification_ItemIEs,
                                &p_node_list,
                                &p_RICaction_FailedToBeRemovedForModification_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-FailedToBeRemovedForModification-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_FailedToBeRemovedForModification_ItemIEs(p_RICaction_FailedToBeRemovedForModification_ItemIEs);
        p_RICaction_FailedToBeRemovedForModification_ItemIEs->id = ASN1V_e2ap_id_RICaction_FailedToBeRemovedForModification_Item;
        p_RICaction_FailedToBeRemovedForModification_ItemIEs->criticality = e2ap_reject;
        p_RICaction_FailedToBeRemovedForModification_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_FailedToBeRemovedForModification_ItemIEs_id_RICaction_FailedToBeRemovedForModification_Item;
        p_RICaction_FailedToBeRemovedForModification_ItemIEs->value.u._e2apRICaction_FailedToBeRemovedForModification_ItemIEs_id_RICaction_FailedToBeRemovedForModification_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_FailedToBeRemovedForModification_ItemIEs);
        if(GNB_PNULL==p_RICaction_FailedToBeRemovedForModification_ItemIEs->value.u._e2apRICaction_FailedToBeRemovedForModification_ItemIEs_id_RICaction_FailedToBeRemovedForModification_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-FailedToBeRemovedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_FailedToBeRemovedForModification_Item(p_asn1_ctx,
                                                p_RICaction_FailedToBeRemovedForModification_ItemIEs->value.u._e2apRICaction_FailedToBeRemovedForModification_ItemIEs_id_RICaction_FailedToBeRemovedForModification_Item,
                                                &p_RICactions_FailedToBeRemovedForModification_List->id_RICaction_FailedToBeRemovedForModification_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-FailedToBeRemovedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_FailedToBeRemovedForModification_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_ModifiedForModification_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_ModifiedForModification_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_ModifiedForModification_Item                 *p_e2ap_RICaction_ModifiedForModification_Item, //dest
                _e2ap_RICaction_ModifiedForModification_Item_t              *p_RICaction_ModifiedForModification_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_ModifiedForModification_Item->ricActionID,
                                                &p_RICaction_ModifiedForModification_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_ModifiedForModification_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_ModifiedForModification_List,
                _e2ap_RICactions_ModifiedForModification_List_t       *p_RICactions_ModifiedForModification_List
){
    e2ap_RICaction_ModifiedForModification_ItemIEs   *p_RICaction_ModifiedForModification_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_ModifiedForModification_List->id_RICaction_ModifiedForModification_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_ModifiedForModification_ItemIEs,
                                &p_node_list,
                                &p_RICaction_ModifiedForModification_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ModifiedForModification-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_ModifiedForModification_ItemIEs(p_RICaction_ModifiedForModification_ItemIEs);
        p_RICaction_ModifiedForModification_ItemIEs->id = ASN1V_e2ap_id_RICaction_ModifiedForModification_Item;
        p_RICaction_ModifiedForModification_ItemIEs->criticality = e2ap_reject;
        p_RICaction_ModifiedForModification_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_ModifiedForModification_ItemIEs_id_RICaction_ModifiedForModification_Item;
        p_RICaction_ModifiedForModification_ItemIEs->value.u._e2apRICaction_ModifiedForModification_ItemIEs_id_RICaction_ModifiedForModification_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_ModifiedForModification_ItemIEs);
        if(GNB_PNULL==p_RICaction_ModifiedForModification_ItemIEs->value.u._e2apRICaction_ModifiedForModification_ItemIEs_id_RICaction_ModifiedForModification_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ModifiedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_ModifiedForModification_Item(p_asn1_ctx,
                                                p_RICaction_ModifiedForModification_ItemIEs->value.u._e2apRICaction_ModifiedForModification_ItemIEs_id_RICaction_ModifiedForModification_Item,
                                                &p_RICactions_ModifiedForModification_List->id_RICaction_ModifiedForModification_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-ModifiedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_ModifiedForModification_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_FailedToBeModifiedForModification_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_FailedToBeModifiedForModification_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_FailedToBeModifiedForModification_Item                 *p_e2ap_RICaction_FailedToBeModifiedForModification_Item, //dest
                _e2ap_RICaction_FailedToBeModifiedForModification_Item_t              *p_RICaction_FailedToBeModifiedForModification_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_FailedToBeModifiedForModification_Item->ricActionID,
                                                &p_RICaction_FailedToBeModifiedForModification_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode cause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICaction_FailedToBeModifiedForModification_Item->cause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_RICaction_FailedToBeModifiedForModification_Item->cause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_RICaction_FailedToBeModifiedForModification_Item->cause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_RICaction_FailedToBeModifiedForModification_Item->cause,
                                                &p_RICaction_FailedToBeModifiedForModification_Item->cause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode cause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_FailedToBeModifiedForModification_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_FailedToBeModifiedForModification_List,
                _e2ap_RICactions_FailedToBeModifiedForModification_List_t       *p_RICactions_FailedToBeModifiedForModification_List
){
    e2ap_RICaction_FailedToBeModifiedForModification_ItemIEs   *p_RICaction_FailedToBeModifiedForModification_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_FailedToBeModifiedForModification_List->id_RICaction_FailedToBeModifiedForModification_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_FailedToBeModifiedForModification_ItemIEs,
                                &p_node_list,
                                &p_RICaction_FailedToBeModifiedForModification_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-FailedToBeModifiedForModification-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_FailedToBeModifiedForModification_ItemIEs(p_RICaction_FailedToBeModifiedForModification_ItemIEs);
        p_RICaction_FailedToBeModifiedForModification_ItemIEs->id = ASN1V_e2ap_id_RICaction_FailedToBeModifiedForModification_Item;
        p_RICaction_FailedToBeModifiedForModification_ItemIEs->criticality = e2ap_reject;
        p_RICaction_FailedToBeModifiedForModification_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_FailedToBeModifiedForModification_ItemIEs_id_RICaction_FailedToBeModifiedForModification_Item;
        p_RICaction_FailedToBeModifiedForModification_ItemIEs->value.u._e2apRICaction_FailedToBeModifiedForModification_ItemIEs_id_RICaction_FailedToBeModifiedForModification_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_FailedToBeModifiedForModification_ItemIEs);
        if(GNB_PNULL==p_RICaction_FailedToBeModifiedForModification_ItemIEs->value.u._e2apRICaction_FailedToBeModifiedForModification_ItemIEs_id_RICaction_FailedToBeModifiedForModification_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-FailedToBeModifiedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_FailedToBeModifiedForModification_Item(p_asn1_ctx,
                                                p_RICaction_FailedToBeModifiedForModification_ItemIEs->value.u._e2apRICaction_FailedToBeModifiedForModification_ItemIEs_id_RICaction_FailedToBeModifiedForModification_Item,
                                                &p_RICactions_FailedToBeModifiedForModification_List->id_RICaction_FailedToBeModifiedForModification_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-FailedToBeModifiedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_FailedToBeModifiedForModification_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_AddedForModification_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_AddedForModification_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_AddedForModification_Item                 *p_e2ap_RICaction_AddedForModification_Item, //dest
                _e2ap_RICaction_AddedForModification_Item_t              *p_RICaction_AddedForModification_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_AddedForModification_Item->ricActionID,
                                                &p_RICaction_AddedForModification_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_AddedForModification_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_AddedForModification_List,
                _e2ap_RICactions_AddedForModification_List_t       *p_RICactions_AddedForModification_List
){
    e2ap_RICaction_AddedForModification_ItemIEs   *p_RICaction_AddedForModification_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_AddedForModification_List->id_RICaction_AddedForModification_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_AddedForModification_ItemIEs,
                                &p_node_list,
                                &p_RICaction_AddedForModification_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-AddedForModification-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_AddedForModification_ItemIEs(p_RICaction_AddedForModification_ItemIEs);
        p_RICaction_AddedForModification_ItemIEs->id = ASN1V_e2ap_id_RICaction_AddedForModification_Item;
        p_RICaction_AddedForModification_ItemIEs->criticality = e2ap_reject;
        p_RICaction_AddedForModification_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_AddedForModification_ItemIEs_id_RICaction_AddedForModification_Item;
        p_RICaction_AddedForModification_ItemIEs->value.u._e2apRICaction_AddedForModification_ItemIEs_id_RICaction_AddedForModification_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_AddedForModification_ItemIEs);
        if(GNB_PNULL==p_RICaction_AddedForModification_ItemIEs->value.u._e2apRICaction_AddedForModification_ItemIEs_id_RICaction_AddedForModification_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-AddedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_AddedForModification_Item(p_asn1_ctx,
                                                p_RICaction_AddedForModification_ItemIEs->value.u._e2apRICaction_AddedForModification_ItemIEs_id_RICaction_AddedForModification_Item,
                                                &p_RICactions_AddedForModification_List->id_RICaction_AddedForModification_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-AddedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_AddedForModification_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_FailedToBeAddedForModification_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_FailedToBeAddedForModification_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_FailedToBeAddedForModification_Item                 *p_e2ap_RICaction_FailedToBeAddedForModification_Item, //dest
                _e2ap_RICaction_FailedToBeAddedForModification_Item_t              *p_RICaction_FailedToBeAddedForModification_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_FailedToBeAddedForModification_Item->ricActionID,
                                                &p_RICaction_FailedToBeAddedForModification_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode cause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICaction_FailedToBeAddedForModification_Item->cause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_RICaction_FailedToBeAddedForModification_Item->cause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_RICaction_FailedToBeAddedForModification_Item->cause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_RICaction_FailedToBeAddedForModification_Item->cause,
                                                &p_RICaction_FailedToBeAddedForModification_Item->cause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode cause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_FailedToBeAddedForModification_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_FailedToBeAddedForModification_List,
                _e2ap_RICactions_FailedToBeAddedForModification_List_t       *p_RICactions_FailedToBeAddedForModification_List
){
    e2ap_RICaction_FailedToBeAddedForModification_ItemIEs   *p_RICaction_FailedToBeAddedForModification_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_FailedToBeAddedForModification_List->id_RICaction_FailedToBeAddedForModification_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_FailedToBeAddedForModification_ItemIEs,
                                &p_node_list,
                                &p_RICaction_FailedToBeAddedForModification_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-FailedToBeAddedForModification-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_FailedToBeAddedForModification_ItemIEs(p_RICaction_FailedToBeAddedForModification_ItemIEs);
        p_RICaction_FailedToBeAddedForModification_ItemIEs->id = ASN1V_e2ap_id_RICaction_FailedToBeAddedForModification_Item;
        p_RICaction_FailedToBeAddedForModification_ItemIEs->criticality = e2ap_reject;
        p_RICaction_FailedToBeAddedForModification_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_FailedToBeAddedForModification_ItemIEs_id_RICaction_FailedToBeAddedForModification_Item;
        p_RICaction_FailedToBeAddedForModification_ItemIEs->value.u._e2apRICaction_FailedToBeAddedForModification_ItemIEs_id_RICaction_FailedToBeAddedForModification_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_FailedToBeAddedForModification_ItemIEs);
        if(GNB_PNULL==p_RICaction_FailedToBeAddedForModification_ItemIEs->value.u._e2apRICaction_FailedToBeAddedForModification_ItemIEs_id_RICaction_FailedToBeAddedForModification_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-FailedToBeAddedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_FailedToBeAddedForModification_Item(p_asn1_ctx,
                                                p_RICaction_FailedToBeAddedForModification_ItemIEs->value.u._e2apRICaction_FailedToBeAddedForModification_ItemIEs_id_RICaction_FailedToBeAddedForModification_Item,
                                                &p_RICactions_FailedToBeAddedForModification_List->id_RICaction_FailedToBeAddedForModification_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-FailedToBeAddedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_FailedToBeAddedForModification_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICsubscriptionModificationResponse                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionModificationResponse
    RICsubscriptionModificationResponse-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICactions-RemovedForModification-List
            RICaction-RemovedForModification-ItemIEs
                RICaction-RemovedForModification-Item
                    RICactionID
        RICactions-FailedToBeRemovedForModification-List
            RICaction-FailedToBeRemovedForModification-ItemIEs
                RICaction-FailedToBeRemovedForModification-Item
                    RICactionID
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause
        RICactions-ModifiedForModification-List
            RICaction-ModifiedForModification-ItemIEs
                RICaction-ModifiedForModification-Item
                    RICactionID
        RICactions-FailedToBeModifiedForModification-List
            RICaction-FailedToBeModifiedForModification-ItemIEs
                RICaction-FailedToBeModifiedForModification-Item
                    RICactionID
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause
        RICactions-AddedForModification-List
            RICaction-AddedForModification-ItemIEs
                RICaction-AddedForModification-Item
                    RICactionID
        RICactions-FailedToBeAddedForModification-List
            RICaction-FailedToBeAddedForModification-ItemIEs
                RICaction-FailedToBeAddedForModification-Item
                    RICactionID
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause

*/
xnap_return_et e2ap_encode_RICsubscriptionModificationResponse(
                e2ap_RICsubscriptionModificationResponse_t* p_RICsubscriptionModificationResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICrequestID.ricRequestorID
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICrequestID.ricInstanceID
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICrequestID
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RANfunctionID
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-RemovedForModification-List.RICaction-RemovedForModification-ItemIEs.RICaction-RemovedForModification-Item.RICactionID
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-RemovedForModification-List.RICaction-RemovedForModification-ItemIEs.RICaction-RemovedForModification-Item
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-RemovedForModification-List.RICaction-RemovedForModification-ItemIEs
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-RemovedForModification-List
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item.RICactionID
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item.Cause.CauseRICrequest
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item.Cause.CauseRICservice
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item.Cause.CauseE2node
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item.Cause.CauseTransport
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item.Cause.CauseProtocol
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item.Cause.CauseMisc
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item.Cause.CauseServiceLayer
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item.Cause
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs.RICaction-FailedToBeRemovedForModification-Item
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List.RICaction-FailedToBeRemovedForModification-ItemIEs
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeRemovedForModification-List
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-ModifiedForModification-List.RICaction-ModifiedForModification-ItemIEs.RICaction-ModifiedForModification-Item.RICactionID
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-ModifiedForModification-List.RICaction-ModifiedForModification-ItemIEs.RICaction-ModifiedForModification-Item
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-ModifiedForModification-List.RICaction-ModifiedForModification-ItemIEs
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-ModifiedForModification-List
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item.RICactionID
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item.Cause.CauseRICrequest
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item.Cause.CauseRICservice
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item.Cause.CauseE2node
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item.Cause.CauseTransport
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item.Cause.CauseProtocol
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item.Cause.CauseMisc
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item.Cause.CauseServiceLayer
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item.Cause
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs.RICaction-FailedToBeModifiedForModification-Item
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List.RICaction-FailedToBeModifiedForModification-ItemIEs
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeModifiedForModification-List
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-AddedForModification-List.RICaction-AddedForModification-ItemIEs.RICaction-AddedForModification-Item.RICactionID
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-AddedForModification-List.RICaction-AddedForModification-ItemIEs.RICaction-AddedForModification-Item
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-AddedForModification-List.RICaction-AddedForModification-ItemIEs
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-AddedForModification-List
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item.RICactionID
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item.Cause.CauseRICrequest
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item.Cause.CauseRICservice
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item.Cause.CauseE2node
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item.Cause.CauseTransport
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item.Cause.CauseProtocol
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item.Cause.CauseMisc
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item.Cause.CauseServiceLayer
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item.Cause
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs.RICaction-FailedToBeAddedForModification-Item
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List.RICaction-FailedToBeAddedForModification-ItemIEs
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs.RICactions-FailedToBeAddedForModification-List
// RICsubscriptionModificationResponse.RICsubscriptionModificationResponse-IEs
// RICsubscriptionModificationResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionModificationResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionModificationResponse* p_RICsubscriptionModificationResponse = GNB_PNULL;
    e2ap_RICsubscriptionModificationResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscriptionModification;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionModificationResponse;
        p_RICsubscriptionModificationResponse = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionModificationResponse);
        if(GNB_PNULL==p_RICsubscriptionModificationResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionModificationResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionModificationResponse",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionModificationResponse(p_RICsubscriptionModificationResponse);
        e2ap_pdu.u.successfulOutcome->value.u.ricSubscriptionModification = p_RICsubscriptionModificationResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationResponse_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICrequestID,
                                &p_RICsubscriptionModificationResponse->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationResponse_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RANfunctionID = p_RICsubscriptionModificationResponse->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICactionsRemovedForModification_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsRemovedForModification_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationResponse_IEs_id_RICactionsRemovedForModification_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsRemovedForModification_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_RemovedForModification_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsRemovedForModification_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsRemovedForModification_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_RemovedForModification_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsRemovedForModification_List);
            #endif
            //message_name.item_type -> type = RICactions_RemovedForModification_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_RemovedForModification_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsRemovedForModification_List,
                                &p_RICsubscriptionModificationResponse->id_RICactionsRemovedForModification_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_RemovedForModification_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_RemovedForModification_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICactionsFailedToBeRemovedForModification_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsFailedToBeRemovedForModification_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeRemovedForModification_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeRemovedForModification_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_FailedToBeRemovedForModification_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeRemovedForModification_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsFailedToBeRemovedForModification_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_FailedToBeRemovedForModification_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeRemovedForModification_List);
            #endif
            //message_name.item_type -> type = RICactions_FailedToBeRemovedForModification_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_FailedToBeRemovedForModification_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeRemovedForModification_List,
                                &p_RICsubscriptionModificationResponse->id_RICactionsFailedToBeRemovedForModification_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_FailedToBeRemovedForModification_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_FailedToBeRemovedForModification_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_RICactionsModifiedForModification_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsModifiedForModification_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationResponse_IEs_id_RICactionsModifiedForModification_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsModifiedForModification_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_ModifiedForModification_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsModifiedForModification_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsModifiedForModification_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_ModifiedForModification_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsModifiedForModification_List);
            #endif
            //message_name.item_type -> type = RICactions_ModifiedForModification_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_ModifiedForModification_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsModifiedForModification_List,
                                &p_RICsubscriptionModificationResponse->id_RICactionsModifiedForModification_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_ModifiedForModification_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_ModifiedForModification_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-6   encode id_RICactionsFailedToBeModifiedForModification_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsFailedToBeModifiedForModification_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeModifiedForModification_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeModifiedForModification_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_FailedToBeModifiedForModification_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeModifiedForModification_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsFailedToBeModifiedForModification_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_FailedToBeModifiedForModification_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeModifiedForModification_List);
            #endif
            //message_name.item_type -> type = RICactions_FailedToBeModifiedForModification_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_FailedToBeModifiedForModification_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeModifiedForModification_List,
                                &p_RICsubscriptionModificationResponse->id_RICactionsFailedToBeModifiedForModification_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_FailedToBeModifiedForModification_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_FailedToBeModifiedForModification_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-7   encode id_RICactionsAddedForModification_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsAddedForModification_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationResponse_IEs_id_RICactionsAddedForModification_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsAddedForModification_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_AddedForModification_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsAddedForModification_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsAddedForModification_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_AddedForModification_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsAddedForModification_List);
            #endif
            //message_name.item_type -> type = RICactions_AddedForModification_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_AddedForModification_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsAddedForModification_List,
                                &p_RICsubscriptionModificationResponse->id_RICactionsAddedForModification_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_AddedForModification_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_AddedForModification_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-8   encode id_RICactionsFailedToBeAddedForModification_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsFailedToBeAddedForModification_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeAddedForModification_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeAddedForModification_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_FailedToBeAddedForModification_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeAddedForModification_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsFailedToBeAddedForModification_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_FailedToBeAddedForModification_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeAddedForModification_List);
            #endif
            //message_name.item_type -> type = RICactions_FailedToBeAddedForModification_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_FailedToBeAddedForModification_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationResponse_IEs_id_RICactionsFailedToBeAddedForModification_List,
                                &p_RICsubscriptionModificationResponse->id_RICactionsFailedToBeAddedForModification_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_FailedToBeAddedForModification_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_FailedToBeAddedForModification_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICsubscriptionModificationFailure                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionModificationFailure
    RICsubscriptionModificationFailure-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICsubscriptionModificationFailure(
                e2ap_RICsubscriptionModificationFailure_t* p_RICsubscriptionModificationFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.RICrequestID.ricRequestorID
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.RICrequestID.ricInstanceID
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.RICrequestID
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.RANfunctionID
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.Cause.CauseRICrequest
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.Cause.CauseRICservice
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.Cause.CauseE2node
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.Cause.CauseTransport
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.Cause.CauseProtocol
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.Cause.CauseMisc
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.Cause.CauseServiceLayer
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.Cause
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.CriticalityDiagnostics.ProcedureCode
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.CriticalityDiagnostics.Criticality
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.CriticalityDiagnostics.RICrequestID
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs.CriticalityDiagnostics
// RICsubscriptionModificationFailure.RICsubscriptionModificationFailure-IEs
// RICsubscriptionModificationFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionModificationFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionModificationFailure* p_RICsubscriptionModificationFailure = GNB_PNULL;
    e2ap_RICsubscriptionModificationFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscriptionModification;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionModificationFailure;
        p_RICsubscriptionModificationFailure = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionModificationFailure);
        if(GNB_PNULL==p_RICsubscriptionModificationFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionModificationFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionModificationFailure",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionModificationFailure(p_RICsubscriptionModificationFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricSubscriptionModification = p_RICsubscriptionModificationFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationFailure_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_RICrequestID,
                                &p_RICsubscriptionModificationFailure->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationFailure_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_RANfunctionID = p_RICsubscriptionModificationFailure->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_Cause,
                                &p_RICsubscriptionModificationFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationFailure_IEs_id_CriticalityDiagnostics,
                                &p_RICsubscriptionModificationFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE RICaction_RequiredToBeModified_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_RequiredToBeModified_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_RequiredToBeModified_Item                 *p_e2ap_RICaction_RequiredToBeModified_Item, //dest
                _e2ap_RICaction_RequiredToBeModified_Item_t              *p_RICaction_RequiredToBeModified_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_RequiredToBeModified_Item->ricActionID,
                                                &p_RICaction_RequiredToBeModified_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode ricTimeToWait alias-id = 13 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICtimeToWait(p_asn1_ctx,
                                                &p_e2ap_RICaction_RequiredToBeModified_Item->ricTimeToWait,
                                                &p_RICaction_RequiredToBeModified_Item->ricTimeToWait))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricTimeToWait",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricTimeToWait*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_RequiredToBeModified_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_RequiredToBeModified_List,
                _e2ap_RICactions_RequiredToBeModified_List_t       *p_RICactions_RequiredToBeModified_List
){
    e2ap_RICaction_RequiredToBeModified_ItemIEs   *p_RICaction_RequiredToBeModified_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_RequiredToBeModified_List->id_RICaction_RequiredToBeModified_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_RequiredToBeModified_ItemIEs,
                                &p_node_list,
                                &p_RICaction_RequiredToBeModified_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-RequiredToBeModified-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_RequiredToBeModified_ItemIEs(p_RICaction_RequiredToBeModified_ItemIEs);
        p_RICaction_RequiredToBeModified_ItemIEs->id = ASN1V_e2ap_id_RICaction_RequiredToBeModified_Item;
        p_RICaction_RequiredToBeModified_ItemIEs->criticality = e2ap_reject;
        p_RICaction_RequiredToBeModified_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_RequiredToBeModified_ItemIEs_id_RICaction_RequiredToBeModified_Item;
        p_RICaction_RequiredToBeModified_ItemIEs->value.u._e2apRICaction_RequiredToBeModified_ItemIEs_id_RICaction_RequiredToBeModified_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_RequiredToBeModified_ItemIEs);
        if(GNB_PNULL==p_RICaction_RequiredToBeModified_ItemIEs->value.u._e2apRICaction_RequiredToBeModified_ItemIEs_id_RICaction_RequiredToBeModified_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-RequiredToBeModified-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_RequiredToBeModified_Item(p_asn1_ctx,
                                                p_RICaction_RequiredToBeModified_ItemIEs->value.u._e2apRICaction_RequiredToBeModified_ItemIEs_id_RICaction_RequiredToBeModified_Item,
                                                &p_RICactions_RequiredToBeModified_List->id_RICaction_RequiredToBeModified_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-RequiredToBeModified-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_RequiredToBeModified_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_RequiredToBeRemoved_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_RequiredToBeRemoved_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_RequiredToBeRemoved_Item                 *p_e2ap_RICaction_RequiredToBeRemoved_Item, //dest
                _e2ap_RICaction_RequiredToBeRemoved_Item_t              *p_RICaction_RequiredToBeRemoved_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_RequiredToBeRemoved_Item->ricActionID,
                                                &p_RICaction_RequiredToBeRemoved_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode cause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICaction_RequiredToBeRemoved_Item->cause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_RICaction_RequiredToBeRemoved_Item->cause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_RICaction_RequiredToBeRemoved_Item->cause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_RICaction_RequiredToBeRemoved_Item->cause,
                                                &p_RICaction_RequiredToBeRemoved_Item->cause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode cause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_RequiredToBeRemoved_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_RequiredToBeRemoved_List,
                _e2ap_RICactions_RequiredToBeRemoved_List_t       *p_RICactions_RequiredToBeRemoved_List
){
    e2ap_RICaction_RequiredToBeRemoved_ItemIEs   *p_RICaction_RequiredToBeRemoved_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_RequiredToBeRemoved_List->id_RICaction_RequiredToBeRemoved_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_RequiredToBeRemoved_ItemIEs,
                                &p_node_list,
                                &p_RICaction_RequiredToBeRemoved_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-RequiredToBeRemoved-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_RequiredToBeRemoved_ItemIEs(p_RICaction_RequiredToBeRemoved_ItemIEs);
        p_RICaction_RequiredToBeRemoved_ItemIEs->id = ASN1V_e2ap_id_RICaction_RequiredToBeRemoved_Item;
        p_RICaction_RequiredToBeRemoved_ItemIEs->criticality = e2ap_reject;
        p_RICaction_RequiredToBeRemoved_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_RequiredToBeRemoved_ItemIEs_id_RICaction_RequiredToBeRemoved_Item;
        p_RICaction_RequiredToBeRemoved_ItemIEs->value.u._e2apRICaction_RequiredToBeRemoved_ItemIEs_id_RICaction_RequiredToBeRemoved_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_RequiredToBeRemoved_ItemIEs);
        if(GNB_PNULL==p_RICaction_RequiredToBeRemoved_ItemIEs->value.u._e2apRICaction_RequiredToBeRemoved_ItemIEs_id_RICaction_RequiredToBeRemoved_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-RequiredToBeRemoved-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_RequiredToBeRemoved_Item(p_asn1_ctx,
                                                p_RICaction_RequiredToBeRemoved_ItemIEs->value.u._e2apRICaction_RequiredToBeRemoved_ItemIEs_id_RICaction_RequiredToBeRemoved_Item,
                                                &p_RICactions_RequiredToBeRemoved_List->id_RICaction_RequiredToBeRemoved_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-RequiredToBeRemoved-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_RequiredToBeRemoved_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICsubscriptionModificationRequired                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionModificationRequired
    RICsubscriptionModificationRequired-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICactions-RequiredToBeModified-List
            RICaction-RequiredToBeModified-ItemIEs
                RICaction-RequiredToBeModified-Item
                    RICactionID
                    RICtimeToWait
        RICactions-RequiredToBeRemoved-List
            RICaction-RequiredToBeRemoved-ItemIEs
                RICaction-RequiredToBeRemoved-Item
                    RICactionID
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause

*/
xnap_return_et e2ap_encode_RICsubscriptionModificationRequired(
                e2ap_RICsubscriptionModificationRequired_t* p_RICsubscriptionModificationRequired,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICrequestID.ricRequestorID
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICrequestID.ricInstanceID
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICrequestID
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RANfunctionID
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeModified-List.RICaction-RequiredToBeModified-ItemIEs.RICaction-RequiredToBeModified-Item.RICactionID
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeModified-List.RICaction-RequiredToBeModified-ItemIEs.RICaction-RequiredToBeModified-Item.RICtimeToWait
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeModified-List.RICaction-RequiredToBeModified-ItemIEs.RICaction-RequiredToBeModified-Item
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeModified-List.RICaction-RequiredToBeModified-ItemIEs
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeModified-List
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item.RICactionID
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item.Cause.CauseRICrequest
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item.Cause.CauseRICservice
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item.Cause.CauseE2node
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item.Cause.CauseTransport
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item.Cause.CauseProtocol
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item.Cause.CauseMisc
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item.Cause.CauseServiceLayer
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item.Cause
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs.RICaction-RequiredToBeRemoved-Item
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List.RICaction-RequiredToBeRemoved-ItemIEs
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs.RICactions-RequiredToBeRemoved-List
// RICsubscriptionModificationRequired.RICsubscriptionModificationRequired-IEs
// RICsubscriptionModificationRequired

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionModificationRequired o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionModificationRequired* p_RICsubscriptionModificationRequired = GNB_PNULL;
    e2ap_RICsubscriptionModificationRequired_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICsubscriptionModificationRequired;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionModificationRequired;
        p_RICsubscriptionModificationRequired = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionModificationRequired);
        if(GNB_PNULL==p_RICsubscriptionModificationRequired){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionModificationRequired",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionModificationRequired",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionModificationRequired(p_RICsubscriptionModificationRequired);
        e2ap_pdu.u.initiatingMessage->value.u.ricSubscriptionModificationRequired = p_RICsubscriptionModificationRequired;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRequired_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRequired_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRequired_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRequired_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICrequestID,
                                &p_RICsubscriptionModificationRequired->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRequired->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRequired_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRequired_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRequired_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRequired_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RANfunctionID = p_RICsubscriptionModificationRequired->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRequired->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICactionsRequiredToBeModified_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRequired_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRequired_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRequired_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsRequiredToBeModified_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRequired_IEs_id_RICactionsRequiredToBeModified_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICactionsRequiredToBeModified_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_RequiredToBeModified_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICactionsRequiredToBeModified_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsRequiredToBeModified_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_RequiredToBeModified_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICactionsRequiredToBeModified_List);
            #endif
            //message_name.item_type -> type = RICactions_RequiredToBeModified_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_RequiredToBeModified_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICactionsRequiredToBeModified_List,
                                &p_RICsubscriptionModificationRequired->id_RICactionsRequiredToBeModified_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_RequiredToBeModified_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_RequiredToBeModified_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRequired->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICactionsRequiredToBeRemoved_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRequired_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRequired_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRequired_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsRequiredToBeRemoved_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRequired_IEs_id_RICactionsRequiredToBeRemoved_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICactionsRequiredToBeRemoved_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_RequiredToBeRemoved_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICactionsRequiredToBeRemoved_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsRequiredToBeRemoved_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_RequiredToBeRemoved_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICactionsRequiredToBeRemoved_List);
            #endif
            //message_name.item_type -> type = RICactions_RequiredToBeRemoved_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_RequiredToBeRemoved_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRequired_IEs_id_RICactionsRequiredToBeRemoved_List,
                                &p_RICsubscriptionModificationRequired->id_RICactionsRequiredToBeRemoved_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_RequiredToBeRemoved_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_RequiredToBeRemoved_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRequired->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE RICaction_ConfirmedForModification_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_ConfirmedForModification_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_ConfirmedForModification_Item                 *p_e2ap_RICaction_ConfirmedForModification_Item, //dest
                _e2ap_RICaction_ConfirmedForModification_Item_t              *p_RICaction_ConfirmedForModification_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_ConfirmedForModification_Item->ricActionID,
                                                &p_RICaction_ConfirmedForModification_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_ConfirmedForModification_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_ConfirmedForModification_List,
                _e2ap_RICactions_ConfirmedForModification_List_t       *p_RICactions_ConfirmedForModification_List
){
    e2ap_RICaction_ConfirmedForModification_ItemIEs   *p_RICaction_ConfirmedForModification_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_ConfirmedForModification_List->id_RICaction_ConfirmedForModification_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_ConfirmedForModification_ItemIEs,
                                &p_node_list,
                                &p_RICaction_ConfirmedForModification_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ConfirmedForModification-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_ConfirmedForModification_ItemIEs(p_RICaction_ConfirmedForModification_ItemIEs);
        p_RICaction_ConfirmedForModification_ItemIEs->id = ASN1V_e2ap_id_RICaction_ConfirmedForModification_Item;
        p_RICaction_ConfirmedForModification_ItemIEs->criticality = e2ap_reject;
        p_RICaction_ConfirmedForModification_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_ConfirmedForModification_ItemIEs_id_RICaction_ConfirmedForModification_Item;
        p_RICaction_ConfirmedForModification_ItemIEs->value.u._e2apRICaction_ConfirmedForModification_ItemIEs_id_RICaction_ConfirmedForModification_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_ConfirmedForModification_ItemIEs);
        if(GNB_PNULL==p_RICaction_ConfirmedForModification_ItemIEs->value.u._e2apRICaction_ConfirmedForModification_ItemIEs_id_RICaction_ConfirmedForModification_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ConfirmedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_ConfirmedForModification_Item(p_asn1_ctx,
                                                p_RICaction_ConfirmedForModification_ItemIEs->value.u._e2apRICaction_ConfirmedForModification_ItemIEs_id_RICaction_ConfirmedForModification_Item,
                                                &p_RICactions_ConfirmedForModification_List->id_RICaction_ConfirmedForModification_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-ConfirmedForModification-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_ConfirmedForModification_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_RefusedToBeModified_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_RefusedToBeModified_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_RefusedToBeModified_Item                 *p_e2ap_RICaction_RefusedToBeModified_Item, //dest
                _e2ap_RICaction_RefusedToBeModified_Item_t              *p_RICaction_RefusedToBeModified_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_RefusedToBeModified_Item->ricActionID,
                                                &p_RICaction_RefusedToBeModified_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode cause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICaction_RefusedToBeModified_Item->cause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_RICaction_RefusedToBeModified_Item->cause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_RICaction_RefusedToBeModified_Item->cause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_RICaction_RefusedToBeModified_Item->cause,
                                                &p_RICaction_RefusedToBeModified_Item->cause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode cause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_RefusedToBeModified_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_RefusedToBeModified_List,
                _e2ap_RICactions_RefusedToBeModified_List_t       *p_RICactions_RefusedToBeModified_List
){
    e2ap_RICaction_RefusedToBeModified_ItemIEs   *p_RICaction_RefusedToBeModified_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_RefusedToBeModified_List->id_RICaction_RefusedToBeModified_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_RefusedToBeModified_ItemIEs,
                                &p_node_list,
                                &p_RICaction_RefusedToBeModified_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-RefusedToBeModified-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_RefusedToBeModified_ItemIEs(p_RICaction_RefusedToBeModified_ItemIEs);
        p_RICaction_RefusedToBeModified_ItemIEs->id = ASN1V_e2ap_id_RICaction_RefusedToBeModified_Item;
        p_RICaction_RefusedToBeModified_ItemIEs->criticality = e2ap_reject;
        p_RICaction_RefusedToBeModified_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_RefusedToBeModified_ItemIEs_id_RICaction_RefusedToBeModified_Item;
        p_RICaction_RefusedToBeModified_ItemIEs->value.u._e2apRICaction_RefusedToBeModified_ItemIEs_id_RICaction_RefusedToBeModified_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_RefusedToBeModified_ItemIEs);
        if(GNB_PNULL==p_RICaction_RefusedToBeModified_ItemIEs->value.u._e2apRICaction_RefusedToBeModified_ItemIEs_id_RICaction_RefusedToBeModified_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-RefusedToBeModified-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_RefusedToBeModified_Item(p_asn1_ctx,
                                                p_RICaction_RefusedToBeModified_ItemIEs->value.u._e2apRICaction_RefusedToBeModified_ItemIEs_id_RICaction_RefusedToBeModified_Item,
                                                &p_RICactions_RefusedToBeModified_List->id_RICaction_RefusedToBeModified_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-RefusedToBeModified-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_RefusedToBeModified_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_ConfirmedForRemoval_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_ConfirmedForRemoval_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_ConfirmedForRemoval_Item                 *p_e2ap_RICaction_ConfirmedForRemoval_Item, //dest
                _e2ap_RICaction_ConfirmedForRemoval_Item_t              *p_RICaction_ConfirmedForRemoval_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_ConfirmedForRemoval_Item->ricActionID,
                                                &p_RICaction_ConfirmedForRemoval_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_ConfirmedForRemoval_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_ConfirmedForRemoval_List,
                _e2ap_RICactions_ConfirmedForRemoval_List_t       *p_RICactions_ConfirmedForRemoval_List
){
    e2ap_RICaction_ConfirmedForRemoval_ItemIEs   *p_RICaction_ConfirmedForRemoval_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_ConfirmedForRemoval_List->id_RICaction_ConfirmedForRemoval_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_ConfirmedForRemoval_ItemIEs,
                                &p_node_list,
                                &p_RICaction_ConfirmedForRemoval_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ConfirmedForRemoval-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_ConfirmedForRemoval_ItemIEs(p_RICaction_ConfirmedForRemoval_ItemIEs);
        p_RICaction_ConfirmedForRemoval_ItemIEs->id = ASN1V_e2ap_id_RICaction_ConfirmedForRemoval_Item;
        p_RICaction_ConfirmedForRemoval_ItemIEs->criticality = e2ap_reject;
        p_RICaction_ConfirmedForRemoval_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_ConfirmedForRemoval_ItemIEs_id_RICaction_ConfirmedForRemoval_Item;
        p_RICaction_ConfirmedForRemoval_ItemIEs->value.u._e2apRICaction_ConfirmedForRemoval_ItemIEs_id_RICaction_ConfirmedForRemoval_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_ConfirmedForRemoval_ItemIEs);
        if(GNB_PNULL==p_RICaction_ConfirmedForRemoval_ItemIEs->value.u._e2apRICaction_ConfirmedForRemoval_ItemIEs_id_RICaction_ConfirmedForRemoval_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ConfirmedForRemoval-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_ConfirmedForRemoval_Item(p_asn1_ctx,
                                                p_RICaction_ConfirmedForRemoval_ItemIEs->value.u._e2apRICaction_ConfirmedForRemoval_ItemIEs_id_RICaction_ConfirmedForRemoval_Item,
                                                &p_RICactions_ConfirmedForRemoval_List->id_RICaction_ConfirmedForRemoval_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-ConfirmedForRemoval-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_ConfirmedForRemoval_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICaction_RefusedToBeRemoved_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICaction_RefusedToBeRemoved_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICaction_RefusedToBeRemoved_Item                 *p_e2ap_RICaction_RefusedToBeRemoved_Item, //dest
                _e2ap_RICaction_RefusedToBeRemoved_Item_t              *p_RICaction_RefusedToBeRemoved_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICaction_RefusedToBeRemoved_Item->ricActionID,
                                                &p_RICaction_RefusedToBeRemoved_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/

    {  /*SEQ_ELEM-2  Encode cause alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICaction_RefusedToBeRemoved_Item->cause = rtxMemAllocType(p_asn1_ctx, e2ap_Cause);
        if(XNAP_P_NULL == p_e2ap_RICaction_RefusedToBeRemoved_Item->cause)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_Cause(&p_e2ap_RICaction_RefusedToBeRemoved_Item->cause);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_Cause(p_asn1_ctx,
                                                &p_e2ap_RICaction_RefusedToBeRemoved_Item->cause,
                                                &p_RICaction_RefusedToBeRemoved_Item->cause))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field cause",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode cause*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICactions_RefusedToBeRemoved_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICactions_RefusedToBeRemoved_List,
                _e2ap_RICactions_RefusedToBeRemoved_List_t       *p_RICactions_RefusedToBeRemoved_List
){
    e2ap_RICaction_RefusedToBeRemoved_ItemIEs   *p_RICaction_RefusedToBeRemoved_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICactions_RefusedToBeRemoved_List->id_RICaction_RefusedToBeRemoved_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_RefusedToBeRemoved_ItemIEs,
                                &p_node_list,
                                &p_RICaction_RefusedToBeRemoved_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-RefusedToBeRemoved-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_RefusedToBeRemoved_ItemIEs(p_RICaction_RefusedToBeRemoved_ItemIEs);
        p_RICaction_RefusedToBeRemoved_ItemIEs->id = ASN1V_e2ap_id_RICaction_RefusedToBeRemoved_Item;
        p_RICaction_RefusedToBeRemoved_ItemIEs->criticality = e2ap_reject;
        p_RICaction_RefusedToBeRemoved_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_RefusedToBeRemoved_ItemIEs_id_RICaction_RefusedToBeRemoved_Item;
        p_RICaction_RefusedToBeRemoved_ItemIEs->value.u._e2apRICaction_RefusedToBeRemoved_ItemIEs_id_RICaction_RefusedToBeRemoved_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_RefusedToBeRemoved_ItemIEs);
        if(GNB_PNULL==p_RICaction_RefusedToBeRemoved_ItemIEs->value.u._e2apRICaction_RefusedToBeRemoved_ItemIEs_id_RICaction_RefusedToBeRemoved_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-RefusedToBeRemoved-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICaction_RefusedToBeRemoved_Item(p_asn1_ctx,
                                                p_RICaction_RefusedToBeRemoved_ItemIEs->value.u._e2apRICaction_RefusedToBeRemoved_ItemIEs_id_RICaction_RefusedToBeRemoved_Item,
                                                &p_RICactions_RefusedToBeRemoved_List->id_RICaction_RefusedToBeRemoved_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-RefusedToBeRemoved-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICactions_RefusedToBeRemoved_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICsubscriptionModificationConfirm                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionModificationConfirm
    RICsubscriptionModificationConfirm-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICactions-ConfirmedForModification-List
            RICaction-ConfirmedForModification-ItemIEs
                RICaction-ConfirmedForModification-Item
                    RICactionID
        RICactions-RefusedToBeModified-List
            RICaction-RefusedToBeModified-ItemIEs
                RICaction-RefusedToBeModified-Item
                    RICactionID
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause
        RICactions-ConfirmedForRemoval-List
            RICaction-ConfirmedForRemoval-ItemIEs
                RICaction-ConfirmedForRemoval-Item
                    RICactionID
        RICactions-RefusedToBeRemoved-List
            RICaction-RefusedToBeRemoved-ItemIEs
                RICaction-RefusedToBeRemoved-Item
                    RICactionID
                    Cause
                        CauseRICrequest
                        CauseRICservice
                        CauseE2node
                        CauseTransport
                        CauseProtocol
                        CauseMisc
                        CauseServiceLayer
                            ServiceLayerCause

*/
xnap_return_et e2ap_encode_RICsubscriptionModificationConfirm(
                e2ap_RICsubscriptionModificationConfirm_t* p_RICsubscriptionModificationConfirm,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICrequestID.ricRequestorID
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICrequestID.ricInstanceID
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICrequestID
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RANfunctionID
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-ConfirmedForModification-List.RICaction-ConfirmedForModification-ItemIEs.RICaction-ConfirmedForModification-Item.RICactionID
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-ConfirmedForModification-List.RICaction-ConfirmedForModification-ItemIEs.RICaction-ConfirmedForModification-Item
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-ConfirmedForModification-List.RICaction-ConfirmedForModification-ItemIEs
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-ConfirmedForModification-List
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item.RICactionID
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item.Cause.CauseRICrequest
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item.Cause.CauseRICservice
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item.Cause.CauseE2node
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item.Cause.CauseTransport
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item.Cause.CauseProtocol
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item.Cause.CauseMisc
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item.Cause.CauseServiceLayer
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item.Cause
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs.RICaction-RefusedToBeModified-Item
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List.RICaction-RefusedToBeModified-ItemIEs
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeModified-List
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-ConfirmedForRemoval-List.RICaction-ConfirmedForRemoval-ItemIEs.RICaction-ConfirmedForRemoval-Item.RICactionID
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-ConfirmedForRemoval-List.RICaction-ConfirmedForRemoval-ItemIEs.RICaction-ConfirmedForRemoval-Item
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-ConfirmedForRemoval-List.RICaction-ConfirmedForRemoval-ItemIEs
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-ConfirmedForRemoval-List
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item.RICactionID
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item.Cause.CauseRICrequest
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item.Cause.CauseRICservice
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item.Cause.CauseE2node
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item.Cause.CauseTransport
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item.Cause.CauseProtocol
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item.Cause.CauseMisc
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item.Cause.CauseServiceLayer
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item.Cause
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs.RICaction-RefusedToBeRemoved-Item
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List.RICaction-RefusedToBeRemoved-ItemIEs
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs.RICactions-RefusedToBeRemoved-List
// RICsubscriptionModificationConfirm.RICsubscriptionModificationConfirm-IEs
// RICsubscriptionModificationConfirm

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionModificationConfirm o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionModificationConfirm* p_RICsubscriptionModificationConfirm = GNB_PNULL;
    e2ap_RICsubscriptionModificationConfirm_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscriptionModificationRequired;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionModificationConfirm;
        p_RICsubscriptionModificationConfirm = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionModificationConfirm);
        if(GNB_PNULL==p_RICsubscriptionModificationConfirm){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionModificationConfirm",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionModificationConfirm",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionModificationConfirm(p_RICsubscriptionModificationConfirm);
        e2ap_pdu.u.successfulOutcome->value.u.ricSubscriptionModificationRequired = p_RICsubscriptionModificationConfirm;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationConfirm_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationConfirm_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationConfirm_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationConfirm_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICrequestID,
                                &p_RICsubscriptionModificationConfirm->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationConfirm->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationConfirm_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationConfirm_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationConfirm_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationConfirm_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RANfunctionID = p_RICsubscriptionModificationConfirm->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationConfirm->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICactionsConfirmedForModification_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationConfirm_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationConfirm_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationConfirm_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsConfirmedForModification_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationConfirm_IEs_id_RICactionsConfirmedForModification_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsConfirmedForModification_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_ConfirmedForModification_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsConfirmedForModification_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsConfirmedForModification_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_ConfirmedForModification_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsConfirmedForModification_List);
            #endif
            //message_name.item_type -> type = RICactions_ConfirmedForModification_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_ConfirmedForModification_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsConfirmedForModification_List,
                                &p_RICsubscriptionModificationConfirm->id_RICactionsConfirmedForModification_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_ConfirmedForModification_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_ConfirmedForModification_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationConfirm->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICactionsRefusedToBeModified_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationConfirm_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationConfirm_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationConfirm_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsRefusedToBeModified_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationConfirm_IEs_id_RICactionsRefusedToBeModified_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsRefusedToBeModified_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_RefusedToBeModified_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsRefusedToBeModified_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsRefusedToBeModified_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_RefusedToBeModified_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsRefusedToBeModified_List);
            #endif
            //message_name.item_type -> type = RICactions_RefusedToBeModified_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_RefusedToBeModified_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsRefusedToBeModified_List,
                                &p_RICsubscriptionModificationConfirm->id_RICactionsRefusedToBeModified_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_RefusedToBeModified_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_RefusedToBeModified_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationConfirm->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-5   encode id_RICactionsConfirmedForRemoval_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationConfirm_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationConfirm_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationConfirm_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsConfirmedForRemoval_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationConfirm_IEs_id_RICactionsConfirmedForRemoval_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsConfirmedForRemoval_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_ConfirmedForRemoval_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsConfirmedForRemoval_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsConfirmedForRemoval_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_ConfirmedForRemoval_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsConfirmedForRemoval_List);
            #endif
            //message_name.item_type -> type = RICactions_ConfirmedForRemoval_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_ConfirmedForRemoval_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsConfirmedForRemoval_List,
                                &p_RICsubscriptionModificationConfirm->id_RICactionsConfirmedForRemoval_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_ConfirmedForRemoval_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_ConfirmedForRemoval_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationConfirm->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-6   encode id_RICactionsRefusedToBeRemoved_List - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationConfirm_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationConfirm_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationConfirm_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICactionsRefusedToBeRemoved_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationConfirm_IEs_id_RICactionsRefusedToBeRemoved_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsRefusedToBeRemoved_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICactions_RefusedToBeRemoved_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsRefusedToBeRemoved_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICactionsRefusedToBeRemoved_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICactions_RefusedToBeRemoved_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsRefusedToBeRemoved_List);
            #endif
            //message_name.item_type -> type = RICactions_RefusedToBeRemoved_List
            if(XNAP_FAILURE == e2ap_compose_RICactions_RefusedToBeRemoved_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationConfirm_IEs_id_RICactionsRefusedToBeRemoved_List,
                                &p_RICsubscriptionModificationConfirm->id_RICactionsRefusedToBeRemoved_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICactions_RefusedToBeRemoved_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICactions_RefusedToBeRemoved_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationConfirm->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICsubscriptionModificationRefuse                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionModificationRefuse
    RICsubscriptionModificationRefuse-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICsubscriptionModificationRefuse(
                e2ap_RICsubscriptionModificationRefuse_t* p_RICsubscriptionModificationRefuse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.RICrequestID.ricRequestorID
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.RICrequestID.ricInstanceID
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.RICrequestID
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.RANfunctionID
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.Cause.CauseRICrequest
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.Cause.CauseRICservice
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.Cause.CauseE2node
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.Cause.CauseTransport
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.Cause.CauseProtocol
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.Cause.CauseMisc
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.Cause.CauseServiceLayer
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.Cause
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.CriticalityDiagnostics.ProcedureCode
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.CriticalityDiagnostics.TriggeringMessage
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.CriticalityDiagnostics.Criticality
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.CriticalityDiagnostics.RICrequestID
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs.CriticalityDiagnostics
// RICsubscriptionModificationRefuse.RICsubscriptionModificationRefuse-IEs
// RICsubscriptionModificationRefuse

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionModificationRefuse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionModificationRefuse* p_RICsubscriptionModificationRefuse = GNB_PNULL;
    e2ap_RICsubscriptionModificationRefuse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscriptionModificationRequired;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionModificationRefuse;
        p_RICsubscriptionModificationRefuse = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionModificationRefuse);
        if(GNB_PNULL==p_RICsubscriptionModificationRefuse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionModificationRefuse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionModificationRefuse",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionModificationRefuse(p_RICsubscriptionModificationRefuse);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricSubscriptionModificationRequired = p_RICsubscriptionModificationRefuse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRefuse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRefuse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRefuse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRefuse_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_RICrequestID,
                                &p_RICsubscriptionModificationRefuse->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRefuse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRefuse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRefuse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRefuse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRefuse_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_RANfunctionID = p_RICsubscriptionModificationRefuse->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRefuse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRefuse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRefuse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRefuse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRefuse_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_Cause,
                                &p_RICsubscriptionModificationRefuse->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRefuse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionModificationRefuse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionModificationRefuse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionModificationRefuse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionModificationRefuse_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionModificationRefuse_IEs_id_CriticalityDiagnostics,
                                &p_RICsubscriptionModificationRefuse->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionModificationRefuse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/************************************************************/
/*      SEQUENCE RICactionList_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICactionList_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICactionList_Item                 *p_e2ap_RICactionList_Item, //dest
                _e2ap_RICactionList_Item_t              *p_RICactionList_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricActionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RICactionID(p_asn1_ctx,
                                                &p_e2ap_RICactionList_Item->ricActionID,
                                                &p_RICactionList_Item->ricActionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricActionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricActionID*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICaction_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICaction_List,
                _e2ap_RICaction_List_t       *p_RICaction_List
){
    e2ap_RICaction_ItemIEs   *p_RICaction_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICaction_List->id_RICactionList_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICaction_ItemIEs,
                                &p_node_list,
                                &p_RICaction_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICaction_ItemIEs(p_RICaction_ItemIEs);
        p_RICaction_ItemIEs->id = ASN1V_e2ap_id_RICactionList_Item;
        p_RICaction_ItemIEs->criticality = e2ap_reject;
        p_RICaction_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICaction_ItemIEs_id_RICactionList_Item;
        p_RICaction_ItemIEs->value.u._e2apRICaction_ItemIEs_id_RICactionList_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_ItemIEs);
        if(GNB_PNULL==p_RICaction_ItemIEs->value.u._e2apRICaction_ItemIEs_id_RICactionList_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICaction-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICactionList_Item(p_asn1_ctx,
                                                p_RICaction_ItemIEs->value.u._e2apRICaction_ItemIEs_id_RICactionList_Item,
                                                &p_RICaction_List->id_RICactionList_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICaction-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICaction_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RICsubscriptionList_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RICsubscriptionList_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RICsubscriptionList_Item                 *p_e2ap_RICsubscriptionList_Item, //dest
                _e2ap_RICsubscriptionList_Item_t              *p_RICsubscriptionList_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ricRequestID alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionList_Item->ricRequestID = rtxMemAllocType(p_asn1_ctx, e2ap_RICrequestID);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionList_Item->ricRequestID)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICrequestID(&p_e2ap_RICsubscriptionList_Item->ricRequestID);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICrequestID(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionList_Item->ricRequestID,
                                                &p_RICsubscriptionList_Item->ricRequestID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricRequestID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ricRequestID*/

    {  /*SEQ_ELEM-2  Encode ricAction_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RICsubscriptionList_Item->ricAction_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICaction_List);
        if(XNAP_P_NULL == p_e2ap_RICsubscriptionList_Item->ricAction_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricAction_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICaction_List(&p_e2ap_RICsubscriptionList_Item->ricAction_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICaction_List(p_asn1_ctx,
                                                &p_e2ap_RICsubscriptionList_Item->ricAction_list,
                                                &p_RICsubscriptionList_Item->ricAction_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricAction_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricAction_list*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICsubscriptionToBeSuspended_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICsubscriptionToBeSuspended_List,
                _e2ap_RICsubscriptionToBeSuspended_List_t       *p_RICsubscriptionToBeSuspended_List
){
    e2ap_RICsubscriptionList_ItemIEs   *p_RICsubscriptionList_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICsubscriptionToBeSuspended_List->id_RICsubscriptionList_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICsubscriptionList_ItemIEs,
                                &p_node_list,
                                &p_RICsubscriptionList_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionList-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICsubscriptionList_ItemIEs(p_RICsubscriptionList_ItemIEs);
        p_RICsubscriptionList_ItemIEs->id = ASN1V_e2ap_id_RICsubscriptionList_Item;
        p_RICsubscriptionList_ItemIEs->criticality = e2ap_reject;
        p_RICsubscriptionList_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item;
        p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionList_ItemIEs);
        if(GNB_PNULL==p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionList-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionList_Item(p_asn1_ctx,
                                                p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item,
                                                &p_RICsubscriptionToBeSuspended_List->id_RICsubscriptionList_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionList-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICsubscriptionToBeSuspended_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICsubscriptionToBeResumed_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICsubscriptionToBeResumed_List,
                _e2ap_RICsubscriptionToBeResumed_List_t       *p_RICsubscriptionToBeResumed_List
){
    e2ap_RICsubscriptionList_ItemIEs   *p_RICsubscriptionList_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICsubscriptionToBeResumed_List->id_RICsubscriptionList_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICsubscriptionList_ItemIEs,
                                &p_node_list,
                                &p_RICsubscriptionList_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionList-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICsubscriptionList_ItemIEs(p_RICsubscriptionList_ItemIEs);
        p_RICsubscriptionList_ItemIEs->id = ASN1V_e2ap_id_RICsubscriptionList_Item;
        p_RICsubscriptionList_ItemIEs->criticality = e2ap_reject;
        p_RICsubscriptionList_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item;
        p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionList_ItemIEs);
        if(GNB_PNULL==p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionList-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionList_Item(p_asn1_ctx,
                                                p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item,
                                                &p_RICsubscriptionToBeResumed_List->id_RICsubscriptionList_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionList-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICsubscriptionToBeResumed_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RANfunctionStateControl_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RANfunctionStateControl_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RANfunctionStateControl_Item                 *p_e2ap_RANfunctionStateControl_Item, //dest
                _e2ap_RANfunctionStateControl_Item_t              *p_RANfunctionStateControl_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RANfunctionStateControl_Item->ranFunctionID,
                                                &p_RANfunctionStateControl_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ranFunctionID*/

    {  /*SEQ_ELEM-2  Encode ricSubscriptionToBeSuspended_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionStateControl_Item->ricSubscriptionToBeSuspended_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionToBeSuspended_List);
        if(XNAP_P_NULL == p_e2ap_RANfunctionStateControl_Item->ricSubscriptionToBeSuspended_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubscriptionToBeSuspended_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICsubscriptionToBeSuspended_List(&p_e2ap_RANfunctionStateControl_Item->ricSubscriptionToBeSuspended_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionToBeSuspended_List(p_asn1_ctx,
                                                &p_e2ap_RANfunctionStateControl_Item->ricSubscriptionToBeSuspended_list,
                                                &p_RANfunctionStateControl_Item->ricSubscriptionToBeSuspended_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubscriptionToBeSuspended_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricSubscriptionToBeSuspended_list*/

    {  /*SEQ_ELEM-3  Encode ricSubscriptionToBeResumed_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionStateControl_Item->ricSubscriptionToBeResumed_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionToBeResumed_List);
        if(XNAP_P_NULL == p_e2ap_RANfunctionStateControl_Item->ricSubscriptionToBeResumed_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubscriptionToBeResumed_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICsubscriptionToBeResumed_List(&p_e2ap_RANfunctionStateControl_Item->ricSubscriptionToBeResumed_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionToBeResumed_List(p_asn1_ctx,
                                                &p_e2ap_RANfunctionStateControl_Item->ricSubscriptionToBeResumed_list,
                                                &p_RANfunctionStateControl_Item->ricSubscriptionToBeResumed_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubscriptionToBeResumed_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricSubscriptionToBeResumed_list*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RANfunctionStateControl_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RANfunctionStateControl_List,
                _e2ap_RANfunctionStateControl_List_t       *p_RANfunctionStateControl_List
){
    e2ap_RANfunctionStateControl_ItemIEs   *p_RANfunctionStateControl_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RANfunctionStateControl_List->id_RANfunctionStateControl_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RANfunctionStateControl_ItemIEs,
                                &p_node_list,
                                &p_RANfunctionStateControl_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionStateControl-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RANfunctionStateControl_ItemIEs(p_RANfunctionStateControl_ItemIEs);
        p_RANfunctionStateControl_ItemIEs->id = ASN1V_e2ap_id_RANfunctionStateControl_Item;
        p_RANfunctionStateControl_ItemIEs->criticality = e2ap_reject;
        p_RANfunctionStateControl_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RANfunctionStateControl_ItemIEs_id_RANfunctionStateControl_Item;
        p_RANfunctionStateControl_ItemIEs->value.u._e2apRANfunctionStateControl_ItemIEs_id_RANfunctionStateControl_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RANfunctionStateControl_ItemIEs);
        if(GNB_PNULL==p_RANfunctionStateControl_ItemIEs->value.u._e2apRANfunctionStateControl_ItemIEs_id_RANfunctionStateControl_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionStateControl-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RANfunctionStateControl_Item(p_asn1_ctx,
                                                p_RANfunctionStateControl_ItemIEs->value.u._e2apRANfunctionStateControl_ItemIEs_id_RANfunctionStateControl_Item,
                                                &p_RANfunctionStateControl_List->id_RANfunctionStateControl_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionStateControl-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RANfunctionStateControl_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICsubscriptionStateControlRequest                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionStateControlRequest
    RICsubscriptionStateControlRequest-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionStateControl-List
            RANfunctionStateControl-ItemIEs
                RANfunctionStateControl-Item
                    RANfunctionID
                    RICsubscriptionToBeSuspended-List
                        RICsubscriptionList-ItemIEs
                            RICsubscriptionList-Item
                                RICrequestID
                                    ricRequestorID
                                    ricInstanceID
                                RICaction-List
                                    RICaction-ItemIEs
                                        RICactionList-Item
                                            RICactionID
                    RICsubscriptionToBeResumed-List
                        RICsubscriptionList-ItemIEs
                            RICsubscriptionList-Item
                                RICrequestID
                                    ricRequestorID
                                    ricInstanceID
                                RICaction-List
                                    RICaction-ItemIEs
                                        RICactionList-Item
                                            RICactionID

*/
xnap_return_et e2ap_encode_RICsubscriptionStateControlRequest(
                e2ap_RICsubscriptionStateControlRequest_t* p_RICsubscriptionStateControlRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RICrequestID.ricRequestorID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RICrequestID.ricInstanceID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RICrequestID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RANfunctionID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID.ricRequestorID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID.ricInstanceID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs.RICactionList-Item.RICactionID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs.RICactionList-Item
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeSuspended-List.RICsubscriptionList-ItemIEs
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeSuspended-List
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID.ricRequestorID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID.ricInstanceID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs.RICactionList-Item.RICactionID
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs.RICactionList-Item
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeResumed-List.RICsubscriptionList-ItemIEs
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item.RICsubscriptionToBeResumed-List
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs.RANfunctionStateControl-Item
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List.RANfunctionStateControl-ItemIEs
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs.RANfunctionStateControl-List
// RICsubscriptionStateControlRequest.RICsubscriptionStateControlRequest-IEs
// RICsubscriptionStateControlRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionStateControlRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionStateControlRequest* p_RICsubscriptionStateControlRequest = GNB_PNULL;
    e2ap_RICsubscriptionStateControlRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICsubscriptionStateControl;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionStateControlRequest;
        p_RICsubscriptionStateControlRequest = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionStateControlRequest);
        if(GNB_PNULL==p_RICsubscriptionStateControlRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionStateControlRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionStateControlRequest",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionStateControlRequest(p_RICsubscriptionStateControlRequest);
        e2ap_pdu.u.initiatingMessage->value.u.ricSubscriptionStateControl = p_RICsubscriptionStateControlRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionStateControlRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionStateControlRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionStateControlRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionStateControlRequest_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlRequest_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlRequest_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlRequest_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlRequest_IEs_id_RICrequestID,
                                &p_RICsubscriptionStateControlRequest->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionStateControlRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionStateControl_List - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionStateControlRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionStateControlRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionStateControlRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionStateControl_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionStateControlRequest_IEs_id_RANfunctionStateControl_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlRequest_IEs_id_RANfunctionStateControl_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionStateControl_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlRequest_IEs_id_RANfunctionStateControl_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionStateControl_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionStateControl_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlRequest_IEs_id_RANfunctionStateControl_List);
            #endif
            //message_name.item_type -> type = RANfunctionStateControl_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionStateControl_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlRequest_IEs_id_RANfunctionStateControl_List,
                                &p_RICsubscriptionStateControlRequest->id_RANfunctionStateControl_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionStateControl_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionStateControl_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionStateControlRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICsubscriptionSuspended_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICsubscriptionSuspended_List,
                _e2ap_RICsubscriptionSuspended_List_t       *p_RICsubscriptionSuspended_List
){
    e2ap_RICsubscriptionList_ItemIEs   *p_RICsubscriptionList_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICsubscriptionSuspended_List->id_RICsubscriptionList_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICsubscriptionList_ItemIEs,
                                &p_node_list,
                                &p_RICsubscriptionList_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionList-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICsubscriptionList_ItemIEs(p_RICsubscriptionList_ItemIEs);
        p_RICsubscriptionList_ItemIEs->id = ASN1V_e2ap_id_RICsubscriptionList_Item;
        p_RICsubscriptionList_ItemIEs->criticality = e2ap_reject;
        p_RICsubscriptionList_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item;
        p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionList_ItemIEs);
        if(GNB_PNULL==p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionList-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionList_Item(p_asn1_ctx,
                                                p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item,
                                                &p_RICsubscriptionSuspended_List->id_RICsubscriptionList_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionList-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICsubscriptionSuspended_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RICsubscriptionResumed_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RICsubscriptionResumed_List,
                _e2ap_RICsubscriptionResumed_List_t       *p_RICsubscriptionResumed_List
){
    e2ap_RICsubscriptionList_ItemIEs   *p_RICsubscriptionList_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RICsubscriptionResumed_List->id_RICsubscriptionList_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RICsubscriptionList_ItemIEs,
                                &p_node_list,
                                &p_RICsubscriptionList_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionList-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RICsubscriptionList_ItemIEs(p_RICsubscriptionList_ItemIEs);
        p_RICsubscriptionList_ItemIEs->id = ASN1V_e2ap_id_RICsubscriptionList_Item;
        p_RICsubscriptionList_ItemIEs->criticality = e2ap_reject;
        p_RICsubscriptionList_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item;
        p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionList_ItemIEs);
        if(GNB_PNULL==p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionList-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionList_Item(p_asn1_ctx,
                                                p_RICsubscriptionList_ItemIEs->value.u._e2apRICsubscriptionList_ItemIEs_id_RICsubscriptionList_Item,
                                                &p_RICsubscriptionResumed_List->id_RICsubscriptionList_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICsubscriptionList-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RICsubscriptionResumed_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/************************************************************/
/*      SEQUENCE RANfunctionStateConfirm_Item                */
/************************************************************/

/* 1- compose primitive intergrate for sequence fields */


/* 2 - compose sequence */
xnap_return_et e2ap_compose_RANfunctionStateConfirm_Item(
                OSCTXT                        *p_asn1_ctx,
                e2ap_RANfunctionStateConfirm_Item                 *p_e2ap_RANfunctionStateConfirm_Item, //dest
                _e2ap_RANfunctionStateConfirm_Item_t              *p_RANfunctionStateConfirm_Item //src
)
{

//cần alloc node

    {  /*SEQ_ELEM-1  Encode ranFunctionID alias-id = 6 - primitive = False*/
         /*==primitive alias== */
        if(XNAP_FAILURE == e2ap_compose_RANfunctionID(p_asn1_ctx,
                                                &p_e2ap_RANfunctionStateConfirm_Item->ranFunctionID,
                                                &p_RANfunctionStateConfirm_Item->ranFunctionID))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ranFunctionID",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-1  Encode ranFunctionID*/

    {  /*SEQ_ELEM-2  Encode ricSubscriptionSuspended_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionStateConfirm_Item->ricSubscriptionSuspended_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionSuspended_List);
        if(XNAP_P_NULL == p_e2ap_RANfunctionStateConfirm_Item->ricSubscriptionSuspended_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubscriptionSuspended_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICsubscriptionSuspended_List(&p_e2ap_RANfunctionStateConfirm_Item->ricSubscriptionSuspended_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionSuspended_List(p_asn1_ctx,
                                                &p_e2ap_RANfunctionStateConfirm_Item->ricSubscriptionSuspended_list,
                                                &p_RANfunctionStateConfirm_Item->ricSubscriptionSuspended_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubscriptionSuspended_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-2  Encode ricSubscriptionSuspended_list*/

    {  /*SEQ_ELEM-3  Encode ricSubscriptionResumed_list alias-id = -1 - primitive = False*/
        /* == not primitive (SEQ or CHOICE)==*/
            /* 1.alloc mem */
        p_e2ap_RANfunctionStateConfirm_Item->ricSubscriptionResumed_list = rtxMemAllocType(p_asn1_ctx, e2ap_RICsubscriptionResumed_List);
        if(XNAP_P_NULL == p_e2ap_RANfunctionStateConfirm_Item->ricSubscriptionResumed_list)
        {
            XNAP_TRACE(XNAP_ERROR  ,"%s: Memory allocation failed for field ricSubscriptionResumed_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
            /* 2.init */
        asn1Init_e2ap_RICsubscriptionResumed_List(&p_e2ap_RANfunctionStateConfirm_Item->ricSubscriptionResumed_list);
            /* 3.compose */
        if(XNAP_FAILURE == e2ap_compose_RICsubscriptionResumed_List(p_asn1_ctx,
                                                &p_e2ap_RANfunctionStateConfirm_Item->ricSubscriptionResumed_list,
                                                &p_RANfunctionStateConfirm_Item->ricSubscriptionResumed_list))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field ricSubscriptionResumed_list",__FUNCTION__);
            return XNAP_FAILURE;
        }
    } /* end SEQ_ELEM-3  Encode ricSubscriptionResumed_list*/


    // cần appendnode
    return XNAP_SUCCESS;
}   

  
// IE thường -> IE child_of_msg ở file encode ie child of msg rồi
// khả năng kô cần

// compose single container mau ơ xnap_compose_TAISupport_list()
xnap_return_et e2ap_compose_RANfunctionStateConfirm_List (
                OSCTXT                        *p_asn1_ctx,
                OSRTDList                     *p_e2ap_RANfunctionStateConfirm_List,
                _e2ap_RANfunctionStateConfirm_List_t       *p_RANfunctionStateConfirm_List
){
    e2ap_RANfunctionStateConfirm_ItemIEs   *p_RANfunctionStateConfirm_ItemIEs = NULL;
    OSRTDListNode                           *p_node_list = XNAP_P_NULL;
    UInt16                                   t_count = XNAP_NULL;
    for(t_count = 0; t_count < p_RANfunctionStateConfirm_List->id_RANfunctionStateConfirm_Item_count; t_count++)
    {
        rtxDListAllocNodeAndData(p_asn1_ctx,
                                e2ap_RANfunctionStateConfirm_ItemIEs,
                                &p_node_list,
                                &p_RANfunctionStateConfirm_ItemIEs);
        if(GNB_PNULL==p_node_list){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionStateConfirm-ItemIEs",__FUNCTION__);
            return XNAP_FAILURE;
        }
        asn1Init_e2ap_RANfunctionStateConfirm_ItemIEs(p_RANfunctionStateConfirm_ItemIEs);
        p_RANfunctionStateConfirm_ItemIEs->id = ASN1V_e2ap_id_RANfunctionStateConfirm_Item;
        p_RANfunctionStateConfirm_ItemIEs->criticality = e2ap_reject;
        p_RANfunctionStateConfirm_ItemIEs->value.t =  T_E2AP_PDU_Contents_e2ap_RANfunctionStateConfirm_ItemIEs_id_RANfunctionStateConfirm_Item;
        p_RANfunctionStateConfirm_ItemIEs->value.u._e2apRANfunctionStateConfirm_ItemIEs_id_RANfunctionStateConfirm_Item
                = rtxMemAllocType(p_asn1_ctx, e2ap_RANfunctionStateConfirm_ItemIEs);
        if(GNB_PNULL==p_RANfunctionStateConfirm_ItemIEs->value.u._e2apRANfunctionStateConfirm_ItemIEs_id_RANfunctionStateConfirm_Item){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RANfunctionStateConfirm-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }        

        /*ENCODE FIELD*/
        // phải lấy thông tin sequence mà con của cái single container này :))   -> tạo các hàm bé hơn như PDU í    

        //ENCODE ITEM=============
        if(XNAP_FAILURE == e2ap_compose_RANfunctionStateConfirm_Item(p_asn1_ctx,
                                                p_RANfunctionStateConfirm_ItemIEs->value.u._e2apRANfunctionStateConfirm_ItemIEs_id_RANfunctionStateConfirm_Item,
                                                &p_RANfunctionStateConfirm_List->id_RANfunctionStateConfirm_Item[t_count]))
        {
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionStateConfirm-ItemIEs",__FUNCTION__);
            rtFreeContext(p_asn1_ctx);
            return XNAP_FAILURE;
        }
        rtxDListAppendNode(p_e2ap_RANfunctionStateConfirm_List, p_node_list);
    }
    return XNAP_SUCCESS;
}


/**************************************************/
/*      encode_RICsubscriptionStateControlResponse                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionStateControlResponse
    RICsubscriptionStateControlResponse-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionStateConfirm-List
            RANfunctionStateConfirm-ItemIEs
                RANfunctionStateConfirm-Item
                    RANfunctionID
                    RICsubscriptionSuspended-List
                        RICsubscriptionList-ItemIEs
                            RICsubscriptionList-Item
                                RICrequestID
                                    ricRequestorID
                                    ricInstanceID
                                RICaction-List
                                    RICaction-ItemIEs
                                        RICactionList-Item
                                            RICactionID
                    RICsubscriptionResumed-List
                        RICsubscriptionList-ItemIEs
                            RICsubscriptionList-Item
                                RICrequestID
                                    ricRequestorID
                                    ricInstanceID
                                RICaction-List
                                    RICaction-ItemIEs
                                        RICactionList-Item
                                            RICactionID

*/
xnap_return_et e2ap_encode_RICsubscriptionStateControlResponse(
                e2ap_RICsubscriptionStateControlResponse_t* p_RICsubscriptionStateControlResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RICrequestID.ricRequestorID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RICrequestID.ricInstanceID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RICrequestID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RANfunctionID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID.ricRequestorID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID.ricInstanceID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs.RICactionList-Item.RICactionID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs.RICactionList-Item
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionSuspended-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionSuspended-List.RICsubscriptionList-ItemIEs
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionSuspended-List
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID.ricRequestorID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID.ricInstanceID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICrequestID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs.RICactionList-Item.RICactionID
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs.RICactionList-Item
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List.RICaction-ItemIEs
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item.RICaction-List
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionResumed-List.RICsubscriptionList-ItemIEs.RICsubscriptionList-Item
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionResumed-List.RICsubscriptionList-ItemIEs
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item.RICsubscriptionResumed-List
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs.RANfunctionStateConfirm-Item
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List.RANfunctionStateConfirm-ItemIEs
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs.RANfunctionStateConfirm-List
// RICsubscriptionStateControlResponse.RICsubscriptionStateControlResponse-IEs
// RICsubscriptionStateControlResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionStateControlResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionStateControlResponse* p_RICsubscriptionStateControlResponse = GNB_PNULL;
    e2ap_RICsubscriptionStateControlResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscriptionStateControl;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionStateControlResponse;
        p_RICsubscriptionStateControlResponse = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionStateControlResponse);
        if(GNB_PNULL==p_RICsubscriptionStateControlResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionStateControlResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionStateControlResponse",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionStateControlResponse(p_RICsubscriptionStateControlResponse);
        e2ap_pdu.u.successfulOutcome->value.u.ricSubscriptionStateControl = p_RICsubscriptionStateControlResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionStateControlResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionStateControlResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionStateControlResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionStateControlResponse_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlResponse_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlResponse_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlResponse_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlResponse_IEs_id_RICrequestID,
                                &p_RICsubscriptionStateControlResponse->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionStateControlResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionStateConfirm_List - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionStateControlResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionStateControlResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionStateControlResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionStateConfirm_List;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionStateControlResponse_IEs_id_RANfunctionStateConfirm_List;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlResponse_IEs_id_RANfunctionStateConfirm_List 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RANfunctionStateConfirm_List);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlResponse_IEs_id_RANfunctionStateConfirm_List){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RANfunctionStateConfirm_List",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RANfunctionStateConfirm_List(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlResponse_IEs_id_RANfunctionStateConfirm_List);
            #endif
            //message_name.item_type -> type = RANfunctionStateConfirm_List
            if(XNAP_FAILURE == e2ap_compose_RANfunctionStateConfirm_List(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlResponse_IEs_id_RANfunctionStateConfirm_List,
                                &p_RICsubscriptionStateControlResponse->id_RANfunctionStateConfirm_List)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RANfunctionStateConfirm_List",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RANfunctionStateConfirm_List",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionStateControlResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICsubscriptionStateControlFailure                    */
/*                                                */
/**************************************************/
/*
RICsubscriptionStateControlFailure
    RICsubscriptionStateControlFailure-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICsubscriptionStateControlFailure(
                e2ap_RICsubscriptionStateControlFailure_t* p_RICsubscriptionStateControlFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.RICrequestID.ricRequestorID
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.RICrequestID.ricInstanceID
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.RICrequestID
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.Cause.CauseRICrequest
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.Cause.CauseRICservice
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.Cause.CauseE2node
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.Cause.CauseTransport
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.Cause.CauseProtocol
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.Cause.CauseMisc
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.Cause.CauseServiceLayer
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.Cause
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.CriticalityDiagnostics.ProcedureCode
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.CriticalityDiagnostics.Criticality
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.CriticalityDiagnostics.RICrequestID
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs.CriticalityDiagnostics
// RICsubscriptionStateControlFailure.RICsubscriptionStateControlFailure-IEs
// RICsubscriptionStateControlFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICsubscriptionStateControlFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICsubscriptionStateControlFailure* p_RICsubscriptionStateControlFailure = GNB_PNULL;
    e2ap_RICsubscriptionStateControlFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICsubscriptionStateControl;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICsubscriptionStateControlFailure;
        p_RICsubscriptionStateControlFailure = rtxMemAllocType(&asn1_ctx, e2ap_RICsubscriptionStateControlFailure);
        if(GNB_PNULL==p_RICsubscriptionStateControlFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICsubscriptionStateControlFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICsubscriptionStateControlFailure",__FUNCTION__);
        }

        asn1Init_e2ap_RICsubscriptionStateControlFailure(p_RICsubscriptionStateControlFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricSubscriptionStateControl = p_RICsubscriptionStateControlFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionStateControlFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionStateControlFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionStateControlFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionStateControlFailure_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_RICrequestID,
                                &p_RICsubscriptionStateControlFailure->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionStateControlFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionStateControlFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionStateControlFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionStateControlFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionStateControlFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_Cause,
                                &p_RICsubscriptionStateControlFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionStateControlFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICsubscriptionStateControlFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICsubscriptionStateControlFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICsubscriptionStateControlFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICsubscriptionStateControlFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICsubscriptionStateControlFailure_IEs_id_CriticalityDiagnostics,
                                &p_RICsubscriptionStateControlFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICsubscriptionStateControlFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE RICqueryHeader            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICqueryHeader
     
/*****************************************************/
/*    PRIMITIVE RICqueryDefinition            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICqueryDefinition
     
/**************************************************/
/*      encode_RICqueryRequest                    */
/*                                                */
/**************************************************/
/*
RICqueryRequest
    RICqueryRequest-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICqueryHeader
        RICqueryDefinition

*/
xnap_return_et e2ap_encode_RICqueryRequest(
                e2ap_RICqueryRequest_t* p_RICqueryRequest,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICqueryRequest.RICqueryRequest-IEs.RICrequestID.ricRequestorID
// RICqueryRequest.RICqueryRequest-IEs.RICrequestID.ricInstanceID
// RICqueryRequest.RICqueryRequest-IEs.RICrequestID
// RICqueryRequest.RICqueryRequest-IEs.RANfunctionID
// RICqueryRequest.RICqueryRequest-IEs.RICqueryHeader
// RICqueryRequest.RICqueryRequest-IEs.RICqueryDefinition
// RICqueryRequest.RICqueryRequest-IEs
// RICqueryRequest

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICqueryRequest o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICqueryRequest* p_RICqueryRequest = GNB_PNULL;
    e2ap_RICqueryRequest_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_initiatingMessage;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to initiatingMessage",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_initiatingMessage);
        if(GNB_PNULL==e2ap_pdu.u.initiatingMessage){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for initiatingMessage",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_initiatingMessage(e2ap_pdu.u.initiatingMessage);
        e2ap_pdu.u.initiatingMessage->procedureCode = ASN1V_e2ap_id_RICquery;
        e2ap_pdu.u.initiatingMessage->criticality = e2ap_reject;
        e2ap_pdu.u.initiatingMessage->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICqueryRequest;
        p_RICqueryRequest = rtxMemAllocType(&asn1_ctx, e2ap_RICqueryRequest);
        if(GNB_PNULL==p_RICqueryRequest){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICqueryRequest",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICqueryRequest",__FUNCTION__);
        }

        asn1Init_e2ap_RICqueryRequest(p_RICqueryRequest);
        e2ap_pdu.u.initiatingMessage->value.u.ricQuery = p_RICqueryRequest;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryRequest_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICqueryRequest_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICqueryRequest_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICqueryRequest_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICqueryRequest_IEs_id_RICrequestID,
                                &p_RICqueryRequest->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryRequest_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICqueryRequest_IEs_id_RANfunctionID = p_RICqueryRequest->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICqueryHeader - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICqueryHeader;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryRequest_IEs_id_RICqueryHeader;
             p_e2ap_protocolIEs_elem->value.u._e2apRICqueryRequest_IEs_id_RICqueryHeader = p_RICqueryRequest->id_RICqueryHeader; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_RICqueryDefinition - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryRequest_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryRequest_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryRequest_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICqueryDefinition;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryRequest_IEs_id_RICqueryDefinition;
             p_e2ap_protocolIEs_elem->value.u._e2apRICqueryRequest_IEs_id_RICqueryDefinition = p_RICqueryRequest->id_RICqueryDefinition; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryRequest->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/*****************************************************/
/*    PRIMITIVE RICqueryOutcome            */
/*****************************************************/
// cpmpose primitive - id = 9 - OCTET STRING - RICqueryOutcome
     
/**************************************************/
/*      encode_RICqueryResponse                    */
/*                                                */
/**************************************************/
/*
RICqueryResponse
    RICqueryResponse-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        RICqueryOutcome

*/
xnap_return_et e2ap_encode_RICqueryResponse(
                e2ap_RICqueryResponse_t* p_RICqueryResponse,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICqueryResponse.RICqueryResponse-IEs.RICrequestID.ricRequestorID
// RICqueryResponse.RICqueryResponse-IEs.RICrequestID.ricInstanceID
// RICqueryResponse.RICqueryResponse-IEs.RICrequestID
// RICqueryResponse.RICqueryResponse-IEs.RANfunctionID
// RICqueryResponse.RICqueryResponse-IEs.RICqueryOutcome
// RICqueryResponse.RICqueryResponse-IEs
// RICqueryResponse

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICqueryResponse o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICqueryResponse* p_RICqueryResponse = GNB_PNULL;
    e2ap_RICqueryResponse_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_successfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to successfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_successfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.successfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for successfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_successfulOutcome(e2ap_pdu.u.successfulOutcome);
        e2ap_pdu.u.successfulOutcome->procedureCode = ASN1V_e2ap_id_RICquery;
        e2ap_pdu.u.successfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.successfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICqueryResponse;
        p_RICqueryResponse = rtxMemAllocType(&asn1_ctx, e2ap_RICqueryResponse);
        if(GNB_PNULL==p_RICqueryResponse){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICqueryResponse",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICqueryResponse",__FUNCTION__);
        }

        asn1Init_e2ap_RICqueryResponse(p_RICqueryResponse);
        e2ap_pdu.u.successfulOutcome->value.u.ricQuery = p_RICqueryResponse;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryResponse_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICqueryResponse_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICqueryResponse_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICqueryResponse_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICqueryResponse_IEs_id_RICrequestID,
                                &p_RICqueryResponse->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryResponse_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICqueryResponse_IEs_id_RANfunctionID = p_RICqueryResponse->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_RICqueryOutcome - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryResponse_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryResponse_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryResponse_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICqueryOutcome;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryResponse_IEs_id_RICqueryOutcome;
             p_e2ap_protocolIEs_elem->value.u._e2apRICqueryResponse_IEs_id_RICqueryOutcome = p_RICqueryResponse->id_RICqueryOutcome; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryResponse->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}/**************************************************/
/*      encode_RICqueryFailure                    */
/*                                                */
/**************************************************/
/*
RICqueryFailure
    RICqueryFailure-IEs
        RICrequestID
            ricRequestorID
            ricInstanceID
        RANfunctionID
        Cause
            CauseRICrequest
            CauseRICservice
            CauseE2node
            CauseTransport
            CauseProtocol
            CauseMisc
            CauseServiceLayer
                ServiceLayerCause
        CriticalityDiagnostics
            ProcedureCode
            TriggeringMessage
            Criticality
            RICrequestID
                ricRequestorID
                ricInstanceID
            CriticalityDiagnostics-IE-List
                SEQUENCE

*/
xnap_return_et e2ap_encode_RICqueryFailure(
                e2ap_RICqueryFailure_t* p_RICqueryFailure,
                UInt8 *p_asn_msg, 
                UInt16* p_asn_msg_len
)
{

/*
// RICqueryFailure.RICqueryFailure-IEs.RICrequestID.ricRequestorID
// RICqueryFailure.RICqueryFailure-IEs.RICrequestID.ricInstanceID
// RICqueryFailure.RICqueryFailure-IEs.RICrequestID
// RICqueryFailure.RICqueryFailure-IEs.RANfunctionID
// RICqueryFailure.RICqueryFailure-IEs.Cause.CauseRICrequest
// RICqueryFailure.RICqueryFailure-IEs.Cause.CauseRICservice
// RICqueryFailure.RICqueryFailure-IEs.Cause.CauseE2node
// RICqueryFailure.RICqueryFailure-IEs.Cause.CauseTransport
// RICqueryFailure.RICqueryFailure-IEs.Cause.CauseProtocol
// RICqueryFailure.RICqueryFailure-IEs.Cause.CauseMisc
// RICqueryFailure.RICqueryFailure-IEs.Cause.CauseServiceLayer.ServiceLayerCause
// RICqueryFailure.RICqueryFailure-IEs.Cause.CauseServiceLayer
// RICqueryFailure.RICqueryFailure-IEs.Cause
// RICqueryFailure.RICqueryFailure-IEs.CriticalityDiagnostics.ProcedureCode
// RICqueryFailure.RICqueryFailure-IEs.CriticalityDiagnostics.TriggeringMessage
// RICqueryFailure.RICqueryFailure-IEs.CriticalityDiagnostics.Criticality
// RICqueryFailure.RICqueryFailure-IEs.CriticalityDiagnostics.RICrequestID.ricRequestorID
// RICqueryFailure.RICqueryFailure-IEs.CriticalityDiagnostics.RICrequestID.ricInstanceID
// RICqueryFailure.RICqueryFailure-IEs.CriticalityDiagnostics.RICrequestID
// RICqueryFailure.RICqueryFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List.SEQUENCE
// RICqueryFailure.RICqueryFailure-IEs.CriticalityDiagnostics.CriticalityDiagnostics-IE-List
// RICqueryFailure.RICqueryFailure-IEs.CriticalityDiagnostics
// RICqueryFailure.RICqueryFailure-IEs
// RICqueryFailure

*/
#if 0 // hardcode
    /* gan gi tri cho p_RICqueryFailure o day*/


#endif


    xnap_return_et retVal = XNAP_FAILURE;
    OSCTXT asn1_ctx;
    e2ap_E2AP_PDU e2ap_pdu;
    OSRTDListNode* p_node = GNB_PNULL;
    e2ap_RICqueryFailure* p_RICqueryFailure = GNB_PNULL;
    e2ap_RICqueryFailure_protocolIEs_element* p_e2ap_protocolIEs_elem = GNB_PNULL;
    /* Initialize ASN.1 context */
    if(0!=rtInitContext(&asn1_ctx)){
        XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN context initialization failed",__FUNCTION__);
        XNAP_UT_TRACE_ENTER();
        return retVal;
    }do{
        XNAP_MEMSET(&e2ap_pdu,0,sizeof(e2ap_E2AP_PDU));
        /*set PDU type to initing/ SSF/ USSF */
        e2ap_pdu.t = T_e2ap_E2AP_PDU_unsuccessfulOutcome;
        XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: PDU type set to unsuccessfulOutcome",__FUNCTION__);
        e2ap_pdu.u. = rtxMemAllocType(&asn1_ctx, e2ap_unsuccessfulOutcome);
        if(GNB_PNULL==e2ap_pdu.u.unsuccessfulOutcome){
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation failed for unsuccessfulOutcome",__FUNCTION__);
            break;
        }

        asn1Init_e2ap_unsuccessfulOutcome(e2ap_pdu.u.unsuccessfulOutcome);
        e2ap_pdu.u.unsuccessfulOutcome->procedureCode = ASN1V_e2ap_id_RICquery;
        e2ap_pdu.u.unsuccessfulOutcome->criticality = e2ap_reject;
        e2ap_pdu.u.unsuccessfulOutcome->value.t = T_E2AP_PDU_Description_e2ap_E2AP_ELEMENTARY_PROCEDURES_RICqueryFailure;
        p_RICqueryFailure = rtxMemAllocType(&asn1_ctx, e2ap_RICqueryFailure);
        if(GNB_PNULL==p_RICqueryFailure){
            XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for RICqueryFailure",__FUNCTION__);
            break;
        }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Memory allocation success for RICqueryFailure",__FUNCTION__);
        }

        asn1Init_e2ap_RICqueryFailure(p_RICqueryFailure);
        e2ap_pdu.u.unsuccessfulOutcome->value.u.ricQuery = p_RICqueryFailure;

        /* Fill ProtocolIEs */
#if 1 // thiếu check optional bitmask
        {
            /*IE-1   encode id_RICrequestID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RICrequestID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryFailure_IEs_id_RICrequestID;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_RICrequestID 
                                = rtxMemAllocType(&asn1_ctx, e2ap_RICrequestID);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_RICrequestID){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_RICrequestID",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_RICrequestID(p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_RICrequestID);
            #endif
            //message_name.item_type -> type = RICrequestID
            if(XNAP_FAILURE == e2ap_compose_RICrequestID(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_RICrequestID,
                                &p_RICqueryFailure->id_RICrequestID)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field RICrequestID",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field RICrequestID",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-2   encode id_RANfunctionID - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_RANfunctionID;
            p_e2ap_protocolIEs_elem->criticality = e2ap_reject;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryFailure_IEs_id_RANfunctionID;
             p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_RANfunctionID = p_RICqueryFailure->id_RANfunctionID; //assign primitive

            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-3   encode id_Cause - presence = mandatory*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_Cause;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryFailure_IEs_id_Cause;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_Cause 
                                = rtxMemAllocType(&asn1_ctx, e2ap_Cause);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_Cause){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_Cause",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_Cause(p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_Cause);
            #endif
            //message_name.item_type -> type = Cause
            if(XNAP_FAILURE == e2ap_compose_Cause(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_Cause,
                                &p_RICqueryFailure->id_Cause)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field Cause",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field Cause",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif
#if 1 // thiếu check optional bitmask
        {
            /*IE-4   encode id_CriticalityDiagnostics - presence = optional*/
            rtxDListAllocNodeAndData(&asn1_ctx,
                                    e2ap_RICqueryFailure_protocolIEs_element,
                                    &p_node,
                                    &p_e2ap_protocolIEs_elem);
            if(GNB_PNULL==p_node){
                /* not enough memory */
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_RICqueryFailure_protocolIEs_element",__FUNCTION__);
                break;
            }

            asn1Init_e2ap_RICqueryFailure_protocolIEs_element(p_e2ap_protocolIEs_elem);
            /*fill the type of ProtocolIEs _protocolIEs_element*/
            p_e2ap_protocolIEs_elem->id = ASN1V_e2ap_id_CriticalityDiagnostics;
            p_e2ap_protocolIEs_elem->criticality = e2ap_ignore;
            p_e2ap_protocolIEs_elem->value.t = T_E2AP_PDU_Contents_e2ap_RICqueryFailure_IEs_id_CriticalityDiagnostics;

 
            #if 1 // ko đẩy vào compose nữa
            p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_CriticalityDiagnostics 
                                = rtxMemAllocType(&asn1_ctx, e2ap_CriticalityDiagnostics);
            if(GNB_PNULL==p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_CriticalityDiagnostics){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Memory allocation failed for e2ap_id_CriticalityDiagnostics",__FUNCTION__);
                break;
            }
            asn1Init_e2ap_CriticalityDiagnostics(p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_CriticalityDiagnostics);
            #endif
            //message_name.item_type -> type = CriticalityDiagnostics
            if(XNAP_FAILURE == e2ap_compose_CriticalityDiagnostics(&asn1_ctx, 
                                p_e2ap_protocolIEs_elem->value.u._e2apRICqueryFailure_IEs_id_CriticalityDiagnostics,
                                &p_RICqueryFailure->id_CriticalityDiagnostics)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: Encoding failed for field CriticalityDiagnostics",__FUNCTION__);
                rtFreeContext(&asn1_ctx);
                //XNAP_UT_TRACE_EXIT();
                //return XNAP_FAILURE;
                break;
            }else{
            XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: Encoding success for field CriticalityDiagnostics",__FUNCTION__);
            }
            
            /* Append the node to protocolIEs list */
            rtxDListAppendNode(&p_RICqueryFailure->protocolIEs, p_node);
            rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP PDU", &e2ap_pdu);
        }
#endif

        /*ASN encode msg*/
        {
            if(RT_OK != pu_setBuffer(&asn1_ctx, p_asn_msg, XNAP_MAX_ASN1_BUF_LEN, TRUE)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: pu_setBuffer failed",__FUNCTION__);
                break;
            }
            if(0!=asn1PE_e2ap_E2AP_PDU(&asn1_ctx, &e2ap_pdu)){
                XNAP_TRACE(XNAP_ERROR,"dungnm23 - %s: ASN encoding failed",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                SInt8 buff[500];
                rtxErrGetTextBuf(&asn1_ctx, buff, 500);
                XNAP_TRACE(XNAP_ERROR, "dungnm23 BUFFER[%s], %x", (SInt8*)buff, buff);
                ASN_ERROR_PRINT(&asn1_ctx);
                break;
            }else{
                XNAP_TRACE(XNAP_INFO,"dungnm23 - %s: ASN encoding success",__FUNCTION__);
                *p_asn_msg_len = (UInt16)pe_GetMsgLen(&asn1_ctx);
                rrc_asn1PrtToStr_E2AP_PDU(XNAP_ASN, "E2AP_PDU", &e2ap_pdu);
                retVal = XNAP_SUCCESS;
            }
        }

    }while(0);
    rtFreeContext(&asn1_ctx);
    XNAP_UT_TRACE_EXIT();
    return retVal;
}